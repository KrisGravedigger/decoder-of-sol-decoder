2025-07-15 17:58:05,144 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,145 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:05,145 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,145 - DEEP_DEBUG - DEBUG -   position_id: pos_05-19-13-18-03_1056847
2025-07-15 17:58:05,145 - DEEP_DEBUG - DEBUG -   investment_sol: 2.21 (from CSV: 2.21)
2025-07-15 17:58:05,145 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.10106 (from CSV: 0.10106)
2025-07-15 17:58:05,145 - DEEP_DEBUG - DEBUG -   step_size: MEDIUM
2025-07-15 17:58:05,145 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:05,145 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,145 - DEEP_DEBUG - DEBUG -   Total points: 22
2025-07-15 17:58:05,145 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747652400, 'close': 0.012914157, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,145 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747728000, 'close': 0.009893277, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,145 - DEEP_DEBUG - DEBUG -   Valid prices: 22
2025-07-15 17:58:05,145 - DEEP_DEBUG - DEBUG -   Min price: 8.432017000000000e-03
2025-07-15 17:58:05,145 - DEEP_DEBUG - DEBUG -   Max price: 1.291415700000000e-02
2025-07-15 17:58:05,145 - DEEP_DEBUG - DEBUG -   Price ratio: 1.5315620212815038
2025-07-15 17:58:05,145 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,145 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,145 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,145 - DEEP_DEBUG - DEBUG -   investment_sol: 2.21 (type: <class 'float'>)
2025-07-15 17:58:05,145 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.10106 (type: <class 'float'>)
2025-07-15 17:58:05,145 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-19 13:18:03
2025-07-15 17:58:05,145 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-20 10:02:08
2025-07-15 17:58:05,145 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:05,145 - DEEP_DEBUG - DEBUG -   price_history length: 22
2025-07-15 17:58:05,145 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,145 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.012914157, 0.010838804, 0.010689769, 0.009904794, 0.011834758]
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.012199783, 0.010746903, 0.010714314, 0.009517744, 0.009893277]
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -   Initial price: 1.291415700000000e-02
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -   Final price: 9.893277000000001e-03
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -   Price ratio: 0.7660799694474831
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -   initial_sol: 2.21
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -   initial_price: 1.291415700000000e-02
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -   final_price: 9.893277000000001e-03
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -   price_ratio: 0.7660799694474831
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -   num_bins: 20
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 2.21 = 2.21 - 0
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -   Remaining SOL: 2.21
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -   Final asset value: 2.210000000000000e+00
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -   Initial SOL: 2.21
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -   initial_sol: 2.21
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -   initial_price: 1.291415700000000e-02
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -   final_price: 9.893277000000001e-03
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -   price_ratio: 0.7660799694474831
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -   num_bins: 20
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 2.21 = 2.21 - 0
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -   Remaining SOL: 2.21
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -   Final asset value: 2.210000000000000e+00
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -   Initial SOL: 2.21
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -     PnL: 2.210000000000000e-03
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -     PnL from fees: 2.210000000000000e-03
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -     PnL: 2.210000000000000e-03
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -     PnL from fees: 2.210000000000000e-03
2025-07-15 17:58:05,147 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   position_id: pos_05-19-15-56-34_9306058
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   investment_sol: 2.21 (from CSV: 2.21)
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.07817 (from CSV: 0.07817)
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   step_size: MEDIUM
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   Total points: 25
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747659600, 'close': 0.019537364, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747746000, 'close': 0.017133721, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   Valid prices: 25
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   Min price: 1.697776400000000e-02
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   Max price: 2.070534000000000e-02
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2195563561844776
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   investment_sol: 2.21 (type: <class 'float'>)
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.07817 (type: <class 'float'>)
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-19 15:56:34
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-20 15:58:11
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   price_history length: 25
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.019537364, 0.02070534, 0.019782703, 0.018152534, 0.017732756]
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.019659171, 0.018055459, 0.017964463, 0.017334077, 0.017133721]
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   Initial price: 1.953736400000000e-02
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   Final price: 1.713372100000000e-02
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   Price ratio: 0.8769719906943434
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   initial_sol: 2.21
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   initial_price: 1.953736400000000e-02
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   final_price: 1.713372100000000e-02
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8769719906943434
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   num_bins: 20
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 2.21 = 2.21 - 0
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   Remaining SOL: 2.21
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   Final asset value: 2.210000000000000e+00
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   Initial SOL: 2.21
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   initial_sol: 2.21
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   initial_price: 1.953736400000000e-02
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   final_price: 1.713372100000000e-02
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8769719906943434
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   num_bins: 20
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 2.21 = 2.21 - 0
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   Remaining SOL: 2.21
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   Final asset value: 2.210000000000000e+00
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   Initial SOL: 2.21
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -     PnL: 2.210000000000000e-03
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -     PnL from fees: 2.210000000000000e-03
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -     PnL: 2.210000000000000e-03
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -     PnL from fees: 2.210000000000000e-03
2025-07-15 17:58:05,148 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Collaterize-SOL
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   position_id: pos_05-20-08-28-57_34159180
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   investment_sol: 2.26 (from CSV: 2.26)
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01037 (from CSV: 0.01037)
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   Total points: 13
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747722000, 'close': 0.07806136, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747729200, 'close': 0.070123971, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   Valid prices: 13
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   Min price: 6.871034099999999e-02
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   Max price: 8.106882200000000e-02
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1798634793560405
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   investment_sol: 2.26 (type: <class 'float'>)
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01037 (type: <class 'float'>)
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-20 08:28:57
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-20 10:20:07
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   price_history length: 13
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.07806136, 0.07806136, 0.07806136, 0.081068822, 0.077083312]
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.069696622, 0.070419814, 0.070030405, 0.068710341, 0.070123971]
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   Initial price: 7.806136000000000e-02
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   Final price: 7.012397099999999e-02
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   Price ratio: 0.8983185919384443
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   initial_sol: 2.26
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   initial_price: 7.806136000000000e-02
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   final_price: 7.012397099999999e-02
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8983185919384443
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 2.26 = 2.26 - 0
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   Remaining SOL: 2.26
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   Final asset value: 2.260000000000000e+00
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   Initial SOL: 2.26
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   initial_sol: 2.26
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   initial_price: 7.806136000000000e-02
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   final_price: 7.012397099999999e-02
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8983185919384443
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 2.26 = 2.26 - 0
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   Remaining SOL: 2.26
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   Final asset value: 2.260000000000000e+00
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   Initial SOL: 2.26
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -     PnL: 2.260000000000000e-03
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -     PnL from fees: 2.260000000000000e-03
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -     PnL: 1.582000000000000e-03
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.582000000000000e-03
2025-07-15 17:58:05,149 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -   position_id: pos_05-20-11-05-34_34180706
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -   investment_sol: 2.2587 (from CSV: 2.2587)
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.09108 (from CSV: 0.09108)
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -   Total points: 18
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747731600, 'close': 0.025399482, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747741800, 'close': 0.030012315, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -   Valid prices: 18
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -   Min price: 2.383432100000000e-02
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -   Max price: 3.038319500000000e-02
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2747665435906483
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -   investment_sol: 2.2587 (type: <class 'float'>)
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.09108 (type: <class 'float'>)
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-20 11:05:34
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-20 13:51:40
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -   price_history length: 18
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.025399482, 0.023834321, 0.02533813, 0.02533813, 0.02533813]
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.026144488, 0.029091785, 0.028888132, 0.028888132, 0.030012315]
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -   Initial price: 2.539948200000000e-02
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -   Final price: 3.001231500000000e-02
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1816113021517525
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -   initial_sol: 2.2587
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -   initial_price: 2.539948200000000e-02
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -   final_price: 3.001231500000000e-02
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1816113021517525
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -   active_bin_index: 16
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 16 bins): 0.5237565217391306
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG - 
Calculating token values for 16 activated bins:
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.03273478260869565
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.552616349408988e-02 = 2.539948200000000e-02 * 1.004987562112089
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.282401196571306e+00 = 0.03273478260869565 / 2.552616349408988e-02
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -     Final value: 3.848782866787495e-02 = 1.282401196571306e+00 * 3.001231500000000e-02
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.848782866787495e-02 = 0.03273478260869565 * (3.001231500000000e-02 / 2.552616349408988e-02)
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.03273478260869565
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.578142512903079e-02 = 2.539948200000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,150 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.269704155021095e+00 = 0.03273478260869565 / 2.578142512903079e-02
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Final value: 3.810676105730193e-02 = 1.269704155021095e+00 * 3.001231500000000e-02
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.810676105730193e-02 = 0.03273478260869565 * (3.001231500000000e-02 / 2.578142512903079e-02)
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.03273478260869565
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.603923938032109e-02 = 2.539948200000000e-02 * 1.025187812110542
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.257132826753559e+00 = 0.03273478260869565 / 2.603923938032109e-02
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Final value: 3.772946639336825e-02 = 1.257132826753559e+00 * 3.001231500000000e-02
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.772946639336825e-02 = 0.03273478260869565 * (3.001231500000000e-02 / 2.603923938032109e-02)
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.03273478260869565
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.629963177412430e-02 = 2.539948200000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.244685967082732e+00 = 0.03273478260869565 / 2.629963177412430e-02
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Final value: 3.735590732016658e-02 = 1.244685967082732e+00 * 3.001231500000000e-02
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.735590732016658e-02 = 0.03273478260869565 * (3.001231500000000e-02 / 2.629963177412430e-02)
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.03273478260869565
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.656262809186555e-02 = 2.539948200000000e-02 * 1.045794087133964
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.232362343646269e+00 = 0.03273478260869565 / 2.656262809186555e-02
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Final value: 3.698604685165007e-02 = 1.232362343646269e+00 * 3.001231500000000e-02
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.698604685165007e-02 = 0.03273478260869565 * (3.001231500000000e-02 / 2.656262809186555e-02)
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 11 more bins processed)
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 1.7349434782608695 = 2.2587 - 0.5237565217391306
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -   Total token value: 5.721235944194981e-01
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -   Remaining SOL: 1.7349434782608695
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -   Final asset value: 2.307067072680367e+00
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -   Initial SOL: 2.2587
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -   PnL from assets: 4.836707268036733e-02
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -   initial_sol: 2.2587
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -   initial_price: 2.539948200000000e-02
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -   final_price: 3.001231500000000e-02
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1816113021517525
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -   active_bin_index: 16
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 16 bins): 0.6340062575839606
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG - 
Calculating token values for 16 activated bins:
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.04874376388448113
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.552616349408988e-02 = 2.539948200000000e-02 * 1.004987562112089
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.909560905843405e+00 = 0.04874376388448113 / 2.552616349408988e-02
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Final value: 5.731034341785760e-02 = 1.909560905843405e+00 * 3.001231500000000e-02
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Alt calculation: 5.731034341785760e-02 = 0.04874376388448113 * (3.001231500000000e-02 / 2.552616349408988e-02)
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.0473312067130883
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.578142512903079e-02 = 2.539948200000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.835864638056478e+00 = 0.0473312067130883 / 2.578142512903079e-02
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Final value: 5.509854781471202e-02 = 1.835864638056478e+00 * 3.001231500000000e-02
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Alt calculation: 5.509854781471201e-02 = 0.0473312067130883 * (3.001231500000000e-02 / 2.578142512903079e-02)
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.04596081542740867
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.603923938032109e-02 = 2.539948200000000e-02 * 1.025187812110542
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.765059829748450e+00 = 0.04596081542740867 / 2.603923938032109e-02
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Final value: 5.297353160425684e-02 = 1.765059829748450e+00 * 3.001231500000000e-02
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Alt calculation: 5.297353160425684e-02 = 0.04596081542740867 * (3.001231500000000e-02 / 2.603923938032109e-02)
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.04463259002744228
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.629963177412430e-02 = 2.539948200000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.697080415831351e+00 = 0.04463259002744228 / 2.629963177412430e-02
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Final value: 5.093331202026149e-02 = 1.697080415831351e+00 * 3.001231500000000e-02
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Alt calculation: 5.093331202026149e-02 = 0.04463259002744228 * (3.001231500000000e-02 / 2.629963177412430e-02)
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.043346530513189103
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.656262809186555e-02 = 2.539948200000000e-02 * 1.045794087133964
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.631861514729538e+00 = 0.043346530513189103 / 2.656262809186555e-02
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Final value: 4.897594181644005e-02 = 1.631861514729538e+00 * 3.001231500000000e-02
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     Alt calculation: 4.897594181644004e-02 = 0.043346530513189103 * (3.001231500000000e-02 / 2.656262809186555e-02)
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 11 more bins processed)
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 1.6246937424160395 = 2.2587 - 0.6340062575839606
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -   Total token value: 6.966886351379962e-01
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -   Remaining SOL: 1.6246937424160395
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -   Final asset value: 2.321382377554036e+00
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -   Initial SOL: 2.2587
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -   PnL from assets: 6.268237755403572e-02
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     PnL: 5.062577268036733e-02
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     PnL from fees: 2.258700000000000e-03
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     PnL from IL: 4.836707268036733e-02
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     PnL: 6.494107755403572e-02
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     PnL from fees: 2.258700000000000e-03
2025-07-15 17:58:05,151 - DEEP_DEBUG - DEBUG -     PnL from IL: 6.268237755403572e-02
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Collaterize-SOL
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   position_id: pos_05-20-18-37-39_34280964
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (from CSV: 5.75)
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03373 (from CSV: 0.03373)
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   Total points: 7
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747758600, 'close': 0.06986163, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747762200, 'close': 0.071129137, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   Valid prices: 7
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   Min price: 6.593504800000000e-02
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   Max price: 7.112913700000000e-02
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0787758431600747
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (type: <class 'float'>)
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03373 (type: <class 'float'>)
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-20 18:37:39
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-20 19:38:00
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   price_history length: 7
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.06986163, 0.068480213, 0.067769141, 0.065935048, 0.069172863]
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.067769141, 0.065935048, 0.069172863, 0.066979667, 0.071129137]
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   Initial price: 6.986162999999999e-02
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   Final price: 7.112913700000000e-02
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0181431065951367
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   initial_price: 6.986162999999999e-02
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   final_price: 7.112913700000000e-02
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0181431065951367
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   active_bin_index: 1
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 1 bins): 0.08333333333333333
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG - 
Calculating token values for 1 activated bins:
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.021006921887676e-02 = 6.986162999999999e-02 * 1.004987562112089
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.186914273984624e+00 = 0.08333333333333333 / 7.021006921887676e-02
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -     Final value: 8.442418800150787e-02 = 1.186914273984624e+00 * 7.112913700000000e-02
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.442418800150787e-02 = 0.08333333333333333 * (7.112913700000000e-02 / 7.021006921887676e-02)
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.666666666666667 = 5.75 - 0.08333333333333333
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   Total token value: 8.442418800150787e-02
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.666666666666667
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   Final asset value: 5.751090854668175e+00
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.090854668174934e-03
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   initial_price: 6.986162999999999e-02
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   final_price: 7.112913700000000e-02
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0181431065951367
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   active_bin_index: 1
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 1 bins): 0.12408759124087594
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG - 
Calculating token values for 1 activated bins:
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12408759124087594
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.021006921887676e-02 = 6.986162999999999e-02 * 1.004987562112089
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.767375999217981e+00 = 0.12408759124087594 / 7.021006921887676e-02
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -     Final value: 1.257119295788877e-01 = 1.767375999217981e+00 * 7.112913700000000e-02
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.257119295788877e-01 = 0.12408759124087594 * (7.112913700000000e-02 / 7.021006921887676e-02)
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.625912408759124 = 5.75 - 0.12408759124087594
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   Total token value: 1.257119295788877e-01
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.625912408759124
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   Final asset value: 5.751624338338011e+00
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.624338338011455e-03
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -     PnL: 6.840854668174934e-03
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.090854668174934e-03
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -     PnL: 5.649338338011455e-03
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.025000000000000e-03
2025-07-15 17:58:05,152 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.624338338011455e-03
2025-07-15 17:58:05,153 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,153 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Collaterize-SOL
2025-07-15 17:58:05,153 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,153 - DEEP_DEBUG - DEBUG -   position_id: pos_05-20-20-08-46_34294707
2025-07-15 17:58:05,153 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (from CSV: 5.75)
2025-07-15 17:58:05,153 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,153 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,153 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,153 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,153 - DEEP_DEBUG - DEBUG -   Total points: 19
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747764000, 'close': 0.07914365, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747828800, 'close': 0.07069564, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   Valid prices: 19
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   Min price: 6.844451000000000e-02
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   Max price: 8.315636200000000e-02
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2149456837370887
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (type: <class 'float'>)
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-20 20:08:46
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-21 14:56:56
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   price_history length: 19
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.07914365, 0.083115074, 0.083156362, 0.080724374, 0.077806655]
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.07376213, 0.06844451, 0.069422709, 0.069244552, 0.07069564]
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   Initial price: 7.914365000000000e-02
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   Final price: 7.069564000000000e-02
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   Price ratio: 0.8932572606898975
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   initial_price: 7.914365000000000e-02
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   final_price: 7.069564000000000e-02
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8932572606898975
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.75 = 5.75 - 0
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.75
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   Final asset value: 5.750000000000000e+00
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   initial_price: 7.914365000000000e-02
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   final_price: 7.069564000000000e-02
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8932572606898975
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.75 = 5.75 - 0
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.75
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   Final asset value: 5.750000000000000e+00
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -     PnL: 5.750000000000000e-03
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -     PnL: 5.750000000000000e-03
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Collaterize-SOL
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   position_id: pos_05-20-20-43-47_9465791
2025-07-15 17:58:05,154 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7493 (from CSV: 5.7493)
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   Total points: 1
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747766400, 'close': 0.081604539, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747766400, 'close': 0.081604539, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   Valid prices: 1
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   Min price: 8.160453900000000e-02
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   Max price: 8.160453900000000e-02
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7493 (type: <class 'float'>)
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-20 20:43:47
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-20 20:48:56
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   price_history length: 1
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   position_id: pos_05-20-21-05-04_34301707
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (from CSV: 5.75)
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   Total points: 24
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747767600, 'close': 0.036415199, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747850400, 'close': 0.044828647, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   Valid prices: 24
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   Min price: 3.293197800000000e-02
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   Max price: 4.779666900000000e-02
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   Price ratio: 1.4513755900116294
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (type: <class 'float'>)
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-20 21:05:04
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-21 20:22:08
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   price_history length: 24
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.036415199, 0.032931978, 0.035974629, 0.035284734, 0.034328215]
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.038647647, 0.040497342, 0.047796669, 0.046030324, 0.044828647]
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   Initial price: 3.641519900000000e-02
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   Final price: 4.482864700000000e-02
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2310422085020047
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   initial_price: 3.641519900000000e-02
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   final_price: 4.482864700000000e-02
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   price_ratio: 1.2310422085020047
2025-07-15 17:58:05,155 - DEEP_DEBUG - DEBUG -   active_bin_index: 20
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 20 bins): 1.666666666666666
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG - 
Calculating token values for 20 activated bins:
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.659682206683658e-02 = 3.641519900000000e-02 * 1.004987562112089
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.277064745707759e+00 = 0.08333333333333333 / 3.659682206683658e-02
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Final value: 1.020777316814779e-01 = 2.277064745707759e+00 * 4.482864700000000e-02
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.020777316814779e-01 = 0.08333333333333333 * (4.482864700000000e-02 / 3.659682206683658e-02)
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.696279028750495e-02 = 3.641519900000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.254519550205702e+00 = 0.08333333333333333 / 3.696279028750495e-02
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Final value: 1.010670610707702e-01 = 2.254519550205702e+00 * 4.482864700000000e-02
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.010670610707702e-01 = 0.08333333333333333 * (4.482864700000000e-02 / 3.696279028750495e-02)
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.733241819038000e-02 = 3.641519900000000e-02 * 1.025187812110542
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.232197574461091e+00 = 0.08333333333333333 / 3.733241819038000e-02
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Final value: 1.000663970997725e-01 = 2.232197574461091e+00 * 4.482864700000000e-02
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.000663970997725e-01 = 0.08333333333333333 * (4.482864700000000e-02 / 3.733241819038000e-02)
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.770574237228380e-02 = 3.641519900000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.210096608377317e+00 = 0.08333333333333333 / 3.770574237228380e-02
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Final value: 9.907564069284398e-02 = 2.210096608377317e+00 * 4.482864700000000e-02
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.907564069284400e-02 = 0.08333333333333333 * (4.482864700000000e-02 / 3.770574237228380e-02)
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.808279979600664e-02 = 3.641519900000000e-02 * 1.045794087133964
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.188214463739918e+00 = 0.08333333333333333 / 3.808279979600664e-02
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Final value: 9.809469375529110e-02 = 2.188214463739918e+00 * 4.482864700000000e-02
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.809469375529109e-02 = 0.08333333333333333 * (4.482864700000000e-02 / 3.808279979600664e-02)
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 15 more bins processed)
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.083333333333334 = 5.75 - 1.666666666666666
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -   Total token value: 1.860469604872200e+00
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.083333333333334
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -   Final asset value: 5.943802938205534e+00
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.938029382055335e-01
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -   initial_price: 3.641519900000000e-02
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -   final_price: 4.482864700000000e-02
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -   price_ratio: 1.2310422085020047
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -   active_bin_index: 20
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 20 bins): 1.9208887934735945
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG - 
Calculating token values for 20 activated bins:
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12408759124087594
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.659682206683658e-02 = 3.641519900000000e-02 * 1.004987562112089
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.390665752732722e+00 = 0.12408759124087594 / 3.659682206683658e-02
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Final value: 1.519989581242445e-01 = 3.390665752732722e+00 * 4.482864700000000e-02
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.519989581242445e-01 = 0.12408759124087594 * (4.482864700000000e-02 / 3.659682206683658e-02)
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12049162730785751
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.696279028750495e-02 = 3.641519900000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.259808752819968e+00 = 0.12049162730785751 / 3.696279028750495e-02
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Final value: 1.461328158676766e-01 = 3.259808752819968e+00 * 4.482864700000000e-02
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.461328158676766e-01 = 0.12049162730785751 * (4.482864700000000e-02 / 3.696279028750495e-02)
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11700300558179476
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.733241819038000e-02 = 3.641519900000000e-02 * 1.025187812110542
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.134085903172077e+00 = 0.11700300558179476 / 3.733241819038000e-02
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Final value: 1.404968306209772e-01 = 3.134085903172077e+00 * 4.482864700000000e-02
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.404968306209772e-01 = 0.11700300558179476 * (4.482864700000000e-02 / 3.733241819038000e-02)
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11362172606268788
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.770574237228380e-02 = 3.641519900000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.013379896909477e+00 = 0.11362172606268788 / 3.770574237228380e-02
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Final value: 1.350857436754513e-01 = 3.013379896909477e+00 * 4.482864700000000e-02
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.350857436754514e-01 = 0.11362172606268788 * (4.482864700000000e-02 / 3.770574237228380e-02)
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11034778875053675
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.808279979600664e-02 = 3.641519900000000e-02 * 1.045794087133964
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.897575528627699e+00 = 0.11034778875053675 / 3.808279979600664e-02
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Final value: 1.298943905286895e-01 = 2.897575528627699e+00 * 4.482864700000000e-02
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.298943905286895e-01 = 0.11034778875053675 * (4.482864700000000e-02 / 3.808279979600664e-02)
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 15 more bins processed)
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 3.8291112065264055 = 5.75 - 1.9208887934735945
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -   Total token value: 2.163717690808484e+00
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -   Remaining SOL: 3.8291112065264055
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -   Final asset value: 5.992828897334889e+00
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.428288973348893e-01
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     PnL: 1.995529382055335e-01
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.938029382055335e-01
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     PnL: 2.485788973348893e-01
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:05,156 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.428288973348893e-01
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   position_id: pos_05-21-06-45-49_25154029
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7495 (from CSV: 5.7495)
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.86737 (from CSV: -0.86737)
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   close_reason: SL
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   Total points: 25
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747800000, 'close': 0.020193929, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747886400, 'close': 0.015038508, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   Valid prices: 25
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   Min price: 1.503850800000000e-02
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   Max price: 2.121540000000000e-02
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   Price ratio: 1.410738352501458
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7495 (type: <class 'float'>)
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.86737 (type: <class 'float'>)
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-21 06:45:49
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-22 06:00:51
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   close_reason: SL
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   price_history length: 25
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.020193929, 0.021012697, 0.021147336, 0.020646065, 0.019549033]
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.016668127, 0.015709947, 0.015381269, 0.01518499, 0.015038508]
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   Initial price: 2.019392900000000e-02
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   Final price: 1.503850800000000e-02
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   Price ratio: 0.7447044109147853
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7495
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   initial_price: 2.019392900000000e-02
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   final_price: 1.503850800000000e-02
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   price_ratio: 0.7447044109147853
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7495 = 5.7495 - 0
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7495
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   Final asset value: 5.749500000000000e+00
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7495
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7495
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   initial_price: 2.019392900000000e-02
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   final_price: 1.503850800000000e-02
2025-07-15 17:58:05,157 - DEEP_DEBUG - DEBUG -   price_ratio: 0.7447044109147853
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7495 = 5.7495 - 0
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7495
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG -   Final asset value: 5.749500000000000e+00
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7495
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG -     PnL: 5.749500000000000e-03
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.749500000000000e-03
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG -     PnL: 3.449700000000000e-03
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG -     PnL from fees: 3.449700000000000e-03
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Collaterize-SOL
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG -   position_id: pos_05-21-14-56-56_34396077
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (from CSV: 5.76)
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.0197 (from CSV: 0.0197)
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG -   Total points: 10
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747830600, 'close': 0.07069564, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747846800, 'close': 0.060238125, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG -   Valid prices: 10
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG -   Min price: 6.020796800000000e-02
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG -   Max price: 7.069564000000000e-02
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1741907649166967
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,158 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (type: <class 'float'>)
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.0197 (type: <class 'float'>)
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-21 14:56:56
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-21 19:17:26
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   price_history length: 10
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.07069564, 0.06979899, 0.067982136, 0.068021034, 0.065281795]
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.060207968, 0.064245187, 0.064458868, 0.062844311, 0.060238125]
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   Initial price: 7.069564000000000e-02
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   Final price: 6.023812500000000e-02
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   Price ratio: 0.8520769456221061
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   initial_price: 7.069564000000000e-02
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   final_price: 6.023812500000000e-02
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8520769456221061
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.76 = 5.76 - 0
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.76
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   Final asset value: 5.760000000000000e+00
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   initial_price: 7.069564000000000e-02
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   final_price: 6.023812500000000e-02
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8520769456221061
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.76 = 5.76 - 0
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.76
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   Final asset value: 5.760000000000000e+00
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,159 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,160 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,160 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,160 - DEEP_DEBUG - DEBUG -     PnL: 5.759999999999999e-03
2025-07-15 17:58:05,160 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759999999999999e-03
2025-07-15 17:58:05,160 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,160 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,160 - DEEP_DEBUG - DEBUG -     PnL: 3.243987672697248e-03
2025-07-15 17:58:05,160 - DEEP_DEBUG - DEBUG -     PnL from fees: 3.243987672697248e-03
2025-07-15 17:58:05,160 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,161 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,161 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:05,161 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,161 - DEEP_DEBUG - DEBUG -   position_id: pos_05-21-17-44-40_1526595
2025-07-15 17:58:05,161 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (from CSV: 5.75)
2025-07-15 17:58:05,161 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03371 (from CSV: 0.03371)
2025-07-15 17:58:05,161 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,161 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,161 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,161 - DEEP_DEBUG - DEBUG -   Total points: 15
2025-07-15 17:58:05,161 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747842000, 'close': 0.040497342, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,161 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747850400, 'close': 0.048721516, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,161 - DEEP_DEBUG - DEBUG -   Valid prices: 15
2025-07-15 17:58:05,161 - DEEP_DEBUG - DEBUG -   Min price: 4.049734200000000e-02
2025-07-15 17:58:05,161 - DEEP_DEBUG - DEBUG -   Max price: 6.045769700000000e-02
2025-07-15 17:58:05,161 - DEEP_DEBUG - DEBUG -   Price ratio: 1.4928806191774264
2025-07-15 17:58:05,161 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,161 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,161 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,161 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (type: <class 'float'>)
2025-07-15 17:58:05,161 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03371 (type: <class 'float'>)
2025-07-15 17:58:05,161 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-21 17:44:40
2025-07-15 17:58:05,161 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-21 20:08:07
2025-07-15 17:58:05,161 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,161 - DEEP_DEBUG - DEBUG -   price_history length: 15
2025-07-15 17:58:05,161 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,161 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.040497342, 0.040497342, 0.041307024, 0.0425847, 0.045280696]
2025-07-15 17:58:05,161 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.05014208, 0.049900619, 0.047052762, 0.046030324, 0.048721516]
2025-07-15 17:58:05,161 - DEEP_DEBUG - DEBUG -   Initial price: 4.049734200000000e-02
2025-07-15 17:58:05,161 - DEEP_DEBUG - DEBUG -   Final price: 4.872151600000000e-02
2025-07-15 17:58:05,161 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2030793527140622
2025-07-15 17:58:05,161 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -   initial_price: 4.049734200000000e-02
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -   final_price: 4.872151600000000e-02
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -   price_ratio: 1.2030793527140622
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -   active_bin_index: 18
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 18 bins): 1.4999999999999996
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG - 
Calculating token values for 18 activated bins:
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.069932500859950e-02 = 4.049734200000000e-02 * 1.004987562112089
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.047536004976140e+00 = 0.08333333333333333 / 4.069932500859950e-02
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -     Final value: 9.975905822702108e-02 = 2.047536004976140e+00 * 4.872151600000000e-02
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.975905822702108e-02 = 0.08333333333333333 * (4.872151600000000e-02 / 4.069932500859950e-02)
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.110631825868551e-02 = 4.049734200000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.027263371263504e+00 = 0.08333333333333333 / 4.110631825868551e-02
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -     Final value: 9.877134477922878e-02 = 2.027263371263504e+00 * 4.872151600000000e-02
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.877134477922878e-02 = 0.08333333333333333 * (4.872151600000000e-02 / 4.110631825868551e-02)
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.151738144127236e-02 = 4.049734200000000e-02 * 1.025187812110542
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.007191456696539e+00 = 0.08333333333333333 / 4.151738144127236e-02
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -     Final value: 9.779341067250376e-02 = 2.007191456696539e+00 * 4.872151600000000e-02
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.779341067250374e-02 = 0.08333333333333333 * (4.872151600000000e-02 / 4.151738144127236e-02)
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.193255525568508e-02 = 4.049734200000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.987318273956970e+00 = 0.08333333333333333 / 4.193255525568508e-02
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -     Final value: 9.682515908168689e-02 = 1.987318273956970e+00 * 4.872151600000000e-02
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.682515908168687e-02 = 0.08333333333333333 * (4.872151600000000e-02 / 4.193255525568508e-02)
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.235188080824193e-02 = 4.049734200000000e-02 * 1.045794087133964
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.967641855402940e+00 = 0.08333333333333333 / 4.235188080824193e-02
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -     Final value: 9.586649414028403e-02 = 1.967641855402940e+00 * 4.872151600000000e-02
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.586649414028403e-02 = 0.08333333333333333 * (4.872151600000000e-02 / 4.235188080824193e-02)
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 13 more bins processed)
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.25 = 5.75 - 1.4999999999999996
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -   Total token value: 1.652234588485419e+00
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.25
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -   Final asset value: 5.902234588485419e+00
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.522345884854186e-01
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -   initial_price: 4.049734200000000e-02
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -   final_price: 4.872151600000000e-02
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -   price_ratio: 1.2030793527140622
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -   active_bin_index: 18
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 18 bins): 1.7709854014598545
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG - 
Calculating token values for 18 activated bins:
2025-07-15 17:58:05,162 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12408759124087594
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.069932500859950e-02 = 4.049734200000000e-02 * 1.004987562112089
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.048885730037465e+00 = 0.12408759124087594 / 4.069932500859950e-02
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG -     Final value: 1.485463348781920e-01 = 3.048885730037465e+00 * 4.872151600000000e-02
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.485463348781920e-01 = 0.12408759124087594 * (4.872151600000000e-02 / 4.069932500859950e-02)
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12049162730785751
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.110631825868551e-02 = 4.049734200000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.931219151021836e+00 = 0.12049162730785751 / 4.110631825868551e-02
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG -     Final value: 1.428134407660168e-01 = 2.931219151021836e+00 * 4.872151600000000e-02
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.428134407660168e-01 = 0.12049162730785751 * (4.872151600000000e-02 / 4.110631825868551e-02)
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11700300558179476
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.151738144127236e-02 = 4.049734200000000e-02 * 1.025187812110542
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.818169198539151e+00 = 0.11700300558179476 / 4.151738144127236e-02
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG -     Final value: 1.373054756973325e-01 = 2.818169198539151e+00 * 4.872151600000000e-02
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.373054756973324e-01 = 0.11700300558179476 * (4.872151600000000e-02 / 4.151738144127236e-02)
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11362172606268788
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.193255525568508e-02 = 4.049734200000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.709630390274950e+00 = 0.11362172606268788 / 4.193255525568508e-02
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG -     Final value: 1.320173004138672e-01 = 2.709630390274950e+00 * 4.872151600000000e-02
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.320173004138672e-01 = 0.11362172606268788 * (4.872151600000000e-02 / 4.193255525568508e-02)
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11034778875053675
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.235188080824193e-02 = 4.049734200000000e-02 * 1.045794087133964
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.605499133560614e+00 = 0.11034778875053675 / 4.235188080824193e-02
2025-07-15 17:58:05,163 - DEEP_DEBUG - DEBUG -     Final value: 1.269438677237596e-01 = 2.605499133560614e+00 * 4.872151600000000e-02
2025-07-15 17:58:05,164 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.269438677237596e-01 = 0.11034778875053675 * (4.872151600000000e-02 / 4.235188080824193e-02)
2025-07-15 17:58:05,164 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 13 more bins processed)
2025-07-15 17:58:05,164 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 3.9790145985401457 = 5.75 - 1.7709854014598545
2025-07-15 17:58:05,164 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,164 - DEEP_DEBUG - DEBUG -   Total token value: 1.965279909297774e+00
2025-07-15 17:58:05,164 - DEEP_DEBUG - DEBUG -   Remaining SOL: 3.9790145985401457
2025-07-15 17:58:05,164 - DEEP_DEBUG - DEBUG -   Final asset value: 5.944294507837919e+00
2025-07-15 17:58:05,164 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,164 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.942945078379195e-01
2025-07-15 17:58:05,164 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,164 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,164 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,164 - DEEP_DEBUG - DEBUG -     PnL: 1.579845884854186e-01
2025-07-15 17:58:05,164 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:05,164 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.522345884854186e-01
2025-07-15 17:58:05,164 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,164 - DEEP_DEBUG - DEBUG -     PnL: 1.983195078379195e-01
2025-07-15 17:58:05,164 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.025000000000000e-03
2025-07-15 17:58:05,164 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.942945078379195e-01
2025-07-15 17:58:05,164 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,164 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Housecoin-SOL
2025-07-15 17:58:05,164 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,164 - DEEP_DEBUG - DEBUG -   position_id: pos_05-21-20-09-48_1534320
2025-07-15 17:58:05,164 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (from CSV: 5.75)
2025-07-15 17:58:05,164 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.0415 (from CSV: 0.0415)
2025-07-15 17:58:05,164 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,164 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,164 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   Total points: 20
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747850400, 'close': 0.054202389, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747884600, 'close': 0.055959212, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   Valid prices: 20
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   Min price: 4.876681000000000e-02
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   Max price: 5.877571600000000e-02
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2052401213038129
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (type: <class 'float'>)
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.0415 (type: <class 'float'>)
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-21 20:09:48
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-22 05:34:14
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   price_history length: 20
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.054202389, 0.054137901, 0.052698616, 0.058294642, 0.058775716]
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.052452221, 0.050131341, 0.054288844, 0.054605551, 0.055959212]
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   Initial price: 5.420238900000000e-02
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   Final price: 5.595921200000000e-02
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0324122798351196
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   initial_price: 5.420238900000000e-02
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   final_price: 5.595921200000000e-02
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0324122798351196
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.25
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.447272678176111e-02 = 5.420238900000000e-02 * 1.004987562112089
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.529817548278775e+00 = 0.08333333333333333 / 5.447272678176111e-02
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -     Final value: 8.560738450545220e-02 = 1.529817548278775e+00 * 5.595921200000000e-02
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.560738450545220e-02 = 0.08333333333333333 * (5.595921200000000e-02 / 5.447272678176111e-02)
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.501745404957872e-02 = 5.420238900000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.514670839879975e+00 = 0.08333333333333333 / 5.501745404957872e-02
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -     Final value: 8.475978663906159e-02 = 1.514670839879975e+00 * 5.595921200000000e-02
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.475978663906159e-02 = 0.08333333333333333 * (5.595921200000000e-02 / 5.501745404957872e-02)
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.556762859007450e-02 = 5.420238900000000e-02 * 1.025187812110542
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.499674098891064e+00 = 0.08333333333333333 / 5.556762859007450e-02
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -     Final value: 8.392058083075404e-02 = 1.499674098891064e+00 * 5.595921200000000e-02
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.392058083075404e-02 = 0.08333333333333333 * (5.595921200000000e-02 / 5.556762859007450e-02)
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.5 = 5.75 - 0.25
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   Total token value: 2.542877519752678e-01
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.5
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   Final asset value: 5.754287751975268e+00
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   PnL from assets: 4.287751975267540e-03
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   initial_price: 5.420238900000000e-02
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   final_price: 5.595921200000000e-02
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0324122798351196
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.3615822241305282
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12408759124087594
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.447272678176111e-02 = 5.420238900000000e-02 * 1.004987562112089
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.277976495247227e+00 = 0.12408759124087594 / 5.447272678176111e-02
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -     Final value: 1.274737696285566e-01 = 2.277976495247227e+00 * 5.595921200000000e-02
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.274737696285566e-01 = 0.12408759124087594 * (5.595921200000000e-02 / 5.447272678176111e-02)
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12049162730785751
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.501745404957872e-02 = 5.420238900000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.190061851994770e+00 = 0.12049162730785751 / 5.501745404957872e-02
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -     Final value: 1.225541354688880e-01 = 2.190061851994770e+00 * 5.595921200000000e-02
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.225541354688880e-01 = 0.12049162730785751 * (5.595921200000000e-02 / 5.501745404957872e-02)
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11700300558179476
2025-07-15 17:58:05,165 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.556762859007450e-02 = 5.420238900000000e-02 * 1.025187812110542
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.105596523561091e+00 = 0.11700300558179476 / 5.556762859007450e-02
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -     Final value: 1.178275222484181e-01 = 2.105596523561091e+00 * 5.595921200000000e-02
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.178275222484181e-01 = 0.11700300558179476 * (5.595921200000000e-02 / 5.556762859007450e-02)
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.388417775869472 = 5.75 - 0.3615822241305282
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -   Total token value: 3.678554273458626e-01
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.388417775869472
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -   Final asset value: 5.756273203215335e+00
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -   PnL from assets: 6.273203215334533e-03
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -     PnL: 1.003775197526754e-02
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -     PnL from IL: 4.287751975267540e-03
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -     PnL: 1.029820321533453e-02
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.025000000000000e-03
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -     PnL from IL: 6.273203215334533e-03
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -   position_id: pos_05-21-20-22-08_34421029
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (from CSV: 5.76)
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -   Total points: 2
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747851600, 'close': 0.046751299, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747852200, 'close': 0.046180158, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -   Valid prices: 2
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -   Min price: 4.618015800000000e-02
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -   Max price: 4.675129900000000e-02
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0123676709811171
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (type: <class 'float'>)
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-21 20:22:08
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-21 20:30:08
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG -   price_history length: 2
2025-07-15 17:58:05,166 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,167 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.046751299, 0.046180158]
2025-07-15 17:58:05,167 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.046751299, 0.046180158]
2025-07-15 17:58:05,167 - DEEP_DEBUG - DEBUG -   Initial price: 4.675129900000000e-02
2025-07-15 17:58:05,167 - DEEP_DEBUG - DEBUG -   Final price: 4.618015800000000e-02
2025-07-15 17:58:05,167 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9877834196649807
2025-07-15 17:58:05,167 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,167 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,167 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,167 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:05,167 - DEEP_DEBUG - DEBUG -   initial_price: 4.675129900000000e-02
2025-07-15 17:58:05,167 - DEEP_DEBUG - DEBUG -   final_price: 4.618015800000000e-02
2025-07-15 17:58:05,167 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9877834196649807
2025-07-15 17:58:05,167 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,167 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,167 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,167 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,167 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,167 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.76 = 5.76 - 0
2025-07-15 17:58:05,167 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,167 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,167 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.76
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -   Final asset value: 5.760000000000000e+00
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -   initial_price: 4.675129900000000e-02
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -   final_price: 4.618015800000000e-02
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9877834196649807
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.76 = 5.76 - 0
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.76
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -   Final asset value: 5.760000000000000e+00
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -     PnL: 5.759999999999999e-03
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759999999999999e-03
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -     PnL: 5.759999999999999e-03
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759999999999999e-03
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Collaterize-SOL
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -   position_id: pos_05-21-22-06-35_9722249
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (from CSV: 5.75)
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03319 (from CSV: 0.03319)
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -   Total points: 11
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747857600, 'close': 0.052659735, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747875600, 'close': 0.051793236, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -   Valid prices: 11
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -   Min price: 4.964027200000000e-02
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -   Max price: 5.950912300000000e-02
2025-07-15 17:58:05,168 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1988073514182194
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (type: <class 'float'>)
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03319 (type: <class 'float'>)
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-21 22:06:35
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-22 03:20:13
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   price_history length: 11
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.052659735, 0.051606802, 0.056454679, 0.059509123, 0.059509123]
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.059509123, 0.059509123, 0.049640272, 0.052446881, 0.051793236]
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   Initial price: 5.265973500000000e-02
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   Final price: 5.179323600000000e-02
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   Price ratio: 0.983545321676989
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   initial_price: 5.265973500000000e-02
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   final_price: 5.179323600000000e-02
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   price_ratio: 0.983545321676989
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.75 = 5.75 - 0
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.75
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   Final asset value: 5.750000000000000e+00
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   initial_price: 5.265973500000000e-02
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   final_price: 5.179323600000000e-02
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   price_ratio: 0.983545321676989
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.75 = 5.75 - 0
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.75
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   Final asset value: 5.750000000000000e+00
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -     PnL: 5.750000000000000e-03
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -     PnL: 4.025000000000000e-03
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.025000000000000e-03
2025-07-15 17:58:05,169 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for titcoin-SOL
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   position_id: pos_05-22-03-31-35_9741293
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (from CSV: 5.75)
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   Total points: 14
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747875600, 'close': 0.051845679, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747922400, 'close': 0.050520917, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   Valid prices: 14
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   Min price: 5.052091700000000e-02
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   Max price: 5.712654700000000e-02
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1307503978995472
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (type: <class 'float'>)
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-22 03:31:35
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-22 16:22:13
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   price_history length: 14
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.051845679, 0.054982361, 0.055235193, 0.053744902, 0.053276461]
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.055622926, 0.055436959, 0.056358123, 0.052508741, 0.050520917]
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   Initial price: 5.184567900000000e-02
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   Final price: 5.052091700000000e-02
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   Price ratio: 0.974447976657804
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   initial_price: 5.184567900000000e-02
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   final_price: 5.052091700000000e-02
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   price_ratio: 0.974447976657804
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.75 = 5.75 - 0
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.75
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   Final asset value: 5.750000000000000e+00
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   initial_price: 5.184567900000000e-02
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   final_price: 5.052091700000000e-02
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   price_ratio: 0.974447976657804
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.75 = 5.75 - 0
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.75
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   Final asset value: 5.750000000000000e+00
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -     PnL: 5.750000000000000e-03
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -     PnL: 5.750000000000000e-03
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   position_id: pos_05-22-05-36-59_1563771
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (from CSV: 5.75)
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03908 (from CSV: 0.03908)
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   Total points: 24
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747884600, 'close': 0.065418556, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,170 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747898400, 'close': 0.067940301, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   Valid prices: 24
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   Min price: 6.274741100000000e-02
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   Max price: 6.794030099999999e-02
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0827586336590045
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (type: <class 'float'>)
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03908 (type: <class 'float'>)
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-22 05:36:59
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-22 09:29:21
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   price_history length: 24
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.065418556, 0.065418556, 0.065418556, 0.065418556, 0.065418556]
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.065418556, 0.065418556, 0.065418556, 0.062747411, 0.067940301]
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   Initial price: 6.541855600000000e-02
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   Final price: 6.794030099999999e-02
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0385478548318918
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   initial_price: 6.541855600000000e-02
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   final_price: 6.794030099999999e-02
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0385478548318918
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.25
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.574483511133317e-02 = 6.541855600000000e-02 * 1.004987562112089
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.267526691522088e+00 = 0.08333333333333333 / 6.574483511133317e-02
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     Final value: 8.611614494754480e-02 = 1.267526691522088e+00 * 6.794030099999999e-02
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.611614494754480e-02 = 0.08333333333333333 * (6.794030099999999e-02 / 6.574483511133317e-02)
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.640228346244650e-02 = 6.541855600000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.254976922299097e+00 = 0.08333333333333333 / 6.640228346244650e-02
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     Final value: 8.526350984905424e-02 = 1.254976922299097e+00 * 6.794030099999999e-02
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.526350984905424e-02 = 0.08333333333333333 * (6.794030099999999e-02 / 6.640228346244650e-02)
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.706630629707097e-02 = 6.541855600000000e-02 * 1.025187812110542
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.242551408216928e+00 = 0.08333333333333333 / 6.706630629707097e-02
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     Final value: 8.441931668223192e-02 = 1.242551408216928e+00 * 6.794030099999999e-02
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.441931668223192e-02 = 0.08333333333333333 * (6.794030099999999e-02 / 6.706630629707097e-02)
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.5 = 5.75 - 0.25
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   Total token value: 2.557989714788310e-01
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.5
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   Final asset value: 5.755798971478831e+00
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   PnL from assets: 5.798971478831128e-03
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   initial_price: 6.541855600000000e-02
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   final_price: 6.794030099999999e-02
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0385478548318918
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.3615822241305282
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12408759124087594
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.574483511133317e-02 = 6.541855600000000e-02 * 1.004987562112089
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.887412007813912e+00 = 0.12408759124087594 / 6.574483511133317e-02
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     Final value: 1.282313399218916e-01 = 1.887412007813912e+00 * 6.794030099999999e-02
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.282313399218916e-01 = 0.12408759124087594 * (6.794030099999999e-02 / 6.574483511133317e-02)
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12049162730785751
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.640228346244650e-02 = 6.541855600000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.814570539219498e+00 = 0.12049162730785751 / 6.640228346244650e-02
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     Final value: 1.232824686203050e-01 = 1.814570539219498e+00 * 6.794030099999999e-02
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.232824686203050e-01 = 0.12049162730785751 * (6.794030099999999e-02 / 6.640228346244650e-02)
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11700300558179476
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.706630629707097e-02 = 6.541855600000000e-02 * 1.025187812110542
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.744586992215265e+00 = 0.11700300558179476 / 6.706630629707097e-02
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     Final value: 1.185277653717898e-01 = 1.744586992215265e+00 * 6.794030099999999e-02
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.185277653717898e-01 = 0.11700300558179476 * (6.794030099999999e-02 / 6.706630629707097e-02)
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.388417775869472 = 5.75 - 0.3615822241305282
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   Total token value: 3.700415739139863e-01
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.388417775869472
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   Final asset value: 5.758459349783458e+00
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   PnL from assets: 8.459349783458414e-03
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     PnL: 1.154897147883113e-02
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:05,171 - DEEP_DEBUG - DEBUG -     PnL from IL: 5.798971478831128e-03
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -     PnL: 1.420934978345841e-02
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -     PnL from IL: 8.459349783458414e-03
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -   position_id: pos_05-22-09-34-47_1575410
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (from CSV: 5.75)
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -   Total points: 19
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747897200, 'close': 0.068819258, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747962000, 'close': 0.086757642, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -   Valid prices: 19
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -   Min price: 6.851474000000000e-02
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -   Max price: 9.959455300000000e-02
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -   Price ratio: 1.4536222862408876
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (type: <class 'float'>)
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-22 09:34:47
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-23 03:37:47
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -   price_history length: 19
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.068819258, 0.06851474, 0.091702764, 0.086149779, 0.087047242]
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.081242727, 0.086239338, 0.090848413, 0.090162502, 0.086757642]
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -   Initial price: 6.881925799999999e-02
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -   Final price: 8.675764200000000e-02
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2606593636914831
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -   initial_price: 6.881925799999999e-02
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -   final_price: 8.675764200000000e-02
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -   price_ratio: 1.2606593636914831
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -   active_bin_index: 23
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 23 bins): 1.9166666666666659
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG - 
Calculating token values for 23 activated bins:
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.916249832378286e-02 = 6.881925799999999e-02 * 1.004987562112089
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.204891890157148e+00 = 0.08333333333333333 / 6.916249832378286e-02
2025-07-15 17:58:05,172 - DEEP_DEBUG - DEBUG -     Final value: 1.045335792549572e-01 = 1.204891890157148e+00 * 8.675764200000000e-02
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.045335792549572e-01 = 0.08333333333333333 * (8.675764200000000e-02 / 6.916249832378286e-02)
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.985412330702070e-02 = 6.881925799999999e-02 * 1.0150374377332099
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.192962267482325e+00 = 0.08333333333333333 / 6.985412330702070e-02
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Final value: 1.034985933217398e-01 = 1.192962267482325e+00 * 8.675764200000000e-02
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.034985933217398e-01 = 0.08333333333333333 * (8.675764200000000e-02 / 6.985412330702070e-02)
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.055266454009090e-02 = 6.881925799999999e-02 * 1.025187812110542
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.181150759883490e+00 = 0.08333333333333333 / 7.055266454009090e-02
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Final value: 1.024738547739998e-01 = 1.181150759883490e+00 * 8.675764200000000e-02
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.024738547739998e-01 = 0.08333333333333333 * (8.675764200000000e-02 / 7.055266454009090e-02)
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.125819118549181e-02 = 6.881925799999999e-02 * 1.0354396902316474
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.169456197904446e+00 = 0.08333333333333333 / 7.125819118549181e-02
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Final value: 1.014592621524750e-01 = 1.169456197904446e+00 * 8.675764200000000e-02
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.014592621524750e-01 = 0.08333333333333333 * (8.675764200000000e-02 / 7.125819118549181e-02)
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.197077309734674e-02 = 6.881925799999999e-02 * 1.045794087133964
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.157877423667768e+00 = 0.08333333333333333 / 7.197077309734674e-02
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Final value: 1.004547150024505e-01 = 1.157877423667768e+00 * 8.675764200000000e-02
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.004547150024505e-01 = 0.08333333333333333 * (8.675764200000000e-02 / 7.197077309734674e-02)
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 18 more bins processed)
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 3.833333333333334 = 5.75 - 1.9166666666666659
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -   Total token value: 2.159703401332814e+00
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -   Remaining SOL: 3.833333333333334
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -   Final asset value: 5.993036734666148e+00
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.430367346661484e-01
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -   initial_price: 6.881925799999999e-02
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -   final_price: 8.675764200000000e-02
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -   price_ratio: 1.2606593636914831
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -   active_bin_index: 23
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 23 bins): 2.134338772005153
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG - 
Calculating token values for 23 activated bins:
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12408759124087594
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.916249832378286e-02 = 6.881925799999999e-02 * 1.004987562112089
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.794145588263199e+00 = 0.12408759124087594 / 6.916249832378286e-02
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Final value: 1.556558406424181e-01 = 1.794145588263199e+00 * 8.675764200000000e-02
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.556558406424181e-01 = 0.12408759124087594 * (8.675764200000000e-02 / 6.916249832378286e-02)
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12049162730785751
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.985412330702070e-02 = 6.881925799999999e-02 * 1.0150374377332099
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.724903579109803e+00 = 0.12049162730785751 / 6.985412330702070e-02
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Final value: 1.496485672009270e-01 = 1.724903579109803e+00 * 8.675764200000000e-02
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.496485672009270e-01 = 0.12049162730785751 * (8.675764200000000e-02 / 6.985412330702070e-02)
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11700300558179476
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.055266454009090e-02 = 6.881925799999999e-02 * 1.025187812110542
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.658378267419069e+00 = 0.11700300558179476 / 7.055266454009090e-02
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Final value: 1.438769880253239e-01 = 1.658378267419069e+00 * 8.675764200000000e-02
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.438769880253239e-01 = 0.11700300558179476 * (8.675764200000000e-02 / 7.055266454009090e-02)
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11362172606268788
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.125819118549181e-02 = 6.881925799999999e-02 * 1.0354396902316474
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.594507581127337e+00 = 0.11362172606268788 / 7.125819118549181e-02
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Final value: 1.383357178897314e-01 = 1.594507581127337e+00 * 8.675764200000000e-02
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.383357178897315e-01 = 0.11362172606268788 * (8.675764200000000e-02 / 7.125819118549181e-02)
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11034778875053675
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.197077309734674e-02 = 6.881925799999999e-02 * 1.045794087133964
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.533230560150879e+00 = 0.11034778875053675 / 7.197077309734674e-02
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Final value: 1.330194680410294e-01 = 1.533230560150879e+00 * 8.675764200000000e-02
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.330194680410294e-01 = 0.11034778875053675 * (8.675764200000000e-02 / 7.197077309734674e-02)
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 18 more bins processed)
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 3.615661227994847 = 5.75 - 2.134338772005153
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -   Total token value: 2.433071433827762e+00
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -   Remaining SOL: 3.615661227994847
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -   Final asset value: 6.048732661822608e+00
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.987326618226085e-01
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     PnL: 2.487867346661484e-01
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.430367346661484e-01
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     PnL: 3.044826618226085e-01
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:05,173 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.987326618226085e-01
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for XBT-SOL
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   position_id: pos_05-22-15-56-09_1577081
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (from CSV: 5.75)
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.2125 (from CSV: 0.2125)
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   Total points: 23
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747918800, 'close': 0.00814476, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747998000, 'close': 0.00470265, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   Valid prices: 23
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   Min price: 4.702650000000000e-03
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   Max price: 1.036948800000000e-02
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   Price ratio: 2.205030780517368
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (type: <class 'float'>)
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.2125 (type: <class 'float'>)
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-22 15:56:09
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-23 13:37:50
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   price_history length: 23
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.00814476, 0.008532864, 0.010369488, 0.008087413, 0.007137165]
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.006211961, 0.00650392, 0.005774177, 0.006519658, 0.00470265]
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   Initial price: 8.144759999999999e-03
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   Final price: 4.702650000000000e-03
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   Price ratio: 0.5773834956462807
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   initial_price: 8.144759999999999e-03
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   final_price: 4.702650000000000e-03
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   price_ratio: 0.5773834956462807
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.75 = 5.75 - 0
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.75
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   Final asset value: 5.750000000000000e+00
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   initial_price: 8.144759999999999e-03
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   final_price: 4.702650000000000e-03
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   price_ratio: 0.5773834956462807
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.75 = 5.75 - 0
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.75
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   Final asset value: 5.750000000000000e+00
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -     PnL: 5.750000000000000e-03
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -     PnL: 5.750000000000000e-03
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:05,174 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for titcoin-SOL
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   position_id: pos_05-22-16-22-13_9796638
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7582 (from CSV: 5.7582)
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02017 (from CSV: 0.02017)
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   Total points: 8
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747923600, 'close': 0.051943364, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747927800, 'close': 0.051789552, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   Valid prices: 8
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   Min price: 5.052091700000000e-02
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   Max price: 5.214519500000000e-02
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0321506040755357
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7582 (type: <class 'float'>)
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02017 (type: <class 'float'>)
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-22 16:22:13
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-22 17:34:28
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   price_history length: 8
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.051943364, 0.051943364, 0.052145195, 0.050520917, 0.050533978]
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.050520917, 0.050533978, 0.051536298, 0.050781864, 0.051789552]
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   Initial price: 5.194336400000000e-02
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   Final price: 5.178955200000000e-02
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9970388517771009
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7582
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   initial_price: 5.194336400000000e-02
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   final_price: 5.178955200000000e-02
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9970388517771009
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7582 = 5.7582 - 0
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7582
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   Final asset value: 5.758200000000000e+00
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7582
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7582
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   initial_price: 5.194336400000000e-02
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   final_price: 5.178955200000000e-02
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9970388517771009
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7582 = 5.7582 - 0
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,175 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,176 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7582
2025-07-15 17:58:05,176 - DEEP_DEBUG - DEBUG -   Final asset value: 5.758200000000000e+00
2025-07-15 17:58:05,176 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7582
2025-07-15 17:58:05,176 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,176 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,176 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,176 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,176 - DEEP_DEBUG - DEBUG -     PnL: 5.758200000000001e-03
2025-07-15 17:58:05,176 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.758200000000001e-03
2025-07-15 17:58:05,176 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,176 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,176 - DEEP_DEBUG - DEBUG -     PnL: 4.030740000000001e-03
2025-07-15 17:58:05,176 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.030740000000001e-03
2025-07-15 17:58:05,176 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,176 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,176 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:05,176 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,176 - DEEP_DEBUG - DEBUG -   position_id: pos_05-22-17-15-15_25310125
2025-07-15 17:58:05,176 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7587 (from CSV: 5.7587)
2025-07-15 17:58:05,176 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.18139 (from CSV: 0.18139)
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   Total points: 13
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747926000, 'close': 0.089160966, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747947600, 'close': 0.082761045, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   Valid prices: 13
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   Min price: 8.058657200000000e-02
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   Max price: 9.959455300000000e-02
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2358703258900257
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7587 (type: <class 'float'>)
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.18139 (type: <class 'float'>)
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-22 17:15:15
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-22 23:05:09
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   price_history length: 13
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.089160966, 0.099594553, 0.091862267, 0.094378609, 0.095836854]
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.089661216, 0.083626575, 0.080586572, 0.082206618, 0.082761045]
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   Initial price: 8.916096599999999e-02
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   Final price: 8.276104500000001e-02
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9282205959948887
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7587
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   initial_price: 8.916096599999999e-02
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   final_price: 8.276104500000001e-02
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9282205959948887
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7587 = 5.7587 - 0
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7587
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   Final asset value: 5.758700000000000e+00
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7587
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7587
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   initial_price: 8.916096599999999e-02
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   final_price: 8.276104500000001e-02
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9282205959948887
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7587 = 5.7587 - 0
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7587
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   Final asset value: 5.758700000000000e+00
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7587
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -     PnL: 5.758700000000000e-03
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.758700000000000e-03
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -     PnL: 5.758700000000000e-03
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.758700000000000e-03
2025-07-15 17:58:05,177 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Housecoin-SOL
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -   position_id: pos_05-22-18-47-17_9817671
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7589 (from CSV: 5.7589)
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03687 (from CSV: 0.03687)
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -   Total points: 31
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747929600, 'close': 0.05266171, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748037600, 'close': 0.054337874, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -   Valid prices: 31
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -   Min price: 4.913970000000000e-02
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -   Max price: 6.202882000000000e-02
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -   Price ratio: 1.262295455609212
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7589 (type: <class 'float'>)
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03687 (type: <class 'float'>)
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-22 18:47:17
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-24 00:37:24
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -   price_history length: 31
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.05266171, 0.0491397, 0.05291386, 0.049558085, 0.050732882]
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.06202882, 0.061407213, 0.060363198, 0.056989289, 0.054337874]
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -   Initial price: 5.266171000000000e-02
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -   Final price: 5.433787400000000e-02
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0318288942763159
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7589
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -   initial_price: 5.266171000000000e-02
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -   final_price: 5.433787400000000e-02
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0318288942763159
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.25038695652173915
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08346231884057971
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.292436354955381e-02 = 5.266171000000000e-02 * 1.004987562112089
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.577011290129787e+00 = 0.08346231884057971 / 5.292436354955381e-02
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -     Final value: 8.569144077964978e-02 = 1.577011290129787e+00 * 5.433787400000000e-02
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.569144077964978e-02 = 0.08346231884057971 * (5.433787400000000e-02 / 5.292436354955381e-02)
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08346231884057971
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.345360718504936e-02 = 5.266171000000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.561397316960184e+00 = 0.08346231884057971 / 5.345360718504936e-02
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -     Final value: 8.484301067292056e-02 = 1.561397316960184e+00 * 5.433787400000000e-02
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.484301067292058e-02 = 0.08346231884057971 * (5.433787400000000e-02 / 5.345360718504936e-02)
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08346231884057971
2025-07-15 17:58:05,178 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.398814325689985e-02 = 5.266171000000000e-02 * 1.025187812110542
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.545937937584341e+00 = 0.08346231884057971 / 5.398814325689985e-02
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG -     Final value: 8.400298086427779e-02 = 1.545937937584341e+00 * 5.433787400000000e-02
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.400298086427779e-02 = 0.08346231884057971 * (5.433787400000000e-02 / 5.398814325689985e-02)
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.508513043478261 = 5.7589 - 0.25038695652173915
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG -   Total token value: 2.545374323168481e-01
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.508513043478261
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG -   Final asset value: 5.763050475795109e+00
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7589
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG -   PnL from assets: 4.150475795109188e-03
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7589
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG -   initial_price: 5.266171000000000e-02
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG -   final_price: 5.433787400000000e-02
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0318288942763159
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.36214189052961715
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12427965725166616
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.292436354955381e-02 = 5.266171000000000e-02 * 1.004987562112089
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.348250388222456e+00 = 0.12427965725166616 / 5.292436354955381e-02
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG -     Final value: 1.275989337156829e-01 = 2.348250388222456e+00 * 5.433787400000000e-02
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.275989337156829e-01 = 0.12427965725166616 * (5.433787400000000e-02 / 5.292436354955381e-02)
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12067812739186443
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.345360718504936e-02 = 5.266171000000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.257623643135862e+00 = 0.12067812739186443 / 5.345360718504936e-02
2025-07-15 17:58:05,179 - DEEP_DEBUG - DEBUG -     Final value: 1.226744690601374e-01 = 2.257623643135862e+00 * 5.433787400000000e-02
2025-07-15 17:58:05,180 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.226744690601375e-01 = 0.12067812739186443 * (5.433787400000000e-02 / 5.345360718504936e-02)
2025-07-15 17:58:05,180 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,180 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11718410588608659
2025-07-15 17:58:05,180 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,180 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.398814325689985e-02 = 5.266171000000000e-02 * 1.025187812110542
2025-07-15 17:58:05,180 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.170552621683468e+00 = 0.11718410588608659 / 5.398814325689985e-02
2025-07-15 17:58:05,180 - DEEP_DEBUG - DEBUG -     Final value: 1.179432148674059e-01 = 2.170552621683468e+00 * 5.433787400000000e-02
2025-07-15 17:58:05,180 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.179432148674059e-01 = 0.11718410588608659 * (5.433787400000000e-02 / 5.398814325689985e-02)
2025-07-15 17:58:05,180 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.396758109470382 = 5.7589 - 0.36214189052961715
2025-07-15 17:58:05,180 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,180 - DEEP_DEBUG - DEBUG -   Total token value: 3.682166176432263e-01
2025-07-15 17:58:05,180 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.396758109470382
2025-07-15 17:58:05,180 - DEEP_DEBUG - DEBUG -   Final asset value: 5.764974727113609e+00
2025-07-15 17:58:05,180 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7589
2025-07-15 17:58:05,180 - DEEP_DEBUG - DEBUG -   PnL from assets: 6.074727113609235e-03
2025-07-15 17:58:05,180 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,180 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,180 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,180 - DEEP_DEBUG - DEBUG -     PnL: 9.909375795109188e-03
2025-07-15 17:58:05,180 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.758900000000000e-03
2025-07-15 17:58:05,180 - DEEP_DEBUG - DEBUG -     PnL from IL: 4.150475795109188e-03
2025-07-15 17:58:05,180 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,180 - DEEP_DEBUG - DEBUG -     PnL: 1.010595711360924e-02
2025-07-15 17:58:05,180 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.031229999999999e-03
2025-07-15 17:58:05,180 - DEEP_DEBUG - DEBUG -     PnL from IL: 6.074727113609235e-03
2025-07-15 17:58:05,182 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,182 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:05,182 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,182 - DEEP_DEBUG - DEBUG -   position_id: pos_05-23-03-37-47_9879398
2025-07-15 17:58:05,182 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7594 (from CSV: 5.7594)
2025-07-15 17:58:05,182 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.05259 (from CSV: 0.05259)
2025-07-15 17:58:05,182 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,182 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,182 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,182 - DEEP_DEBUG - DEBUG -   Total points: 10
2025-07-15 17:58:05,182 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747963800, 'close': 0.086757642, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,182 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747980000, 'close': 0.080653071, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,182 - DEEP_DEBUG - DEBUG -   Valid prices: 10
2025-07-15 17:58:05,182 - DEEP_DEBUG - DEBUG -   Min price: 8.065307100000001e-02
2025-07-15 17:58:05,182 - DEEP_DEBUG - DEBUG -   Max price: 9.298420000000000e-02
2025-07-15 17:58:05,182 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1528910039891722
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7594 (type: <class 'float'>)
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.05259 (type: <class 'float'>)
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-23 03:37:47
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-23 08:14:53
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   price_history length: 10
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.086757642, 0.091835039, 0.090703599, 0.0929842, 0.085227761]
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.083566081, 0.081350249, 0.086666056, 0.081913788, 0.080653071]
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   Initial price: 8.675764200000000e-02
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   Final price: 8.065307100000001e-02
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9296365039520094
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7594
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   initial_price: 8.675764200000000e-02
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   final_price: 8.065307100000001e-02
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9296365039520094
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7594 = 5.7594 - 0
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7594
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759400000000000e+00
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7594
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7594
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   initial_price: 8.675764200000000e-02
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   final_price: 8.065307100000001e-02
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9296365039520094
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7594 = 5.7594 - 0
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7594
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759400000000000e+00
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7594
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -     PnL: 5.759400000000000e-03
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759400000000000e-03
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -     PnL: 4.031580000000000e-03
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.031580000000000e-03
2025-07-15 17:58:05,183 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,185 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,185 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:05,185 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,185 - DEEP_DEBUG - DEBUG -   position_id: pos_05-23-07-06-06_25430419
2025-07-15 17:58:05,185 - DEEP_DEBUG - DEBUG -   investment_sol: 5.759 (from CSV: 5.759)
2025-07-15 17:58:05,185 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,185 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,185 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:05,185 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,185 - DEEP_DEBUG - DEBUG -   Total points: 3
2025-07-15 17:58:05,185 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747976400, 'close': 0.023204875, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,185 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747977600, 'close': 0.022774779, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,185 - DEEP_DEBUG - DEBUG -   Valid prices: 3
2025-07-15 17:58:05,185 - DEEP_DEBUG - DEBUG -   Min price: 2.277477900000000e-02
2025-07-15 17:58:05,185 - DEEP_DEBUG - DEBUG -   Max price: 2.320487500000000e-02
2025-07-15 17:58:05,185 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0188847496610176
2025-07-15 17:58:05,185 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,185 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,185 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,185 - DEEP_DEBUG - DEBUG -   investment_sol: 5.759 (type: <class 'float'>)
2025-07-15 17:58:05,185 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,185 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-23 07:06:06
2025-07-15 17:58:05,185 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-23 07:23:20
2025-07-15 17:58:05,185 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:05,185 - DEEP_DEBUG - DEBUG -   price_history length: 3
2025-07-15 17:58:05,185 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,185 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.023204875, 0.022774779, 0.022774779]
2025-07-15 17:58:05,185 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.023204875, 0.022774779, 0.022774779]
2025-07-15 17:58:05,185 - DEEP_DEBUG - DEBUG -   Initial price: 2.320487500000000e-02
2025-07-15 17:58:05,185 - DEEP_DEBUG - DEBUG -   Final price: 2.277477900000000e-02
2025-07-15 17:58:05,185 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9814652739995366
2025-07-15 17:58:05,186 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,186 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,186 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,186 - DEEP_DEBUG - DEBUG -   initial_sol: 5.759
2025-07-15 17:58:05,186 - DEEP_DEBUG - DEBUG -   initial_price: 2.320487500000000e-02
2025-07-15 17:58:05,186 - DEEP_DEBUG - DEBUG -   final_price: 2.277477900000000e-02
2025-07-15 17:58:05,186 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9814652739995366
2025-07-15 17:58:05,186 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,186 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,186 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,186 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,186 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,186 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.759 = 5.759 - 0
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.759
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759000000000000e+00
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.759
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG -   initial_sol: 5.759
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG -   initial_price: 2.320487500000000e-02
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG -   final_price: 2.277477900000000e-02
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9814652739995366
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.759 = 5.759 - 0
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.759
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759000000000000e+00
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.759
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG -     PnL: 5.759000000000000e-03
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759000000000000e-03
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG -     PnL: 5.759000000000000e-03
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759000000000000e-03
2025-07-15 17:58:05,187 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for TROLL-SOL
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -   position_id: pos_05-23-07-50-34_25437033
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -   investment_sol: 5.757 (from CSV: 5.757)
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -   Total points: 30
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747976400, 'close': 0.018812995, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748080800, 'close': 0.021756544, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -   Valid prices: 30
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -   Min price: 1.799794500000000e-02
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -   Max price: 2.295798600000000e-02
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2755892964446773
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -   investment_sol: 5.757 (type: <class 'float'>)
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-23 07:50:34
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-24 12:38:39
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -   price_history length: 30
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.018812995, 0.018487862, 0.021234213, 0.020627084, 0.019663654]
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.022672356, 0.021740102, 0.021219246, 0.022957986, 0.021756544]
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -   Initial price: 1.881299500000000e-02
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -   Final price: 2.175654400000000e-02
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1564636040141403
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -   initial_sol: 5.757
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -   initial_price: 1.881299500000000e-02
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -   final_price: 2.175654400000000e-02
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1564636040141403
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -   active_bin_index: 14
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 14 bins): 1.168086956521739
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG - 
Calculating token values for 14 activated bins:
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08343478260869565
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.890682598107692e-02 = 1.881299500000000e-02 * 1.004987562112089
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.412944969832703e+00 = 0.08343478260869565 / 1.890682598107692e-02
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -     Final value: 9.601043140574388e-02 = 4.412944969832703e+00 * 2.175654400000000e-02
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.601043140574389e-02 = 0.08343478260869565 * (2.175654400000000e-02 / 1.890682598107692e-02)
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08343478260869565
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.909589424088769e-02 = 1.881299500000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.369252445378914e+00 = 0.08343478260869565 / 1.909589424088769e-02
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -     Final value: 9.505983307499392e-02 = 4.369252445378914e+00 * 2.175654400000000e-02
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.505983307499394e-02 = 0.08343478260869565 * (2.175654400000000e-02 / 1.909589424088769e-02)
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08343478260869565
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.928685318329657e-02 = 1.881299500000000e-02 * 1.025187812110542
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.325992520177143e+00 = 0.08343478260869565 / 1.928685318329657e-02
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -     Final value: 9.411864660890489e-02 = 4.325992520177143e+00 * 2.175654400000000e-02
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.411864660890489e-02 = 0.08343478260869565 * (2.175654400000000e-02 / 1.928685318329657e-02)
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08343478260869565
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.947972171512953e-02 = 1.881299500000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.283160911066478e+00 = 0.08343478260869565 / 1.947972171512953e-02
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -     Final value: 9.318677882069791e-02 = 4.283160911066478e+00 * 2.175654400000000e-02
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.318677882069790e-02 = 0.08343478260869565 * (2.175654400000000e-02 / 1.947972171512953e-02)
2025-07-15 17:58:05,188 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08343478260869565
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.967451893228083e-02 = 1.881299500000000e-02 * 1.045794087133964
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.240753377293542e+00 = 0.08343478260869565 / 1.967451893228083e-02
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     Final value: 9.226413744623554e-02 = 4.240753377293542e+00 * 2.175654400000000e-02
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.226413744623553e-02 = 0.08343478260869565 * (2.175654400000000e-02 / 1.967451893228083e-02)
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 9 more bins processed)
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.588913043478261 = 5.757 - 1.168086956521739
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -   Total token value: 1.260976050356311e+00
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.588913043478261
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -   Final asset value: 5.849889093834571e+00
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.757
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -   PnL from assets: 9.288909383457167e-02
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -   initial_sol: 5.757
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -   initial_price: 1.881299500000000e-02
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -   final_price: 2.175654400000000e-02
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1564636040141403
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -   active_bin_index: 14
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 14 bins): 1.4508302032968061
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG - 
Calculating token values for 14 activated bins:
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12423865439543004
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.890682598107692e-02 = 1.881299500000000e-02 * 1.004987562112089
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.571100539020962e+00 = 0.12423865439543004 / 1.890682598107692e-02
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     Final value: 1.429644380056333e-01 = 6.571100539020962e+00 * 2.175654400000000e-02
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.429644380056333e-01 = 0.12423865439543004 * (2.175654400000000e-02 / 1.890682598107692e-02)
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1206383127671888
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.909589424088769e-02 = 1.881299500000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.317500047150493e+00 = 0.1206383127671888 / 1.909589424088769e-02
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     Final value: 1.374469677458318e-01 = 6.317500047150493e+00 * 2.175654400000000e-02
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.374469677458318e-01 = 0.1206383127671888 * (2.175654400000000e-02 / 1.909589424088769e-02)
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1171454440233726
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.928685318329657e-02 = 1.881299500000000e-02 * 1.025187812110542
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.073849523821063e+00 = 0.1171454440233726 / 1.928685318329657e-02
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     Final value: 1.321459744143920e-01 = 6.073849523821063e+00 * 2.175654400000000e-02
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.321459744143920e-01 = 0.1171454440233726 * (2.175654400000000e-02 / 1.928685318329657e-02)
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11376004816398158
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.947972171512953e-02 = 1.881299500000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.839921628635295e+00 = 0.11376004816398158 / 1.947972171512953e-02
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     Final value: 1.270565118699555e-01 = 5.839921628635295e+00 * 2.175654400000000e-02
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.270565118699555e-01 = 0.11376004816398158 * (2.175654400000000e-02 / 1.947972171512953e-02)
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11048212518901565
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.967451893228083e-02 = 1.881299500000000e-02 * 1.045794087133964
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.615493093848556e+00 = 0.11048212518901565 / 1.967451893228083e-02
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     Final value: 1.221737225780122e-01 = 5.615493093848556e+00 * 2.175654400000000e-02
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.221737225780122e-01 = 0.11048212518901565 * (2.175654400000000e-02 / 1.967451893228083e-02)
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 9 more bins processed)
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.306169796703194 = 5.757 - 1.4508302032968061
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -   Total token value: 1.573432145103248e+00
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.306169796703194
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -   Final asset value: 5.879601941806442e+00
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.757
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.226019418064421e-01
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     PnL: 9.864609383457167e-02
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.757000000000000e-03
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     PnL from IL: 9.288909383457167e-02
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     PnL: 1.283589418064421e-01
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.757000000000000e-03
2025-07-15 17:58:05,189 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.226019418064421e-01
2025-07-15 17:58:05,190 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,190 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:05,190 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,190 - DEEP_DEBUG - DEBUG -   position_id: pos_05-23-08-05-18_34700567
2025-07-15 17:58:05,190 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7588 (from CSV: 5.7588)
2025-07-15 17:58:05,190 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.18819 (from CSV: 0.18819)
2025-07-15 17:58:05,190 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,190 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:05,190 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,190 - DEEP_DEBUG - DEBUG -   Total points: 13
2025-07-15 17:58:05,190 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747980000, 'close': 0.02218114, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,190 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748001600, 'close': 0.018211791, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,190 - DEEP_DEBUG - DEBUG -   Valid prices: 13
2025-07-15 17:58:05,190 - DEEP_DEBUG - DEBUG -   Min price: 1.821179100000000e-02
2025-07-15 17:58:05,190 - DEEP_DEBUG - DEBUG -   Max price: 2.398314500000000e-02
2025-07-15 17:58:05,190 - DEEP_DEBUG - DEBUG -   Price ratio: 1.3169020553772004
2025-07-15 17:58:05,190 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,191 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,191 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,191 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7588 (type: <class 'float'>)
2025-07-15 17:58:05,191 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.18819 (type: <class 'float'>)
2025-07-15 17:58:05,191 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-23 08:05:18
2025-07-15 17:58:05,191 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-23 14:08:48
2025-07-15 17:58:05,191 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:05,191 - DEEP_DEBUG - DEBUG -   price_history length: 13
2025-07-15 17:58:05,191 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,191 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.02218114, 0.021789107, 0.021275701, 0.023983145, 0.022497323]
2025-07-15 17:58:05,191 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.021435445, 0.021668419, 0.020567274, 0.018597876, 0.018211791]
2025-07-15 17:58:05,191 - DEEP_DEBUG - DEBUG -   Initial price: 2.218114000000000e-02
2025-07-15 17:58:05,191 - DEEP_DEBUG - DEBUG -   Final price: 1.821179100000000e-02
2025-07-15 17:58:05,191 - DEEP_DEBUG - DEBUG -   Price ratio: 0.8210484673015004
2025-07-15 17:58:05,191 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,191 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,191 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,191 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7588
2025-07-15 17:58:05,191 - DEEP_DEBUG - DEBUG -   initial_price: 2.218114000000000e-02
2025-07-15 17:58:05,191 - DEEP_DEBUG - DEBUG -   final_price: 1.821179100000000e-02
2025-07-15 17:58:05,191 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8210484673015004
2025-07-15 17:58:05,191 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,191 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,191 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,191 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,192 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,192 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7588 = 5.7588 - 0
2025-07-15 17:58:05,192 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,192 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,192 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7588
2025-07-15 17:58:05,192 - DEEP_DEBUG - DEBUG -   Final asset value: 5.758800000000000e+00
2025-07-15 17:58:05,192 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7588
2025-07-15 17:58:05,192 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,192 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,192 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,195 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,196 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,196 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7588
2025-07-15 17:58:05,196 - DEEP_DEBUG - DEBUG -   initial_price: 2.218114000000000e-02
2025-07-15 17:58:05,196 - DEEP_DEBUG - DEBUG -   final_price: 1.821179100000000e-02
2025-07-15 17:58:05,196 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8210484673015004
2025-07-15 17:58:05,196 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,196 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,196 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,196 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,196 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,196 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7588 = 5.7588 - 0
2025-07-15 17:58:05,196 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,196 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,196 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7588
2025-07-15 17:58:05,196 - DEEP_DEBUG - DEBUG -   Final asset value: 5.758800000000000e+00
2025-07-15 17:58:05,196 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7588
2025-07-15 17:58:05,196 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,196 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,196 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,196 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,196 - DEEP_DEBUG - DEBUG -     PnL: 5.758800000000000e-03
2025-07-15 17:58:05,196 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.758800000000000e-03
2025-07-15 17:58:05,196 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,196 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,196 - DEEP_DEBUG - DEBUG -     PnL: 5.758800000000000e-03
2025-07-15 17:58:05,196 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.758800000000000e-03
2025-07-15 17:58:05,196 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,197 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,197 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:05,197 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,197 - DEEP_DEBUG - DEBUG -   position_id: pos_05-23-11-48-16_9934854
2025-07-15 17:58:05,197 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7568 (from CSV: 5.7568)
2025-07-15 17:58:05,197 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,197 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,197 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,197 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,197 - DEEP_DEBUG - DEBUG -   Total points: 10
2025-07-15 17:58:05,197 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747992600, 'close': 0.094728911, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748008800, 'close': 0.123280116, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -   Valid prices: 10
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -   Min price: 9.472891100000000e-02
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -   Max price: 1.232801160000000e-01
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -   Price ratio: 1.3013990628478775
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7568 (type: <class 'float'>)
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-23 11:48:16
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-23 16:15:28
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -   price_history length: 10
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.094728911, 0.10116486, 0.112108079, 0.10985969, 0.099365199]
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.098106873, 0.095388389, 0.094729808, 0.095737763, 0.123280116]
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -   Initial price: 9.472891100000000e-02
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -   Final price: 1.232801160000000e-01
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -   Price ratio: 1.3013990628478775
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7568
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -   initial_price: 9.472891100000000e-02
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -   final_price: 1.232801160000000e-01
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -   price_ratio: 1.3013990628478775
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -   active_bin_index: 26
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 26 bins): 2.1692289855072464
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG - 
Calculating token values for 26 activated bins:
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08343188405797101
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.520137732742305e-02 = 9.472891100000000e-02 * 1.004987562112089
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -     Tokens bought: 8.763726576247569e-01 = 0.08343188405797101 / 9.520137732742305e-02
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -     Final value: 1.080393228912083e-01 = 8.763726576247569e-01 * 1.232801160000000e-01
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.080393228912083e-01 = 0.08343188405797101 * (1.232801160000000e-01 / 9.520137732742305e-02)
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08343188405797101
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.615339110069727e-02 = 9.472891100000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -     Tokens bought: 8.676957006185713e-01 = 0.08343188405797101 / 9.615339110069727e-02
2025-07-15 17:58:05,198 - DEEP_DEBUG - DEBUG -     Final value: 1.069696266249587e-01 = 8.676957006185713e-01 * 1.232801160000000e-01
2025-07-15 17:58:05,199 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.069696266249587e-01 = 0.08343188405797101 * (1.232801160000000e-01 / 9.615339110069727e-02)
2025-07-15 17:58:05,199 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,199 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08343188405797101
2025-07-15 17:58:05,199 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,199 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.711492501170425e-02 = 9.472891100000000e-02 * 1.025187812110542
2025-07-15 17:58:05,199 - DEEP_DEBUG - DEBUG -     Tokens bought: 8.591046540777932e-01 = 0.08343188405797101 / 9.711492501170425e-02
2025-07-15 17:58:05,199 - DEEP_DEBUG - DEBUG -     Final value: 1.059105214108502e-01 = 8.591046540777932e-01 * 1.232801160000000e-01
2025-07-15 17:58:05,199 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.059105214108502e-01 = 0.08343188405797101 * (1.232801160000000e-01 / 9.711492501170425e-02)
2025-07-15 17:58:05,199 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,200 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08343188405797101
2025-07-15 17:58:05,200 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,200 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.808607426182130e-02 = 9.472891100000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,200 - DEEP_DEBUG - DEBUG -     Tokens bought: 8.505986674037557e-01 = 0.08343188405797101 / 9.808607426182130e-02
2025-07-15 17:58:05,200 - DEEP_DEBUG - DEBUG -     Final value: 1.048619023869804e-01 = 8.505986674037557e-01 * 1.232801160000000e-01
2025-07-15 17:58:05,200 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.048619023869804e-01 = 0.08343188405797101 * (1.232801160000000e-01 / 9.808607426182130e-02)
2025-07-15 17:58:05,200 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,200 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08343188405797101
2025-07-15 17:58:05,200 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,200 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.906693500443951e-02 = 9.472891100000000e-02 * 1.045794087133964
2025-07-15 17:58:05,200 - DEEP_DEBUG - DEBUG -     Tokens bought: 8.421768984195601e-01 = 0.08343188405797101 / 9.906693500443951e-02
2025-07-15 17:58:05,200 - DEEP_DEBUG - DEBUG -     Final value: 1.038236657296836e-01 = 8.421768984195601e-01 * 1.232801160000000e-01
2025-07-15 17:58:05,201 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.038236657296836e-01 = 0.08343188405797101 * (1.232801160000000e-01 / 9.906693500443951e-02)
2025-07-15 17:58:05,201 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 21 more bins processed)
2025-07-15 17:58:05,201 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 3.5875710144927537 = 5.7568 - 2.1692289855072464
2025-07-15 17:58:05,201 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,201 - DEEP_DEBUG - DEBUG -   Total token value: 2.487406152714024e+00
2025-07-15 17:58:05,201 - DEEP_DEBUG - DEBUG -   Remaining SOL: 3.5875710144927537
2025-07-15 17:58:05,201 - DEEP_DEBUG - DEBUG -   Final asset value: 6.074977167206777e+00
2025-07-15 17:58:05,201 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7568
2025-07-15 17:58:05,201 - DEEP_DEBUG - DEBUG -   PnL from assets: 3.181771672067768e-01
2025-07-15 17:58:05,201 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,201 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,201 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,201 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,201 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7568
2025-07-15 17:58:05,201 - DEEP_DEBUG - DEBUG -   initial_price: 9.472891100000000e-02
2025-07-15 17:58:05,201 - DEEP_DEBUG - DEBUG -   final_price: 1.232801160000000e-01
2025-07-15 17:58:05,201 - DEEP_DEBUG - DEBUG -   price_ratio: 1.3013990628478775
2025-07-15 17:58:05,201 - DEEP_DEBUG - DEBUG -   active_bin_index: 26
2025-07-15 17:58:05,201 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,201 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,201 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,201 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 26 bins): 2.339442208822596
2025-07-15 17:58:05,201 - DEEP_DEBUG - DEBUG - 
Calculating token values for 26 activated bins:
2025-07-15 17:58:05,201 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,201 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12423433830529994
2025-07-15 17:58:05,201 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,201 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.520137732742305e-02 = 9.472891100000000e-02 * 1.004987562112089
2025-07-15 17:58:05,201 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.304963665368251e+00 = 0.12423433830529994 / 9.520137732742305e-02
2025-07-15 17:58:05,201 - DEEP_DEBUG - DEBUG -     Final value: 1.608760720423832e-01 = 1.304963665368251e+00 * 1.232801160000000e-01
2025-07-15 17:58:05,201 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.608760720423832e-01 = 0.12423433830529994 * (1.232801160000000e-01 / 9.520137732742305e-02)
2025-07-15 17:58:05,201 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,202 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12063412175406504
2025-07-15 17:58:05,202 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,202 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.615339110069727e-02 = 9.472891100000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,202 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.254600803706758e+00 = 0.12063412175406504 / 9.615339110069727e-02
2025-07-15 17:58:05,202 - DEEP_DEBUG - DEBUG -     Final value: 1.546673326146624e-01 = 1.254600803706758e+00 * 1.232801160000000e-01
2025-07-15 17:58:05,202 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.546673326146624e-01 = 0.12063412175406504 * (1.232801160000000e-01 / 9.615339110069727e-02)
2025-07-15 17:58:05,202 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,202 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11714137435361324
2025-07-15 17:58:05,202 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,202 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.711492501170425e-02 = 9.472891100000000e-02 * 1.025187812110542
2025-07-15 17:58:05,202 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.206213919636919e+00 = 0.11714137435361324 / 9.711492501170425e-02
2025-07-15 17:58:05,202 - DEEP_DEBUG - DEBUG -     Final value: 1.487021919336540e-01 = 1.206213919636919e+00 * 1.232801160000000e-01
2025-07-15 17:58:05,202 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.487021919336541e-01 = 0.11714137435361324 * (1.232801160000000e-01 / 9.711492501170425e-02)
2025-07-15 17:58:05,202 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,202 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11375609610394463
2025-07-15 17:58:05,202 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,202 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.808607426182130e-02 = 9.472891100000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,202 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.159757865324443e+00 = 0.11375609610394463 / 9.808607426182130e-02
2025-07-15 17:58:05,202 - DEEP_DEBUG - DEBUG -     Final value: 1.429750841691097e-01 = 1.159757865324443e+00 * 1.232801160000000e-01
2025-07-15 17:58:05,202 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.429750841691097e-01 = 0.11375609610394463 * (1.232801160000000e-01 / 9.808607426182130e-02)
2025-07-15 17:58:05,202 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,202 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11047828700505911
2025-07-15 17:58:05,202 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,202 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.906693500443951e-02 = 9.472891100000000e-02 * 1.045794087133964
2025-07-15 17:58:05,202 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.115188301728606e+00 = 0.11047828700505911 / 9.906693500443951e-02
2025-07-15 17:58:05,202 - DEEP_DEBUG - DEBUG -     Final value: 1.374805431989456e-01 = 1.115188301728606e+00 * 1.232801160000000e-01
2025-07-15 17:58:05,203 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.374805431989456e-01 = 0.11047828700505911 * (1.232801160000000e-01 / 9.906693500443951e-02)
2025-07-15 17:58:05,203 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 21 more bins processed)
2025-07-15 17:58:05,203 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 3.417357791177404 = 5.7568 - 2.339442208822596
2025-07-15 17:58:05,203 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,203 - DEEP_DEBUG - DEBUG -   Total token value: 2.721298808099029e+00
2025-07-15 17:58:05,203 - DEEP_DEBUG - DEBUG -   Remaining SOL: 3.417357791177404
2025-07-15 17:58:05,203 - DEEP_DEBUG - DEBUG -   Final asset value: 6.138656599276434e+00
2025-07-15 17:58:05,203 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7568
2025-07-15 17:58:05,203 - DEEP_DEBUG - DEBUG -   PnL from assets: 3.818565992764338e-01
2025-07-15 17:58:05,203 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,203 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,203 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,203 - DEEP_DEBUG - DEBUG -     PnL: 3.239339672067768e-01
2025-07-15 17:58:05,203 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.756800000000000e-03
2025-07-15 17:58:05,203 - DEEP_DEBUG - DEBUG -     PnL from IL: 3.181771672067768e-01
2025-07-15 17:58:05,203 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,203 - DEEP_DEBUG - DEBUG -     PnL: 3.876133992764338e-01
2025-07-15 17:58:05,203 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.756800000000000e-03
2025-07-15 17:58:05,203 - DEEP_DEBUG - DEBUG -     PnL from IL: 3.818565992764338e-01
2025-07-15 17:58:05,204 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,205 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:05,205 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,205 - DEEP_DEBUG - DEBUG -   position_id: pos_05-23-19-17-07_34787321
2025-07-15 17:58:05,205 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7601 (from CSV: 5.7601)
2025-07-15 17:58:05,205 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,206 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,206 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,206 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,207 - DEEP_DEBUG - DEBUG -   Total points: 16
2025-07-15 17:58:05,207 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748019600, 'close': 0.113402191, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,207 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748073600, 'close': 0.084628545, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,207 - DEEP_DEBUG - DEBUG -   Valid prices: 16
2025-07-15 17:58:05,207 - DEEP_DEBUG - DEBUG -   Min price: 7.102543900000000e-02
2025-07-15 17:58:05,207 - DEEP_DEBUG - DEBUG -   Max price: 1.134021910000000e-01
2025-07-15 17:58:05,207 - DEEP_DEBUG - DEBUG -   Price ratio: 1.5966418877044886
2025-07-15 17:58:05,207 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,207 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,207 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,207 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7601 (type: <class 'float'>)
2025-07-15 17:58:05,207 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,207 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-23 19:17:07
2025-07-15 17:58:05,207 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-24 10:11:39
2025-07-15 17:58:05,207 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,207 - DEEP_DEBUG - DEBUG -   price_history length: 16
2025-07-15 17:58:05,207 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,207 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.113402191, 0.112600969, 0.094864919, 0.096757361, 0.087086099]
2025-07-15 17:58:05,207 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.079549994, 0.073537354, 0.071025439, 0.073206915, 0.084628545]
2025-07-15 17:58:05,207 - DEEP_DEBUG - DEBUG -   Initial price: 1.134021910000000e-01
2025-07-15 17:58:05,207 - DEEP_DEBUG - DEBUG -   Final price: 8.462854500000000e-02
2025-07-15 17:58:05,207 - DEEP_DEBUG - DEBUG -   Price ratio: 0.7462690469534227
2025-07-15 17:58:05,207 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,207 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,207 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,207 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7601
2025-07-15 17:58:05,207 - DEEP_DEBUG - DEBUG -   initial_price: 1.134021910000000e-01
2025-07-15 17:58:05,207 - DEEP_DEBUG - DEBUG -   final_price: 8.462854500000000e-02
2025-07-15 17:58:05,207 - DEEP_DEBUG - DEBUG -   price_ratio: 0.7462690469534227
2025-07-15 17:58:05,207 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,207 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7601 = 5.7601 - 0
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7601
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG -   Final asset value: 5.760100000000000e+00
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7601
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7601
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG -   initial_price: 1.134021910000000e-01
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG -   final_price: 8.462854500000000e-02
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG -   price_ratio: 0.7462690469534227
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7601 = 5.7601 - 0
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7601
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG -   Final asset value: 5.760100000000000e+00
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7601
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG -     PnL: 5.760100000000001e-03
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.760100000000001e-03
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG -     PnL: 5.760100000000001e-03
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.760100000000001e-03
2025-07-15 17:58:05,208 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for gib-SOL
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   position_id: pos_05-23-21-05-37_1734855
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (from CSV: 5.75)
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   Total points: 5
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748026800, 'close': 0.007866322, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748029200, 'close': 0.007883017, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   Valid prices: 5
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   Min price: 7.735072000000000e-03
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   Max price: 8.234514000000000e-03
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0645685004612757
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (type: <class 'float'>)
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-23 21:05:37
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-23 21:40:09
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   price_history length: 5
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.007866322, 0.008234514, 0.007889611, 0.007735072, 0.007883017]
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.007866322, 0.008234514, 0.007889611, 0.007735072, 0.007883017]
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   Initial price: 7.866322000000000e-03
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   Final price: 7.883017000000001e-03
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0021223387499267
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   initial_price: 7.866322000000000e-03
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   final_price: 7.883017000000001e-03
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0021223387499267
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.75 = 5.75 - 0
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.75
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   Final asset value: 5.750000000000000e+00
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   initial_price: 7.866322000000000e-03
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   final_price: 7.883017000000001e-03
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0021223387499267
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.75 = 5.75 - 0
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,210 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,211 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.75
2025-07-15 17:58:05,211 - DEEP_DEBUG - DEBUG -   Final asset value: 5.750000000000000e+00
2025-07-15 17:58:05,211 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,211 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,211 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,211 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,211 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,211 - DEEP_DEBUG - DEBUG -     PnL: 5.750000000000000e-03
2025-07-15 17:58:05,211 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:05,211 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,211 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,211 - DEEP_DEBUG - DEBUG -     PnL: 5.750000000000000e-03
2025-07-15 17:58:05,211 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:05,211 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for gib-SOL
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -   position_id: pos_05-23-21-40-09_1736494
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (from CSV: 5.75)
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -   Total points: 11
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748028600, 'close': 0.007110383, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748046600, 'close': 0.010667293, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -   Valid prices: 11
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -   Min price: 7.110383000000000e-03
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -   Max price: 1.160428900000000e-02
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -   Price ratio: 1.6320202441978162
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (type: <class 'float'>)
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-23 21:40:09
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-24 02:41:53
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -   price_history length: 11
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.007110383, 0.007426842, 0.009206235, 0.011604289, 0.010927271]
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.009300239, 0.010931463, 0.009549168, 0.009699324, 0.010667293]
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -   Initial price: 7.110383000000000e-03
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -   Final price: 1.066729300000000e-02
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -   Price ratio: 1.5002416888091683
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -   initial_price: 7.110383000000000e-03
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -   final_price: 1.066729300000000e-02
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -   price_ratio: 1.5002416888091683
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -   active_bin_index: 40
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 40 bins): 4.600000000000005
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG - 
Calculating token values for 40 activated bins:
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.115
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.145846476853241e-03 = 7.110383000000000e-03 * 1.004987562112089
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.609326485987446e+01 = 0.115 / 7.145846476853241e-03
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -     Final value: 1.716715715868848e-01 = 1.609326485987446e+01 * 1.066729300000000e-02
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.716715715868849e-01 = 0.115 * (1.066729300000000e-02 / 7.145846476853241e-03)
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.115
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.217304941621774e-03 = 7.110383000000000e-03 * 1.0150374377332099
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.593392560383610e+01 = 0.115 / 7.217304941621774e-03
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -     Final value: 1.699718530563216e-01 = 1.593392560383610e+01 * 1.066729300000000e-02
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.699718530563216e-01 = 0.115 * (1.066729300000000e-02 / 7.217304941621774e-03)
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,212 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.115
2025-07-15 17:58:05,213 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,213 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.289477991037991e-03 = 7.110383000000000e-03 * 1.025187812110542
2025-07-15 17:58:05,213 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.577616396419416e+01 = 0.115 / 7.289477991037991e-03
2025-07-15 17:58:05,213 - DEEP_DEBUG - DEBUG -     Final value: 1.682889634221006e-01 = 1.577616396419416e+01 * 1.066729300000000e-02
2025-07-15 17:58:05,213 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.682889634221006e-01 = 0.115 * (1.066729300000000e-02 / 7.289477991037991e-03)
2025-07-15 17:58:05,213 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,213 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.115
2025-07-15 17:58:05,213 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,213 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.362372770948371e-03 = 7.110383000000000e-03 * 1.0354396902316474
2025-07-15 17:58:05,213 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.561996432098432e+01 = 0.115 / 7.362372770948371e-03
2025-07-15 17:58:05,213 - DEEP_DEBUG - DEBUG -     Final value: 1.666227360614858e-01 = 1.561996432098432e+01 * 1.066729300000000e-02
2025-07-15 17:58:05,213 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.666227360614858e-01 = 0.115 * (1.066729300000000e-02 / 7.362372770948371e-03)
2025-07-15 17:58:05,213 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,213 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.115
2025-07-15 17:58:05,213 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,213 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.435996498657856e-03 = 7.110383000000000e-03 * 1.045794087133964
2025-07-15 17:58:05,213 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.546531120889536e+01 = 0.115 / 7.435996498657856e-03
2025-07-15 17:58:05,213 - DEEP_DEBUG - DEBUG -     Final value: 1.649730060014711e-01 = 1.546531120889536e+01 * 1.066729300000000e-02
2025-07-15 17:58:05,213 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.649730060014711e-01 = 0.115 * (1.066729300000000e-02 / 7.435996498657856e-03)
2025-07-15 17:58:05,213 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 35 more bins processed)
2025-07-15 17:58:05,213 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 1.149999999999995 = 5.75 - 4.600000000000005
2025-07-15 17:58:05,213 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,213 - DEEP_DEBUG - DEBUG -   Total token value: 5.693149989422366e+00
2025-07-15 17:58:05,213 - DEEP_DEBUG - DEBUG -   Remaining SOL: 1.149999999999995
2025-07-15 17:58:05,213 - DEEP_DEBUG - DEBUG -   Final asset value: 6.843149989422361e+00
2025-07-15 17:58:05,214 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,215 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.093149989422361e+00
2025-07-15 17:58:05,215 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,216 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,216 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,216 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,216 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,216 - DEEP_DEBUG - DEBUG -   initial_price: 7.110383000000000e-03
2025-07-15 17:58:05,216 - DEEP_DEBUG - DEBUG -   final_price: 1.066729300000000e-02
2025-07-15 17:58:05,216 - DEEP_DEBUG - DEBUG -   price_ratio: 1.5002416888091683
2025-07-15 17:58:05,216 - DEEP_DEBUG - DEBUG -   active_bin_index: 40
2025-07-15 17:58:05,216 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,216 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,216 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,216 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 40 bins): 4.315522572665428
2025-07-15 17:58:05,216 - DEEP_DEBUG - DEBUG - 
Calculating token values for 40 activated bins:
2025-07-15 17:58:05,216 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,216 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.17075757575757572
2025-07-15 17:58:05,216 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,216 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.145846476853241e-03 = 7.110383000000000e-03 * 1.004987562112089
2025-07-15 17:58:05,216 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.389605994344996e+01 = 0.17075757575757572 / 7.145846476853241e-03
2025-07-15 17:58:05,216 - DEEP_DEBUG - DEBUG -     Final value: 2.549062729623441e-01 = 2.389605994344996e+01 * 1.066729300000000e-02
2025-07-15 17:58:05,216 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.549062729623441e-01 = 0.17075757575757572 * (1.066729300000000e-02 / 7.145846476853241e-03)
2025-07-15 17:58:05,216 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,216 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16393011750154604
2025-07-15 17:58:05,216 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,216 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.217304941621774e-03 = 7.110383000000000e-03 * 1.0150374377332099
2025-07-15 17:58:05,216 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.271348083911083e+01 = 0.16393011750154604 / 7.217304941621774e-03
2025-07-15 17:58:05,216 - DEEP_DEBUG - DEBUG -     Final value: 2.422913551606810e-01 = 2.271348083911083e+01 * 1.066729300000000e-02
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.422913551606810e-01 = 0.16393011750154604 * (1.066729300000000e-02 / 7.217304941621774e-03)
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1573871366728509
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.289477991037991e-03 = 7.110383000000000e-03 * 1.025187812110542
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.159100238266027e+01 = 0.1573871366728509 / 7.289477991037991e-03
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG -     Final value: 2.303175485795353e-01 = 2.159100238266027e+01 * 1.066729300000000e-02
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.303175485795352e-01 = 0.1573871366728509 * (1.066729300000000e-02 / 7.289477991037991e-03)
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1511286332714904
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.362372770948371e-03 = 7.110383000000000e-03 * 1.0354396902316474
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.052716399634612e+01 = 0.1511286332714904 / 7.362372770948371e-03
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG -     Final value: 2.189692728080750e-01 = 2.052716399634612e+01 * 1.066729300000000e-02
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.189692728080750e-01 = 0.1511286332714904 * (1.066729300000000e-02 / 7.362372770948371e-03)
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1451546072974644
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.435996498657856e-03 = 7.110383000000000e-03 * 1.045794087133964
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.952053195878505e+01 = 0.1451546072974644 / 7.435996498657856e-03
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG -     Final value: 2.082312339202241e-01 = 1.952053195878505e+01 * 1.066729300000000e-02
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.082312339202241e-01 = 0.1451546072974644 * (1.066729300000000e-02 / 7.435996498657856e-03)
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 35 more bins processed)
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 1.4344774273345724 = 5.75 - 4.315522572665428
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG -   Total token value: 5.439110477927809e+00
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG -   Remaining SOL: 1.4344774273345724
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG -   Final asset value: 6.873587905262381e+00
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.123587905262381e+00
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG -     PnL: 1.098899989422361e+00
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.093149989422361e+00
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG -     PnL: 1.129337905262381e+00
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:05,217 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.123587905262381e+00
2025-07-15 17:58:05,226 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,226 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for titcoin-SOL
2025-07-15 17:58:05,226 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,227 - DEEP_DEBUG - DEBUG -   position_id: pos_05-24-03-27-58_10113995
2025-07-15 17:58:05,227 - DEEP_DEBUG - DEBUG -   investment_sol: 5.759 (from CSV: 5.759)
2025-07-15 17:58:05,227 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,227 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,227 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,227 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,227 - DEEP_DEBUG - DEBUG -   Total points: 17
2025-07-15 17:58:05,228 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748048400, 'close': 0.037719035, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,228 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748077200, 'close': 0.033739338, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,229 - DEEP_DEBUG - DEBUG -   Valid prices: 17
2025-07-15 17:58:05,231 - DEEP_DEBUG - DEBUG -   Min price: 3.373933800000000e-02
2025-07-15 17:58:05,231 - DEEP_DEBUG - DEBUG -   Max price: 3.771903500000000e-02
2025-07-15 17:58:05,231 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1179542111940666
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG -   investment_sol: 5.759 (type: <class 'float'>)
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-24 03:27:58
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-24 11:17:12
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG -   price_history length: 17
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.037719035, 0.036688395, 0.035905376, 0.035581915, 0.035137912]
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.03457372, 0.034368037, 0.033938028, 0.033816531, 0.033739338]
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG -   Initial price: 3.771903500000000e-02
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG -   Final price: 3.373933800000000e-02
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG -   Price ratio: 0.8944910175989391
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG -   initial_sol: 5.759
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG -   initial_price: 3.771903500000000e-02
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG -   final_price: 3.373933800000000e-02
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8944910175989391
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.759 = 5.759 - 0
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.759
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759000000000000e+00
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.759
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,232 - DEEP_DEBUG - DEBUG -   initial_sol: 5.759
2025-07-15 17:58:05,233 - DEEP_DEBUG - DEBUG -   initial_price: 3.771903500000000e-02
2025-07-15 17:58:05,233 - DEEP_DEBUG - DEBUG -   final_price: 3.373933800000000e-02
2025-07-15 17:58:05,233 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8944910175989391
2025-07-15 17:58:05,233 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,233 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,233 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,233 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,233 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,233 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.759 = 5.759 - 0
2025-07-15 17:58:05,233 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,233 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,233 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.759
2025-07-15 17:58:05,233 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759000000000000e+00
2025-07-15 17:58:05,233 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.759
2025-07-15 17:58:05,233 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,233 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,233 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,233 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,233 - DEEP_DEBUG - DEBUG -     PnL: 5.759000000000000e-03
2025-07-15 17:58:05,233 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759000000000000e-03
2025-07-15 17:58:05,233 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,233 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,233 - DEEP_DEBUG - DEBUG -     PnL: 5.759000000000000e-03
2025-07-15 17:58:05,233 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759000000000000e-03
2025-07-15 17:58:05,233 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,235 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,235 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for gib-SOL
2025-07-15 17:58:05,235 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,235 - DEEP_DEBUG - DEBUG -   position_id: pos_05-24-08-11-54_1824869
2025-07-15 17:58:05,235 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (from CSV: 5.75)
2025-07-15 17:58:05,235 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,235 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,235 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,235 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,235 - DEEP_DEBUG - DEBUG -   Total points: 23
2025-07-15 17:58:05,235 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748067000, 'close': 0.01108868, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,235 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748080200, 'close': 0.009800669, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,235 - DEEP_DEBUG - DEBUG -   Valid prices: 23
2025-07-15 17:58:05,235 - DEEP_DEBUG - DEBUG -   Min price: 9.283477000000000e-03
2025-07-15 17:58:05,235 - DEEP_DEBUG - DEBUG -   Max price: 1.108868000000000e-02
2025-07-15 17:58:05,235 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1944533282088166
2025-07-15 17:58:05,235 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,235 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,235 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,235 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (type: <class 'float'>)
2025-07-15 17:58:05,235 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,235 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-24 08:11:54
2025-07-15 17:58:05,235 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-24 11:51:37
2025-07-15 17:58:05,235 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,235 - DEEP_DEBUG - DEBUG -   price_history length: 23
2025-07-15 17:58:05,235 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,235 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.01108868, 0.01108868, 0.01108868, 0.01108868, 0.01043729]
2025-07-15 17:58:05,235 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.009505289, 0.009731844, 0.009336338, 0.009684287, 0.009800669]
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG -   Initial price: 1.108868000000000e-02
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG -   Final price: 9.800669000000000e-03
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG -   Price ratio: 0.8838445153075027
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG -   initial_price: 1.108868000000000e-02
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG -   final_price: 9.800669000000000e-03
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8838445153075027
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.75 = 5.75 - 0
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.75
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG -   Final asset value: 5.750000000000000e+00
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG -   initial_price: 1.108868000000000e-02
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG -   final_price: 9.800669000000000e-03
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8838445153075027
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.75 = 5.75 - 0
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.75
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG -   Final asset value: 5.750000000000000e+00
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,236 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,237 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,237 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,237 - DEEP_DEBUG - DEBUG -     PnL: 5.750000000000000e-03
2025-07-15 17:58:05,237 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:05,237 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,237 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,237 - DEEP_DEBUG - DEBUG -     PnL: 5.750000000000000e-03
2025-07-15 17:58:05,237 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:05,237 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,238 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,238 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:05,238 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,238 - DEEP_DEBUG - DEBUG -   position_id: pos_05-24-10-11-39_34874524
2025-07-15 17:58:05,238 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (from CSV: 5.76)
2025-07-15 17:58:05,238 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,238 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,238 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,238 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,238 - DEEP_DEBUG - DEBUG -   Total points: 8
2025-07-15 17:58:05,238 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748074200, 'close': 0.073898204, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,238 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748078400, 'close': 0.082097036, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,238 - DEEP_DEBUG - DEBUG -   Valid prices: 8
2025-07-15 17:58:05,238 - DEEP_DEBUG - DEBUG -   Min price: 7.389820400000000e-02
2025-07-15 17:58:05,238 - DEEP_DEBUG - DEBUG -   Max price: 8.462854500000000e-02
2025-07-15 17:58:05,238 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1452043543575159
2025-07-15 17:58:05,238 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,238 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,238 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,238 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (type: <class 'float'>)
2025-07-15 17:58:05,238 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,238 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-24 10:11:39
2025-07-15 17:58:05,238 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-24 11:29:38
2025-07-15 17:58:05,238 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,238 - DEEP_DEBUG - DEBUG -   price_history length: 8
2025-07-15 17:58:05,238 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,238 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.073898204, 0.073898204, 0.074877084, 0.080577795, 0.084628545]
2025-07-15 17:58:05,238 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.080577795, 0.084628545, 0.084423902, 0.083837715, 0.082097036]
2025-07-15 17:58:05,238 - DEEP_DEBUG - DEBUG -   Initial price: 7.389820400000000e-02
2025-07-15 17:58:05,238 - DEEP_DEBUG - DEBUG -   Final price: 8.209703600000000e-02
2025-07-15 17:58:05,238 - DEEP_DEBUG - DEBUG -   Price ratio: 1.110947649011876
2025-07-15 17:58:05,239 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,239 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,239 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,239 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:05,239 - DEEP_DEBUG - DEBUG -   initial_price: 7.389820400000000e-02
2025-07-15 17:58:05,239 - DEEP_DEBUG - DEBUG -   final_price: 8.209703600000000e-02
2025-07-15 17:58:05,239 - DEEP_DEBUG - DEBUG -   price_ratio: 1.110947649011876
2025-07-15 17:58:05,239 - DEEP_DEBUG - DEBUG -   active_bin_index: 10
2025-07-15 17:58:05,239 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,239 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,239 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,239 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 10 bins): 0.8347826086956521
2025-07-15 17:58:05,239 - DEEP_DEBUG - DEBUG - 
Calculating token values for 10 activated bins:
2025-07-15 17:58:05,239 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,239 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:05,239 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,239 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.426677588242181e-02 = 7.389820400000000e-02 * 1.004987562112089
2025-07-15 17:58:05,239 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.124032380262836e+00 = 0.08347826086956521 / 7.426677588242181e-02
2025-07-15 17:58:05,239 - DEEP_DEBUG - DEBUG -     Final value: 9.227972678760378e-02 = 1.124032380262836e+00 * 8.209703600000000e-02
2025-07-15 17:58:05,239 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.227972678760378e-02 = 0.08347826086956521 * (8.209703600000000e-02 / 7.426677588242181e-02)
2025-07-15 17:58:05,239 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,239 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:05,239 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,239 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.500944364124604e-02 = 7.389820400000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,239 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.112903346794887e+00 = 0.08347826086956521 / 7.500944364124604e-02
2025-07-15 17:58:05,239 - DEEP_DEBUG - DEBUG -     Final value: 9.136606612634035e-02 = 1.112903346794887e+00 * 8.209703600000000e-02
2025-07-15 17:58:05,239 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.136606612634038e-02 = 0.08347826086956521 * (8.209703600000000e-02 / 7.500944364124604e-02)
2025-07-15 17:58:05,239 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,239 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:05,239 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.575953807765849e-02 = 7.389820400000000e-02 * 1.025187812110542
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.101884501777116e+00 = 0.08347826086956521 / 7.575953807765849e-02
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -     Final value: 9.046145161023798e-02 = 1.101884501777116e+00 * 8.209703600000000e-02
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.046145161023798e-02 = 0.08347826086956521 * (8.209703600000000e-02 / 7.575953807765849e-02)
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.651713345843508e-02 = 7.389820400000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.090974754234769e+00 = 0.08347826086956521 / 7.651713345843508e-02
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -     Final value: 8.956579367350297e-02 = 1.090974754234769e+00 * 8.209703600000000e-02
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.956579367350295e-02 = 0.08347826086956521 * (8.209703600000000e-02 / 7.651713345843508e-02)
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.728230479301944e-02 = 7.389820400000000e-02 * 1.045794087133964
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.080173023994820e+00 = 0.08347826086956521 / 7.728230479301944e-02
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -     Final value: 8.867900363713163e-02 = 1.080173023994820e+00 * 8.209703600000000e-02
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.867900363713163e-02 = 0.08347826086956521 * (8.209703600000000e-02 / 7.728230479301944e-02)
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 5 more bins processed)
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.925217391304348 = 5.76 - 0.8347826086956521
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -   Total token value: 8.827494883594973e-01
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.925217391304348
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -   Final asset value: 5.807966879663845e+00
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -   PnL from assets: 4.796687966384550e-02
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -   initial_price: 7.389820400000000e-02
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -   final_price: 8.209703600000000e-02
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -   price_ratio: 1.110947649011876
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -   active_bin_index: 10
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 10 bins): 1.0938376239102434
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG - 
Calculating token values for 10 activated bins:
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1243033957473818
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.426677588242181e-02 = 7.389820400000000e-02 * 1.004987562112089
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.673741646522764e+00 = 0.1243033957473818 / 7.426677588242181e-02
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -     Final value: 1.374092282092786e-01 = 1.673741646522764e+00 * 8.209703600000000e-02
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.374092282092786e-01 = 0.1243033957473818 * (8.209703600000000e-02 / 7.426677588242181e-02)
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,240 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12070117796404507
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.500944364124604e-02 = 7.389820400000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.609146423500122e+00 = 0.12070117796404507 / 7.500944364124604e-02
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -     Final value: 1.321061518593608e-01 = 1.609146423500122e+00 * 8.209703600000000e-02
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.321061518593608e-01 = 0.12070117796404507 * (8.209703600000000e-02 / 7.500944364124604e-02)
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1172064890697631
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.575953807765849e-02 = 7.389820400000000e-02 * 1.025187812110542
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.547085582143053e+00 = 0.1172064890697631 / 7.575953807765849e-02
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -     Final value: 1.270111407322792e-01 = 1.547085582143053e+00 * 8.209703600000000e-02
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.270111407322792e-01 = 0.1172064890697631 * (8.209703600000000e-02 / 7.575953807765849e-02)
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11381932906453603
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.651713345843508e-02 = 7.389820400000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.487501216003654e+00 = 0.11381932906453603 / 7.651713345843508e-02
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -     Final value: 1.221194408802957e-01 = 1.487501216003654e+00 * 8.209703600000000e-02
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.221194408802957e-01 = 0.11381932906453603 * (8.209703600000000e-02 / 7.651713345843508e-02)
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11053969794836377
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.728230479301944e-02 = 7.389820400000000e-02 * 1.045794087133964
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.430336455989707e+00 = 0.11053969794836377 / 7.728230479301944e-02
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -     Final value: 1.174263835194994e-01 = 1.430336455989707e+00 * 8.209703600000000e-02
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.174263835194994e-01 = 0.11053969794836377 * (8.209703600000000e-02 / 7.728230479301944e-02)
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 5 more bins processed)
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.666162376089757 = 5.76 - 1.0938376239102434
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -   Total token value: 1.159444527604655e+00
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.666162376089757
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -   Final asset value: 5.825606903694411e+00
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -   PnL from assets: 6.560690369441158e-02
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -     PnL: 5.372687966384550e-02
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759999999999999e-03
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -     PnL from IL: 4.796687966384550e-02
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -     PnL: 7.136690369441158e-02
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759999999999999e-03
2025-07-15 17:58:05,241 - DEEP_DEBUG - DEBUG -     PnL from IL: 6.560690369441158e-02
2025-07-15 17:58:05,242 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,242 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for titcoin-SOL
2025-07-15 17:58:05,242 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,242 - DEEP_DEBUG - DEBUG -   position_id: pos_05-24-11-17-12_10160433
2025-07-15 17:58:05,242 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7596 (from CSV: 5.7596)
2025-07-15 17:58:05,242 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,242 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,242 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,242 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,242 - DEEP_DEBUG - DEBUG -   Total points: 5
2025-07-15 17:58:05,242 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748077800, 'close': 0.03329051, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,242 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748080200, 'close': 0.034613246, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,242 - DEEP_DEBUG - DEBUG -   Valid prices: 5
2025-07-15 17:58:05,242 - DEEP_DEBUG - DEBUG -   Min price: 3.329051000000000e-02
2025-07-15 17:58:05,242 - DEEP_DEBUG - DEBUG -   Max price: 3.461821100000000e-02
2025-07-15 17:58:05,242 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0398822667480914
2025-07-15 17:58:05,242 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,242 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,242 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,242 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7596 (type: <class 'float'>)
2025-07-15 17:58:05,242 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,242 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-24 11:17:12
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-24 11:58:53
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -   price_history length: 5
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.03329051, 0.033739338, 0.033986518, 0.034618211, 0.034613246]
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.03329051, 0.033739338, 0.033986518, 0.034618211, 0.034613246]
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -   Initial price: 3.329051000000000e-02
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -   Final price: 3.461324600000000e-02
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0397331251458748
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7596
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -   initial_price: 3.329051000000000e-02
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -   final_price: 3.461324600000000e-02
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0397331251458748
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.2504173913043478
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347246376811594
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.345654848636812e-02 = 3.329051000000000e-02 * 1.004987562112089
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.494951438344778e+00 = 0.08347246376811594 / 3.345654848636812e-02
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -     Final value: 8.635836789348163e-02 = 2.494951438344778e+00 * 3.461324600000000e-02
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.635836789348161e-02 = 0.08347246376811594 * (3.461324600000000e-02 / 3.345654848636812e-02)
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347246376811594
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.379111397123180e-02 = 3.329051000000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.470248948856216e+00 = 0.08347246376811594 / 3.379111397123180e-02
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -     Final value: 8.550333454800162e-02 = 2.470248948856216e+00 * 3.461324600000000e-02
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.550333454800160e-02 = 0.08347246376811594 * (3.461324600000000e-02 / 3.379111397123180e-02)
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347246376811594
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.412902511094412e-02 = 3.329051000000000e-02 * 1.025187812110542
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.445791038471500e+00 = 0.08347246376811594 / 3.412902511094412e-02
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -     Final value: 8.465676687920951e-02 = 2.445791038471500e+00 * 3.461324600000000e-02
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.465676687920951e-02 = 0.08347246376811594 * (3.461324600000000e-02 / 3.412902511094412e-02)
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.509182608695652 = 5.7596 - 0.2504173913043478
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -   Total token value: 2.565184693206928e-01
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.509182608695652
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -   Final asset value: 5.765701078016345e+00
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7596
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG -   PnL from assets: 6.101078016345518e-03
2025-07-15 17:58:05,243 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7596
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -   initial_price: 3.329051000000000e-02
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -   final_price: 3.461324600000000e-02
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0397331251458748
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.36218590923516353
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12429476356712157
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.345654848636812e-02 = 3.329051000000000e-02 * 1.004987562112089
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.715110170965947e+00 = 0.12429476356712157 / 3.345654848636812e-02
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -     Final value: 1.285920222647464e-01 = 3.715110170965947e+00 * 3.461324600000000e-02
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.285920222647464e-01 = 0.12429476356712157 * (3.461324600000000e-02 / 3.345654848636812e-02)
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12069279593779758
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.379111397123180e-02 = 3.329051000000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.571731788438519e+00 = 0.12069279593779758 / 3.379111397123180e-02
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -     Final value: 1.236292310392424e-01 = 3.571731788438519e+00 * 3.461324600000000e-02
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.236292310392424e-01 = 0.12069279593779758 * (3.461324600000000e-02 / 3.379111397123180e-02)
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11719834973024439
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.412902511094412e-02 = 3.329051000000000e-02 * 1.025187812110542
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.433978830314215e+00 = 0.11719834973024439 / 3.412902511094412e-02
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -     Final value: 1.188611540124582e-01 = 3.433978830314215e+00 * 3.461324600000000e-02
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.188611540124582e-01 = 0.11719834973024439 * (3.461324600000000e-02 / 3.412902511094412e-02)
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.397414090764836 = 5.7596 - 0.36218590923516353
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -   Total token value: 3.710824073164470e-01
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.397414090764836
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -   Final asset value: 5.768496498081283e+00
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7596
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -   PnL from assets: 8.896498081282900e-03
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -     PnL: 1.186067801634552e-02
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759600000000000e-03
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -     PnL from IL: 6.101078016345518e-03
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -     PnL: 1.465609808128290e-02
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759600000000000e-03
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -     PnL from IL: 8.896498081282900e-03
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -   position_id: pos_05-24-11-29-38_34893190
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7569 (from CSV: 5.7569)
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -   Total points: 26
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748077200, 'close': 0.087400821, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748167200, 'close': 0.065090629, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -   Valid prices: 26
2025-07-15 17:58:05,244 - DEEP_DEBUG - DEBUG -   Min price: 6.368407700000001e-02
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   Max price: 1.014049000000000e-01
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   Price ratio: 1.5923116856981376
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7569 (type: <class 'float'>)
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-24 11:29:38
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-25 12:14:38
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   price_history length: 26
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.087400821, 0.1014049, 0.093324298, 0.089780781, 0.08933501]
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.07425474, 0.067036258, 0.063684077, 0.068638101, 0.065090629]
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   Initial price: 8.740082100000000e-02
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   Final price: 6.509062900000000e-02
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   Price ratio: 0.7447370431451668
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7569
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   initial_price: 8.740082100000000e-02
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   final_price: 6.509062900000000e-02
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   price_ratio: 0.7447370431451668
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7569 = 5.7569 - 0
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7569
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   Final asset value: 5.756900000000000e+00
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7569
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7569
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   initial_price: 8.740082100000000e-02
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   final_price: 6.509062900000000e-02
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   price_ratio: 0.7447370431451668
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7569 = 5.7569 - 0
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7569
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   Final asset value: 5.756900000000000e+00
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7569
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -     PnL: 5.756900000000000e-03
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.756900000000000e-03
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -     PnL: 5.756900000000000e-03
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.756900000000000e-03
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for gib-SOL
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   position_id: pos_05-24-11-51-37_1886462
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (from CSV: 5.75)
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   Total points: 2
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748080200, 'close': 0.009800669, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748080800, 'close': 0.009800669, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   Valid prices: 2
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   Min price: 9.800669000000000e-03
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   Max price: 9.800669000000000e-03
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (type: <class 'float'>)
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-24 11:51:37
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-24 12:07:35
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   price_history length: 2
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.009800669, 0.009800669]
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.009800669, 0.009800669]
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   Initial price: 9.800669000000000e-03
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   Final price: 9.800669000000000e-03
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   initial_price: 9.800669000000000e-03
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   final_price: 9.800669000000000e-03
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0
2025-07-15 17:58:05,245 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.75 = 5.75 - 0
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.75
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   Final asset value: 5.750000000000000e+00
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   initial_price: 9.800669000000000e-03
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   final_price: 9.800669000000000e-03
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.75 = 5.75 - 0
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.75
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   Final asset value: 5.750000000000000e+00
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -     PnL: 5.750000000000000e-03
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -     PnL: 5.750000000000000e-03
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for titcoin-SOL
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   position_id: pos_05-24-11-58-53_10166038
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7596 (from CSV: 5.7596)
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   Total points: 26
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748073600, 'close': 0.038317557, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748433600, 'close': 0.025879205, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   Valid prices: 26
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   Min price: 2.587920500000000e-02
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   Max price: 3.960928900000000e-02
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG -   Price ratio: 1.5305450457230043
2025-07-15 17:58:05,246 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7596 (type: <class 'float'>)
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-24 11:58:53
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-28 14:40:39
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   price_history length: 26
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.038317557, 0.039609289, 0.037505804, 0.034759448, 0.035001316]
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.032631532, 0.031894998, 0.029390263, 0.030001042, 0.025879205]
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   Initial price: 3.831755700000000e-02
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   Final price: 2.587920500000000e-02
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   Price ratio: 0.6753876558466396
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7596
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   initial_price: 3.831755700000000e-02
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   final_price: 2.587920500000000e-02
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   price_ratio: 0.6753876558466396
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7596 = 5.7596 - 0
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7596
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759600000000000e+00
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7596
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7596
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   initial_price: 3.831755700000000e-02
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   final_price: 2.587920500000000e-02
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   price_ratio: 0.6753876558466396
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7596 = 5.7596 - 0
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7596
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759600000000000e+00
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7596
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -     PnL: 5.759600000000000e-03
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759600000000000e-03
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -     PnL: 5.759600000000000e-03
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759600000000000e-03
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for gib-SOL
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   position_id: pos_05-24-12-07-35_1887892
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (from CSV: 5.75)
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.0283 (from CSV: 0.0283)
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   Total points: 20
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748080800, 'close': 0.009810656, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748115000, 'close': 0.009595214, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   Valid prices: 20
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   Min price: 9.028436000000001e-03
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   Max price: 1.209088400000000e-02
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   Price ratio: 1.3392002778775858
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (type: <class 'float'>)
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.0283 (type: <class 'float'>)
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-24 12:07:35
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-24 21:39:57
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   price_history length: 20
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.009810656, 0.011004284, 0.011323914, 0.012090884, 0.011796479]
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.010281436, 0.010421949, 0.011566383, 0.010137444, 0.009595214]
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   Initial price: 9.810655999999999e-03
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   Final price: 9.595213999999999e-03
2025-07-15 17:58:05,247 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9780400005871167
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   initial_price: 9.810655999999999e-03
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   final_price: 9.595213999999999e-03
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9780400005871167
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.75 = 5.75 - 0
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.75
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   Final asset value: 5.750000000000000e+00
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   initial_price: 9.810655999999999e-03
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   final_price: 9.595213999999999e-03
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9780400005871167
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.75 = 5.75 - 0
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.75
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   Final asset value: 5.750000000000000e+00
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -     PnL: 5.750000000000000e-03
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -     PnL: 4.025000000000000e-03
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.025000000000000e-03
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for TROLL-SOL
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   position_id: pos_05-24-12-38-39_25693422
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7582 (from CSV: 5.7582)
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.05199 (from CSV: 0.05199)
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,248 - DEEP_DEBUG - DEBUG -   Total points: 13
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748082600, 'close': 0.021756544, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748104200, 'close': 0.022669955, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -   Valid prices: 13
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -   Min price: 2.175654400000000e-02
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -   Max price: 2.409377400000000e-02
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1074265287722167
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7582 (type: <class 'float'>)
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.05199 (type: <class 'float'>)
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-24 12:38:39
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-24 18:38:41
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -   price_history length: 13
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.021756544, 0.021756544, 0.023396138, 0.023425091, 0.023233992]
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.023831775, 0.022937363, 0.024093774, 0.023335858, 0.022669955]
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -   Initial price: 2.175654400000000e-02
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -   Final price: 2.266995500000000e-02
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0419832763880146
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7582
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -   initial_price: 2.175654400000000e-02
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -   final_price: 2.266995500000000e-02
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0419832763880146
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -   active_bin_index: 4
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 4 bins): 0.3338086956521739
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG - 
Calculating token values for 4 activated bins:
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08345217391304348
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.186505611454440e-02 = 2.175654400000000e-02 * 1.004987562112089
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.816691504282580e+00 = 0.08345217391304348 / 2.186505611454440e-02
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -     Final value: 8.652422465096840e-02 = 3.816691504282580e+00 * 2.266995500000000e-02
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.652422465096839e-02 = 0.08345217391304348 * (2.266995500000000e-02 / 2.186505611454440e-02)
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08345217391304348
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.208370667568984e-02 = 2.175654400000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.778902479487703e+00 = 0.08345217391304348 / 2.208370667568984e-02
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -     Final value: 8.566754915937465e-02 = 3.778902479487703e+00 * 2.266995500000000e-02
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.566754915937466e-02 = 0.08345217391304348 * (2.266995500000000e-02 / 2.208370667568984e-02)
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08345217391304348
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.230454374244674e-02 = 2.175654400000000e-02 * 1.025187812110542
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.741487603453171e+00 = 0.08345217391304348 / 2.230454374244674e-02
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -     Final value: 8.481935560334124e-02 = 3.741487603453171e+00 * 2.266995500000000e-02
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.481935560334122e-02 = 0.08345217391304348 * (2.266995500000000e-02 / 2.230454374244674e-02)
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08345217391304348
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.252758917987121e-02 = 2.175654400000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.704443171735814e+00 = 0.08345217391304348 / 2.252758917987121e-02
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -     Final value: 8.397956000330815e-02 = 3.704443171735814e+00 * 2.266995500000000e-02
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.397956000330815e-02 = 0.08345217391304348 * (2.266995500000000e-02 / 2.252758917987121e-02)
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.424391304347827 = 5.7582 - 0.3338086956521739
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -   Total token value: 3.409906894169925e-01
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.424391304347827
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -   Final asset value: 5.765381993764819e+00
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7582
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG -   PnL from assets: 7.181993764818984e-03
2025-07-15 17:58:05,249 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7582
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -   initial_price: 2.175654400000000e-02
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -   final_price: 2.266995500000000e-02
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0419832763880146
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -   active_bin_index: 4
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 4 bins): 0.47588163234827424
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG - 
Calculating token values for 4 activated bins:
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12426455093621076
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.186505611454440e-02 = 2.175654400000000e-02 * 1.004987562112089
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.683248663311289e+00 = 0.12426455093621076 / 2.186505611454440e-02
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -     Final value: 1.288389914510771e-01 = 5.683248663311289e+00 * 2.266995500000000e-02
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.288389914510771e-01 = 0.12426455093621076 * (2.266995500000000e-02 / 2.186505611454440e-02)
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12066345884593133
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.208370667568984e-02 = 2.175654400000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.463913310294052e+00 = 0.12066345884593133 / 2.208370667568984e-02
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -     Final value: 1.238666688682672e-01 = 5.463913310294052e+00 * 2.266995500000000e-02
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.238666688682672e-01 = 0.12066345884593133 * (2.266995500000000e-02 / 2.208370667568984e-02)
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11716986204192881
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.230454374244674e-02 = 2.175654400000000e-02 * 1.025187812110542
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.253183539412568e+00 = 0.11716986204192881 / 2.230454374244674e-02
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -     Final value: 1.190894344452236e-01 = 5.253183539412568e+00 * 2.266995500000000e-02
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.190894344452236e-01 = 0.11716986204192881 * (2.266995500000000e-02 / 2.230454374244674e-02)
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11378376052420336
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.252758917987121e-02 = 2.175654400000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.050862727285135e+00 = 0.11378376052420336 / 2.252758917987121e-02
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -     Final value: 1.145028307387313e-01 = 5.050862727285135e+00 * 2.266995500000000e-02
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.145028307387313e-01 = 0.11378376052420336 * (2.266995500000000e-02 / 2.252758917987121e-02)
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.282318367651726 = 5.7582 - 0.47588163234827424
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -   Total token value: 4.862979255032992e-01
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.282318367651726
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -   Final asset value: 5.768616293155025e+00
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7582
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.041629315502490e-02
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -     PnL: 1.294019376481899e-02
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.758200000000001e-03
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -     PnL from IL: 7.181993764818984e-03
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -     PnL: 1.444703315502490e-02
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.030740000000001e-03
2025-07-15 17:58:05,250 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.041629315502490e-02
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   position_id: pos_05-24-21-18-38_25762223
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (from CSV: 5.76)
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.18824 (from CSV: 0.18824)
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   Total points: 14
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748113200, 'close': 0.082233152, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748160000, 'close': 0.063684077, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   Valid prices: 14
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   Min price: 6.368407700000001e-02
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   Max price: 9.334279299999999e-02
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   Price ratio: 1.4657163516713916
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (type: <class 'float'>)
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.18824 (type: <class 'float'>)
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-24 21:18:38
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-25 10:45:56
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   price_history length: 14
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.082233152, 0.093342793, 0.085767537, 0.081847177, 0.077604024]
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.071476163, 0.071118245, 0.07425474, 0.067036258, 0.063684077]
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   Initial price: 8.223315200000000e-02
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   Final price: 6.368407700000001e-02
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   Price ratio: 0.7744331264354308
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   initial_price: 8.223315200000000e-02
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   final_price: 6.368407700000001e-02
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   price_ratio: 0.7744331264354308
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.76 = 5.76 - 0
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.76
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   Final asset value: 5.760000000000000e+00
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   initial_price: 8.223315200000000e-02
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   final_price: 6.368407700000001e-02
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   price_ratio: 0.7744331264354308
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.76 = 5.76 - 0
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.76
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   Final asset value: 5.760000000000000e+00
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -     PnL: 5.759999999999999e-03
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759999999999999e-03
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -     PnL: 5.759999999999999e-03
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759999999999999e-03
2025-07-15 17:58:05,251 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for gib-SOL
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   position_id: pos_05-24-21-59-39_1927887
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (from CSV: 5.75)
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03203 (from CSV: 0.03203)
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   Total points: 19
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748113200, 'close': 0.009595214, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748178000, 'close': 0.012594797, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   Valid prices: 19
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   Min price: 9.595213999999999e-03
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   Max price: 1.336900700000000e-02
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   Price ratio: 1.3932995136950568
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (type: <class 'float'>)
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03203 (type: <class 'float'>)
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-24 21:59:39
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-25 15:59:32
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   price_history length: 19
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.009595214, 0.010840136, 0.013369007, 0.012429507, 0.012083233]
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.011040359, 0.011367165, 0.011595153, 0.012358703, 0.012594797]
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   Initial price: 9.595213999999999e-03
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   Final price: 1.259479700000000e-02
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   Price ratio: 1.3126124128133048
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   initial_price: 9.595213999999999e-03
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   final_price: 1.259479700000000e-02
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   price_ratio: 1.3126124128133048
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   active_bin_index: 27
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 27 bins): 3.105000000000002
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG - 
Calculating token values for 27 activated bins:
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.115
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.643070725803785e-03 = 9.595213999999999e-03 * 1.004987562112089
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.192566178035725e+01 = 0.115 / 9.643070725803785e-03
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Final value: 1.502012892142581e-01 = 1.192566178035725e+01 * 1.259479700000000e-02
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.502012892142581e-01 = 0.115 * (1.259479700000000e-02 / 9.643070725803785e-03)
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.115
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.739501433061824e-03 = 9.595213999999999e-03 * 1.0150374377332099
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.180758592114579e+01 = 0.115 / 9.739501433061824e-03
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Final value: 1.487141477368892e-01 = 1.180758592114579e+01 * 1.259479700000000e-02
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.487141477368892e-01 = 0.115 * (1.259479700000000e-02 / 9.739501433061824e-03)
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.115
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.836896447392442e-03 = 9.595213999999999e-03 * 1.025187812110542
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.169067912984731e+01 = 0.115 / 9.836896447392442e-03
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Final value: 1.472417304325636e-01 = 1.169067912984731e+01 * 1.259479700000000e-02
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.472417304325636e-01 = 0.115 * (1.259479700000000e-02 / 9.836896447392442e-03)
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.115
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.935265411866366e-03 = 9.595213999999999e-03 * 1.0354396902316474
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.157492983153199e+01 = 0.115 / 9.935265411866366e-03
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Final value: 1.457838915173897e-01 = 1.157492983153199e+01 * 1.259479700000000e-02
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.457838915173897e-01 = 0.115 * (1.259479700000000e-02 / 9.935265411866366e-03)
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.115
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.003461806598503e-02 = 9.595213999999999e-03 * 1.045794087133964
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.146032656587326e+01 = 0.115 / 1.003461806598503e-02
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Final value: 1.443404866508808e-01 = 1.146032656587326e+01 * 1.259479700000000e-02
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.443404866508808e-01 = 0.115 * (1.259479700000000e-02 / 1.003461806598503e-02)
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 22 more bins processed)
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 2.644999999999998 = 5.75 - 3.105000000000002
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   Total token value: 3.574070267445906e+00
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   Remaining SOL: 2.644999999999998
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   Final asset value: 6.219070267445904e+00
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   PnL from assets: 4.690702674459040e-01
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   initial_price: 9.595213999999999e-03
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   final_price: 1.259479700000000e-02
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   price_ratio: 1.3126124128133048
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   active_bin_index: 27
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 27 bins): 3.0461131725417427
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG - 
Calculating token values for 27 activated bins:
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.17075757575757572
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.643070725803785e-03 = 9.595213999999999e-03 * 1.004987562112089
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.770780082537894e+01 = 0.17075757575757572 / 9.643070725803785e-03
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Final value: 2.230261567120801e-01 = 1.770780082537894e+01 * 1.259479700000000e-02
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.230261567120801e-01 = 0.17075757575757572 * (1.259479700000000e-02 / 9.643070725803785e-03)
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16393011750154604
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.739501433061824e-03 = 9.595213999999999e-03 * 1.0150374377332099
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.683146910837417e+01 = 0.16393011750154604 / 9.739501433061824e-03
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Final value: 2.119889366317436e-01 = 1.683146910837417e+01 * 1.259479700000000e-02
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.119889366317436e-01 = 0.16393011750154604 * (1.259479700000000e-02 / 9.739501433061824e-03)
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,252 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1573871366728509
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.836896447392442e-03 = 9.595213999999999e-03 * 1.025187812110542
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.599967403484978e+01 = 0.1573871366728509 / 9.836896447392442e-03
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -     Final value: 2.015126465351039e-01 = 1.599967403484978e+01 * 1.259479700000000e-02
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.015126465351039e-01 = 0.1573871366728509 * (1.259479700000000e-02 / 9.836896447392442e-03)
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1511286332714904
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.935265411866366e-03 = 9.595213999999999e-03 * 1.0354396902316474
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.521133326654637e+01 = 0.1511286332714904 / 9.935265411866366e-03
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -     Final value: 1.915836545914985e-01 = 1.521133326654637e+01 * 1.259479700000000e-02
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.915836545914984e-01 = 0.1511286332714904 * (1.259479700000000e-02 / 9.935265411866366e-03)
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1451546072974644
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.003461806598503e-02 = 9.595213999999999e-03 * 1.045794087133964
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.446538436669593e+01 = 0.1451546072974644 / 1.003461806598503e-02
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -     Final value: 1.821885796255088e-01 = 1.446538436669593e+01 * 1.259479700000000e-02
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.821885796255088e-01 = 0.1451546072974644 * (1.259479700000000e-02 / 1.003461806598503e-02)
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 22 more bins processed)
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 2.7038868274582573 = 5.75 - 3.0461131725417427
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   Total token value: 3.568230221713602e+00
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   Remaining SOL: 2.7038868274582573
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   Final asset value: 6.272117049171859e+00
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   PnL from assets: 5.221170491718592e-01
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -     PnL: 4.748202674459039e-01
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -     PnL from IL: 4.690702674459040e-01
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -     PnL: 5.261420491718591e-01
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.025000000000000e-03
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -     PnL from IL: 5.221170491718592e-01
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   position_id: pos_05-25-03-18-34_10358245
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7598 (from CSV: 5.7598)
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.17525 (from CSV: 0.17525)
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   Total points: 16
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748134800, 'close': 0.021919079, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748188800, 'close': 0.021424563, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   Valid prices: 16
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   Min price: 2.005010100000000e-02
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   Max price: 2.792043900000000e-02
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   Price ratio: 1.3925335837460369
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7598 (type: <class 'float'>)
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.17525 (type: <class 'float'>)
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-25 03:18:34
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-25 18:06:59
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   price_history length: 16
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.021919079, 0.027920439, 0.024465515, 0.024396765, 0.02600317]
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.023609101, 0.022527878, 0.020660078, 0.020050101, 0.021424563]
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   Initial price: 2.191907900000000e-02
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   Final price: 2.142456300000000e-02
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9774390155717765
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7598
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   initial_price: 2.191907900000000e-02
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   final_price: 2.142456300000000e-02
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9774390155717765
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7598 = 5.7598 - 0
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7598
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759800000000000e+00
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7598
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7598
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   initial_price: 2.191907900000000e-02
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   final_price: 2.142456300000000e-02
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9774390155717765
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7598 = 5.7598 - 0
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7598
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759800000000000e+00
2025-07-15 17:58:05,253 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7598
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -     PnL: 5.759800000000001e-03
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759800000000001e-03
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -     PnL: 5.759800000000001e-03
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759800000000001e-03
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -   position_id: pos_05-25-13-25-21_25827983
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7601 (from CSV: 5.7601)
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.21147 (from CSV: 0.21147)
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -   Total points: 13
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748170800, 'close': 0.061770309, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748214000, 'close': 0.053214578, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -   Valid prices: 13
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -   Min price: 4.814436000000000e-02
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -   Max price: 6.835249700000000e-02
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -   Price ratio: 1.4197404846590547
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7601 (type: <class 'float'>)
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.21147 (type: <class 'float'>)
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-25 13:25:21
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-26 01:26:39
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -   price_history length: 13
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.061770309, 0.068352497, 0.061810247, 0.05953997, 0.057990879]
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.049569783, 0.052322357, 0.04814436, 0.055298902, 0.053214578]
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -   Initial price: 6.177030900000000e-02
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -   Final price: 5.321457800000000e-02
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -   Price ratio: 0.8614912060744264
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7601
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -   initial_price: 6.177030900000000e-02
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -   final_price: 5.321457800000000e-02
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8614912060744264
2025-07-15 17:58:05,254 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7601 = 5.7601 - 0
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7601
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG -   Final asset value: 5.760100000000000e+00
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7601
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7601
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG -   initial_price: 6.177030900000000e-02
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG -   final_price: 5.321457800000000e-02
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8614912060744264
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7601 = 5.7601 - 0
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7601
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG -   Final asset value: 5.760100000000000e+00
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7601
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG -     PnL: 5.760100000000001e-03
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.760100000000001e-03
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG -     PnL: 5.760100000000001e-03
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.760100000000001e-03
2025-07-15 17:58:05,255 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,256 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,256 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for gib-SOL
2025-07-15 17:58:05,256 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,256 - DEEP_DEBUG - DEBUG -   position_id: pos_05-25-18-06-27_2001016
2025-07-15 17:58:05,256 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (from CSV: 5.75)
2025-07-15 17:58:05,256 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.17288 (from CSV: 0.17288)
2025-07-15 17:58:05,256 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,256 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:05,256 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,256 - DEEP_DEBUG - DEBUG -   Total points: 72
2025-07-15 17:58:05,256 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748188800, 'close': 0.013598338, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,256 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748444400, 'close': 0.006585093, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,256 - DEEP_DEBUG - DEBUG -   Valid prices: 72
2025-07-15 17:58:05,256 - DEEP_DEBUG - DEBUG -   Min price: 6.319302000000000e-03
2025-07-15 17:58:05,256 - DEEP_DEBUG - DEBUG -   Max price: 1.506624900000000e-02
2025-07-15 17:58:05,256 - DEEP_DEBUG - DEBUG -   Price ratio: 2.3841634724847776
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (type: <class 'float'>)
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.17288 (type: <class 'float'>)
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-25 18:06:27
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-28 17:23:50
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG -   price_history length: 72
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.013598338, 0.015066249, 0.014282036, 0.012468179, 0.011831244]
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.007151174, 0.00723151, 0.006672471, 0.006319302, 0.006585093]
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG -   Initial price: 1.359833800000000e-02
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG -   Final price: 6.585093000000000e-03
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG -   Price ratio: 0.48425719378353443
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG -   initial_price: 1.359833800000000e-02
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG -   final_price: 6.585093000000000e-03
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG -   price_ratio: 0.48425719378353443
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.75 = 5.75 - 0
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.75
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG -   Final asset value: 5.750000000000000e+00
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,257 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,258 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,258 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,258 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,258 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,258 - DEEP_DEBUG - DEBUG -   initial_price: 1.359833800000000e-02
2025-07-15 17:58:05,258 - DEEP_DEBUG - DEBUG -   final_price: 6.585093000000000e-03
2025-07-15 17:58:05,258 - DEEP_DEBUG - DEBUG -   price_ratio: 0.48425719378353443
2025-07-15 17:58:05,258 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,258 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,258 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,258 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,258 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,258 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.75 = 5.75 - 0
2025-07-15 17:58:05,258 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,258 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,258 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.75
2025-07-15 17:58:05,258 - DEEP_DEBUG - DEBUG -   Final asset value: 5.750000000000000e+00
2025-07-15 17:58:05,258 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,258 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,258 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,258 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,258 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,258 - DEEP_DEBUG - DEBUG -     PnL: 5.750000000000000e-03
2025-07-15 17:58:05,258 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:05,258 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,258 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,258 - DEEP_DEBUG - DEBUG -     PnL: 5.750000000000000e-03
2025-07-15 17:58:05,258 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:05,258 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,259 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,259 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:05,259 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,259 - DEEP_DEBUG - DEBUG -   position_id: pos_05-25-20-40-40_10433518
2025-07-15 17:58:05,259 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (from CSV: 5.76)
2025-07-15 17:58:05,259 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.04225 (from CSV: 0.04225)
2025-07-15 17:58:05,259 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,259 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,259 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,259 - DEEP_DEBUG - DEBUG -   Total points: 29
2025-07-15 17:58:05,259 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748196000, 'close': 0.022646604, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,259 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748296800, 'close': 0.041247178, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,259 - DEEP_DEBUG - DEBUG -   Valid prices: 29
2025-07-15 17:58:05,259 - DEEP_DEBUG - DEBUG -   Min price: 2.114199700000000e-02
2025-07-15 17:58:05,259 - DEEP_DEBUG - DEBUG -   Max price: 4.300789500000000e-02
2025-07-15 17:58:05,259 - DEEP_DEBUG - DEBUG -   Price ratio: 2.0342399537754168
2025-07-15 17:58:05,259 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,259 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,259 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,259 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (type: <class 'float'>)
2025-07-15 17:58:05,259 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.04225 (type: <class 'float'>)
2025-07-15 17:58:05,259 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-25 20:40:40
2025-07-15 17:58:05,259 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-27 00:10:54
2025-07-15 17:58:05,259 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,259 - DEEP_DEBUG - DEBUG -   price_history length: 29
2025-07-15 17:58:05,259 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,259 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.022646604, 0.021141997, 0.022245922, 0.024101863, 0.023980178]
2025-07-15 17:58:05,259 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.035417784, 0.037741224, 0.043007895, 0.041523115, 0.041247178]
2025-07-15 17:58:05,259 - DEEP_DEBUG - DEBUG -   Initial price: 2.264660400000000e-02
2025-07-15 17:58:05,259 - DEEP_DEBUG - DEBUG -   Final price: 4.124717800000000e-02
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -   Price ratio: 1.8213405418313493
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -   initial_price: 2.264660400000000e-02
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -   final_price: 4.124717800000000e-02
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -   price_ratio: 1.8213405418313493
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -   active_bin_index: 60
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 60 bins): 5.008695652173911
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG - 
Calculating token values for 60 activated bins:
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.275955534407788e-02 = 2.264660400000000e-02 * 1.004987562112089
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.667833558588681e+00 = 0.08347826086956521 / 2.275955534407788e-02
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -     Final value: 1.512877836654808e-01 = 3.667833558588681e+00 * 4.124717800000000e-02
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.512877836654808e-01 = 0.08347826086956521 * (4.124717800000000e-02 / 2.275955534407788e-02)
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.298715089751866e-02 = 2.264660400000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.631518374840278e+00 = 0.08347826086956521 / 2.298715089751866e-02
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -     Final value: 1.497898848173077e-01 = 3.631518374840278e+00 * 4.124717800000000e-02
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.497898848173077e-01 = 0.08347826086956521 * (4.124717800000000e-02 / 2.298715089751866e-02)
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.321702240649385e-02 = 2.264660400000000e-02 * 1.025187812110542
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.595562747366612e+00 = 0.08347826086956521 / 2.321702240649385e-02
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -     Final value: 1.483068166507997e-01 = 3.595562747366612e+00 * 4.124717800000000e-02
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.483068166507997e-01 = 0.08347826086956521 * (4.124717800000000e-02 / 2.321702240649385e-02)
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.344919263055879e-02 = 2.264660400000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.559963116204566e+00 = 0.08347826086956521 / 2.344919263055879e-02
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -     Final value: 1.468384323275244e-01 = 3.559963116204566e+00 * 4.124717800000000e-02
2025-07-15 17:58:05,260 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.468384323275244e-01 = 0.08347826086956521 * (4.124717800000000e-02 / 2.344919263055879e-02)
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.368368455686438e-02 = 2.264660400000000e-02 * 1.045794087133964
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.524715956638184e+00 = 0.08347826086956521 / 2.368368455686438e-02
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -     Final value: 1.453845864628955e-01 = 3.524715956638184e+00 * 4.124717800000000e-02
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.453845864628955e-01 = 0.08347826086956521 * (4.124717800000000e-02 / 2.368368455686438e-02)
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 55 more bins processed)
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 0.751304347826089 = 5.76 - 5.008695652173911
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -   Total token value: 6.869159606324940e+00
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -   Remaining SOL: 0.751304347826089
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -   Final asset value: 7.620463954151029e+00
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.860463954151029e+00
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -   initial_price: 2.264660400000000e-02
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -   final_price: 4.124717800000000e-02
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -   price_ratio: 1.8213405418313493
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -   active_bin_index: 60
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 60 bins): 4.7619168517930826
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG - 
Calculating token values for 60 activated bins:
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1243033957473818
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.275955534407788e-02 = 2.264660400000000e-02 * 1.004987562112089
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.461591576292636e+00 = 0.1243033957473818 / 2.275955534407788e-02
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -     Final value: 2.252752399106430e-01 = 5.461591576292636e+00 * 4.124717800000000e-02
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.252752399106429e-01 = 0.1243033957473818 * (4.124717800000000e-02 / 2.275955534407788e-02)
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12070117796404507
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.298715089751866e-02 = 2.264660400000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.250810702994694e+00 = 0.12070117796404507 / 2.298715089751866e-02
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -     Final value: 2.165811237107273e-01 = 5.250810702994694e+00 * 4.124717800000000e-02
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.165811237107273e-01 = 0.12070117796404507 * (4.124717800000000e-02 / 2.298715089751866e-02)
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1172064890697631
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.321702240649385e-02 = 2.264660400000000e-02 * 1.025187812110542
2025-07-15 17:58:05,261 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.048299778397948e+00 = 0.1172064890697631 / 2.321702240649385e-02
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG -     Final value: 2.082281195569407e-01 = 5.048299778397948e+00 * 4.124717800000000e-02
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.082281195569407e-01 = 0.1172064890697631 * (4.124717800000000e-02 / 2.321702240649385e-02)
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11381932906453603
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.344919263055879e-02 = 2.264660400000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.853869847792016e+00 = 0.11381932906453603 / 2.344919263055879e-02
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG -     Final value: 2.002084336007102e-01 = 4.853869847792016e+00 * 4.124717800000000e-02
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.002084336007102e-01 = 0.11381932906453603 * (4.124717800000000e-02 / 2.344919263055879e-02)
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11053969794836377
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.368368455686438e-02 = 2.264660400000000e-02 * 1.045794087133964
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.667335341465077e+00 = 0.11053969794836377 / 2.368368455686438e-02
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG -     Final value: 1.925144116151008e-01 = 4.667335341465077e+00 * 4.124717800000000e-02
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.925144116151008e-01 = 0.11053969794836377 * (4.124717800000000e-02 / 2.368368455686438e-02)
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 55 more bins processed)
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 0.9980831482069172 = 5.76 - 4.7619168517930826
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG -   Total token value: 6.664454522336650e+00
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG -   Remaining SOL: 0.9980831482069172
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG -   Final asset value: 7.662537670543567e+00
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.902537670543567e+00
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG -     PnL: 1.866223954151029e+00
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759999999999999e-03
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.860463954151029e+00
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG -     PnL: 1.906569670543567e+00
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.031999999999999e-03
2025-07-15 17:58:05,262 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.902537670543567e+00
2025-07-15 17:58:05,263 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,263 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:05,263 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,263 - DEEP_DEBUG - DEBUG -   position_id: pos_05-26-01-08-47_10453498
2025-07-15 17:58:05,263 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7595 (from CSV: 5.7595)
2025-07-15 17:58:05,263 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.11115 (from CSV: 0.11115)
2025-07-15 17:58:05,263 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,263 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,263 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,263 - DEEP_DEBUG - DEBUG -   Total points: 15
2025-07-15 17:58:05,263 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748214000, 'close': 0.028611354, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,263 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748239200, 'close': 0.027010905, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,263 - DEEP_DEBUG - DEBUG -   Valid prices: 15
2025-07-15 17:58:05,263 - DEEP_DEBUG - DEBUG -   Min price: 2.591502200000000e-02
2025-07-15 17:58:05,263 - DEEP_DEBUG - DEBUG -   Max price: 3.276381300000000e-02
2025-07-15 17:58:05,263 - DEEP_DEBUG - DEBUG -   Price ratio: 1.264278803236208
2025-07-15 17:58:05,263 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,263 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,263 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,263 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7595 (type: <class 'float'>)
2025-07-15 17:58:05,263 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.11115 (type: <class 'float'>)
2025-07-15 17:58:05,263 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-26 01:08:47
2025-07-15 17:58:05,263 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-26 08:26:38
2025-07-15 17:58:05,263 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,263 - DEEP_DEBUG - DEBUG -   price_history length: 15
2025-07-15 17:58:05,263 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,263 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.028611354, 0.028611354, 0.028611354, 0.032763813, 0.030350359]
2025-07-15 17:58:05,263 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.027431887, 0.026874569, 0.026600637, 0.025915022, 0.027010905]
2025-07-15 17:58:05,263 - DEEP_DEBUG - DEBUG -   Initial price: 2.861135400000000e-02
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -   Final price: 2.701090500000000e-02
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9440624515707996
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7595
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -   initial_price: 2.861135400000000e-02
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -   final_price: 2.701090500000000e-02
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9440624515707996
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7595 = 5.7595 - 0
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7595
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759500000000000e+00
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7595
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7595
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -   initial_price: 2.861135400000000e-02
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -   final_price: 2.701090500000000e-02
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9440624515707996
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7595 = 5.7595 - 0
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7595
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759500000000000e+00
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7595
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -     PnL: 5.759500000000000e-03
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759500000000000e-03
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,264 - DEEP_DEBUG - DEBUG -     PnL: 4.031649999999999e-03
2025-07-15 17:58:05,265 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.031649999999999e-03
2025-07-15 17:58:05,265 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,265 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,265 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:05,265 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,265 - DEEP_DEBUG - DEBUG -   position_id: pos_05-26-03-09-37_25876646
2025-07-15 17:58:05,265 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (from CSV: 5.76)
2025-07-15 17:58:05,265 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.0101 (from CSV: 0.0101)
2025-07-15 17:58:05,265 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,265 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,265 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,265 - DEEP_DEBUG - DEBUG -   Total points: 5
2025-07-15 17:58:05,265 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748221200, 'close': 0.048859744, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,265 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748223600, 'close': 0.060648945, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,265 - DEEP_DEBUG - DEBUG -   Valid prices: 5
2025-07-15 17:58:05,265 - DEEP_DEBUG - DEBUG -   Min price: 4.885974400000000e-02
2025-07-15 17:58:05,265 - DEEP_DEBUG - DEBUG -   Max price: 6.064894500000000e-02
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2412865896309242
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (type: <class 'float'>)
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.0101 (type: <class 'float'>)
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-26 03:09:37
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-26 03:49:58
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -   price_history length: 5
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.048859744, 0.050340071, 0.058323117, 0.059186107, 0.060648945]
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.048859744, 0.050340071, 0.058323117, 0.059186107, 0.060648945]
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -   Initial price: 4.885974400000000e-02
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -   Final price: 6.064894500000000e-02
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2412865896309242
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -   initial_price: 4.885974400000000e-02
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -   final_price: 6.064894500000000e-02
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -   price_ratio: 1.2412865896309242
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -   active_bin_index: 21
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 21 bins): 1.7530434782608695
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG - 
Calculating token values for 21 activated bins:
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.910343500798076e-02 = 4.885974400000000e-02 * 1.004987562112089
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.700049311336315e+00 = 0.08347826086956521 / 4.910343500798076e-02
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -     Final value: 1.031061971805241e-01 = 1.700049311336315e+00 * 6.064894500000000e-02
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.031061971805241e-01 = 0.08347826086956521 * (6.064894500000000e-02 / 4.910343500798076e-02)
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.959446935806057e-02 = 4.885974400000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.683217139936946e+00 = 0.08347826086956521 / 4.959446935806057e-02
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -     Final value: 1.020853437430931e-01 = 1.683217139936946e+00 * 6.064894500000000e-02
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.020853437430931e-01 = 0.08347826086956521 * (6.064894500000000e-02 / 4.959446935806057e-02)
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:05,266 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.009041405164118e-02 = 4.885974400000000e-02 * 1.025187812110542
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.666551623699946e+00 = 0.08347826086956521 / 5.009041405164118e-02
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -     Final value: 1.010745977654387e-01 = 1.666551623699946e+00 * 6.064894500000000e-02
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.010745977654387e-01 = 0.08347826086956521 * (6.064894500000000e-02 / 5.009041405164118e-02)
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.059131819215759e-02 = 4.885974400000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.650051112574204e+00 = 0.08347826086956521 / 5.059131819215759e-02
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -     Final value: 1.000738591737017e-01 = 1.650051112574204e+00 * 6.064894500000000e-02
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.000738591737017e-01 = 0.08347826086956521 * (6.064894500000000e-02 / 5.059131819215759e-02)
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.109723137407917e-02 = 4.885974400000000e-02 * 1.045794087133964
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.633713972845747e+00 = 0.08347826086956521 / 5.109723137407917e-02
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -     Final value: 9.908302888485318e-02 = 1.633713972845747e+00 * 6.064894500000000e-02
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.908302888485319e-02 = 0.08347826086956521 * (6.064894500000000e-02 / 5.109723137407917e-02)
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 16 more bins processed)
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.006956521739131 = 5.76 - 1.7530434782608695
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -   Total token value: 1.963714539552395e+00
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.006956521739131
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -   Final asset value: 5.970671061291526e+00
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.106710612915261e-01
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -   initial_price: 4.885974400000000e-02
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -   final_price: 6.064894500000000e-02
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -   price_ratio: 1.2412865896309242
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -   active_bin_index: 21
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 21 bins): 1.9969189986372209
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG - 
Calculating token values for 21 activated bins:
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1243033957473818
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.910343500798076e-02 = 4.885974400000000e-02 * 1.004987562112089
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.531460288413200e+00 = 0.1243033957473818 / 4.910343500798076e-02
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -     Final value: 1.535303958016563e-01 = 2.531460288413200e+00 * 6.064894500000000e-02
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.535303958016563e-01 = 0.1243033957473818 * (6.064894500000000e-02 / 4.910343500798076e-02)
2025-07-15 17:58:05,267 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12070117796404507
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.959446935806057e-02 = 4.885974400000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.433762867641764e+00 = 0.12070117796404507 / 4.959446935806057e-02
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -     Final value: 1.476051503026476e-01 = 2.433762867641764e+00 * 6.064894500000000e-02
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.476051503026476e-01 = 0.12070117796404507 * (6.064894500000000e-02 / 4.959446935806057e-02)
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1172064890697631
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.009041405164118e-02 = 4.885974400000000e-02 * 1.025187812110542
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.339898587161367e+00 = 0.1172064890697631 / 5.009041405164118e-02
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -     Final value: 1.419123807183275e-01 = 2.339898587161367e+00 * 6.064894500000000e-02
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.419123807183275e-01 = 0.1172064890697631 * (6.064894500000000e-02 / 5.009041405164118e-02)
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11381932906453603
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.059131819215759e-02 = 4.885974400000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.249779866028075e+00 = 0.11381932906453603 / 5.059131819215759e-02
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -     Final value: 1.364467753568441e-01 = 2.249779866028075e+00 * 6.064894500000000e-02
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.364467753568441e-01 = 0.11381932906453603 * (6.064894500000000e-02 / 5.059131819215759e-02)
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11053969794836377
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.109723137407917e-02 = 4.885974400000000e-02 * 1.045794087133964
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.163320692252591e+00 = 0.11053969794836377 / 5.109723137407917e-02
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -     Final value: 1.312031176817893e-01 = 2.163320692252591e+00 * 6.064894500000000e-02
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.312031176817893e-01 = 0.11053969794836377 * (6.064894500000000e-02 / 5.109723137407917e-02)
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 16 more bins processed)
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 3.763081001362779 = 5.76 - 1.9969189986372209
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -   Total token value: 2.259097149912259e+00
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -   Remaining SOL: 3.763081001362779
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -   Final asset value: 6.022178151275038e+00
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.621781512750383e-01
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -     PnL: 2.164310612915261e-01
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759999999999999e-03
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.106710612915261e-01
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -     PnL: 2.662101512750383e-01
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.031999999999999e-03
2025-07-15 17:58:05,268 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.621781512750383e-01
2025-07-15 17:58:05,269 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,269 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:05,269 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,269 - DEEP_DEBUG - DEBUG -   position_id: pos_05-26-06-16-47_25913095
2025-07-15 17:58:05,269 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7586 (from CSV: 5.7586)
2025-07-15 17:58:05,269 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.16105 (from CSV: 0.16105)
2025-07-15 17:58:05,269 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,269 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,269 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,269 - DEEP_DEBUG - DEBUG -   Total points: 21
2025-07-15 17:58:05,269 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748232000, 'close': 0.071449457, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,269 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748268000, 'close': 0.078540671, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,269 - DEEP_DEBUG - DEBUG -   Valid prices: 21
2025-07-15 17:58:05,269 - DEEP_DEBUG - DEBUG -   Min price: 7.144945699999999e-02
2025-07-15 17:58:05,269 - DEEP_DEBUG - DEBUG -   Max price: 8.380718500000001e-02
2025-07-15 17:58:05,269 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1729576195379625
2025-07-15 17:58:05,269 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,269 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,269 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7586 (type: <class 'float'>)
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.16105 (type: <class 'float'>)
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-26 06:16:47
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-26 16:14:33
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -   price_history length: 21
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.071449457, 0.074711759, 0.077049664, 0.081691814, 0.083807185]
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.0785274, 0.082033392, 0.074483966, 0.072120344, 0.078540671]
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -   Initial price: 7.144945699999999e-02
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -   Final price: 7.854067100000001e-02
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0992479760902873
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7586
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -   initial_price: 7.144945699999999e-02
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -   final_price: 7.854067100000001e-02
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0992479760902873
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -   active_bin_index: 9
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 9 bins): 0.7511217391304348
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG - 
Calculating token values for 9 activated bins:
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08345797101449276
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.180581560466252e-02 = 7.144945699999999e-02 * 1.004987562112089
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.162273143361854e+00 = 0.08345797101449276 / 7.180581560466252e-02
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -     Final value: 9.128571256491920e-02 = 1.162273143361854e+00 * 7.854067100000001e-02
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.128571256491920e-02 = 0.08345797101449276 * (7.854067100000001e-02 / 7.180581560466252e-02)
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08345797101449276
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.252387376070915e-02 = 7.144945699999999e-02 * 1.0150374377332099
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.150765488477083e+00 = 0.08345797101449276 / 7.252387376070915e-02
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -     Final value: 9.038189362863286e-02 = 1.150765488477083e+00 * 7.854067100000001e-02
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.038189362863286e-02 = 0.08345797101449276 * (7.854067100000001e-02 / 7.252387376070915e-02)
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08345797101449276
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,270 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.324911249831624e-02 = 7.144945699999999e-02 * 1.025187812110542
2025-07-15 17:58:05,271 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.139371770769389e+00 = 0.08345797101449276 / 7.324911249831624e-02
2025-07-15 17:58:05,271 - DEEP_DEBUG - DEBUG -     Final value: 8.948702339468602e-02 = 1.139371770769389e+00 * 7.854067100000001e-02
2025-07-15 17:58:05,271 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.948702339468600e-02 = 0.08345797101449276 * (7.854067100000001e-02 / 7.324911249831624e-02)
2025-07-15 17:58:05,271 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,271 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08345797101449276
2025-07-15 17:58:05,271 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,271 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.398160362329941e-02 = 7.144945699999999e-02 * 1.0354396902316474
2025-07-15 17:58:05,271 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.128090862147910e+00 = 0.08345797101449276 / 7.398160362329941e-02
2025-07-15 17:58:05,271 - DEEP_DEBUG - DEBUG -     Final value: 8.860101326206536e-02 = 1.128090862147910e+00 * 7.854067100000001e-02
2025-07-15 17:58:05,271 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.860101326206536e-02 = 0.08345797101449276 * (7.854067100000001e-02 / 7.398160362329941e-02)
2025-07-15 17:58:05,271 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,271 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08345797101449276
2025-07-15 17:58:05,271 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,271 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.472141965953240e-02 = 7.144945699999999e-02 * 1.045794087133964
2025-07-15 17:58:05,271 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.116921645691000e+00 = 0.08345797101449276 / 7.472141965953240e-02
2025-07-15 17:58:05,271 - DEEP_DEBUG - DEBUG -     Final value: 8.772377550699539e-02 = 1.116921645691000e+00 * 7.854067100000001e-02
2025-07-15 17:58:05,271 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.772377550699541e-02 = 0.08345797101449276 * (7.854067100000001e-02 / 7.472141965953240e-02)
2025-07-15 17:58:05,271 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 4 more bins processed)
2025-07-15 17:58:05,271 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.007478260869566 = 5.7586 - 0.7511217391304348
2025-07-15 17:58:05,271 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,271 - DEEP_DEBUG - DEBUG -   Total token value: 7.897745684522706e-01
2025-07-15 17:58:05,271 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.007478260869566
2025-07-15 17:58:05,271 - DEEP_DEBUG - DEBUG -   Final asset value: 5.797252829321836e+00
2025-07-15 17:58:05,271 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7586
2025-07-15 17:58:05,271 - DEEP_DEBUG - DEBUG -   PnL from assets: 3.865282932183600e-02
2025-07-15 17:58:05,271 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,271 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,271 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,271 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,271 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7586
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -   initial_price: 7.144945699999999e-02
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -   final_price: 7.854067100000001e-02
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0992479760902873
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -   active_bin_index: 9
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 9 bins): 0.9978405585528406
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG - 
Calculating token values for 9 activated bins:
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.124273183116471
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.180581560466252e-02 = 7.144945699999999e-02 * 1.004987562112089
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.730684096684804e+00 = 0.124273183116471 / 7.180581560466252e-02
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -     Final value: 1.359290902426534e-01 = 1.730684096684804e+00 * 7.854067100000001e-02
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.359290902426534e-01 = 0.124273183116471 * (7.854067100000001e-02 / 7.180581560466252e-02)
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12067184087217882
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.252387376070915e-02 = 7.144945699999999e-02 * 1.0150374377332099
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.663891276275903e+00 = 0.12067184087217882 / 7.252387376070915e-02
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -     Final value: 1.306831373097558e-01 = 1.663891276275903e+00 * 7.854067100000001e-02
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.306831373097558e-01 = 0.12067184087217882 * (7.854067100000001e-02 / 7.252387376070915e-02)
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11717800138144754
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.324911249831624e-02 = 7.144945699999999e-02 * 1.025187812110542
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.599719059860842e+00 = 0.11717800138144754 / 7.324911249831624e-02
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -     Final value: 1.256430083729597e-01 = 1.599719059860842e+00 * 7.854067100000001e-02
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.256430083729597e-01 = 0.11717800138144754 * (7.854067100000001e-02 / 7.324911249831624e-02)
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11379166464427729
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.398160362329941e-02 = 7.144945699999999e-02 * 1.0354396902316474
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.538107570953494e+00 = 0.11379166464427729 / 7.398160362329941e-02
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -     Final value: 1.208040006928676e-01 = 1.538107570953494e+00 * 7.854067100000001e-02
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.208040006928676e-01 = 0.11379166464427729 * (7.854067100000001e-02 / 7.398160362329941e-02)
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11051283066066798
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.472141965953240e-02 = 7.144945699999999e-02 * 1.045794087133964
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.478998005715348e+00 = 0.11051283066066798 / 7.472141965953240e-02
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -     Final value: 1.161614957765452e-01 = 1.478998005715348e+00 * 7.854067100000001e-02
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.161614957765452e-01 = 0.11051283066066798 * (7.854067100000001e-02 / 7.472141965953240e-02)
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 4 more bins processed)
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.76075944144716 = 5.7586 - 0.9978405585528406
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -   Total token value: 1.051214682037132e+00
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.76075944144716
2025-07-15 17:58:05,272 - DEEP_DEBUG - DEBUG -   Final asset value: 5.811974123484292e+00
2025-07-15 17:58:05,273 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7586
2025-07-15 17:58:05,273 - DEEP_DEBUG - DEBUG -   PnL from assets: 5.337412348429194e-02
2025-07-15 17:58:05,273 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,273 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,273 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,273 - DEEP_DEBUG - DEBUG -     PnL: 4.441142932183600e-02
2025-07-15 17:58:05,273 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.758600000000001e-03
2025-07-15 17:58:05,273 - DEEP_DEBUG - DEBUG -     PnL from IL: 3.865282932183600e-02
2025-07-15 17:58:05,273 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,273 - DEEP_DEBUG - DEBUG -     PnL: 5.740514348429194e-02
2025-07-15 17:58:05,273 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.031020000000001e-03
2025-07-15 17:58:05,273 - DEEP_DEBUG - DEBUG -     PnL from IL: 5.337412348429194e-02
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   position_id: pos_05-26-08-27-49_35513817
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (from CSV: 5.76)
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01715 (from CSV: 0.01715)
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   Total points: 8
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748240400, 'close': 0.027010905, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748244600, 'close': 0.028233723, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   Valid prices: 8
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   Min price: 2.668292400000000e-02
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   Max price: 2.823372300000000e-02
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   Price ratio: 1.058119529928579
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (type: <class 'float'>)
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01715 (type: <class 'float'>)
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-26 08:27:49
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-26 09:37:15
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   price_history length: 8
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.027010905, 0.027469708, 0.027472873, 0.026682924, 0.027129938]
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.026682924, 0.027129938, 0.026980855, 0.027895191, 0.028233723]
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   Initial price: 2.701090500000000e-02
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   Final price: 2.823372300000000e-02
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0452712709922158
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   initial_price: 2.701090500000000e-02
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   final_price: 2.823372300000000e-02
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0452712709922158
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   active_bin_index: 4
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 4 bins): 0.33391304347826084
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG - 
Calculating token values for 4 activated bins:
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.714562356639124e-02 = 2.701090500000000e-02 * 1.004987562112089
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.075201446944064e+00 = 0.08347826086956521 / 2.714562356639124e-02
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Final value: 8.682438582221789e-02 = 3.075201446944064e+00 * 2.823372300000000e-02
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.682438582221789e-02 = 0.08347826086956521 * (2.823372300000000e-02 / 2.714562356639124e-02)
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.741707980205515e-02 = 2.701090500000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.044753907865410e+00 = 0.08347826086956521 / 2.741707980205515e-02
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Final value: 8.596473843783950e-02 = 3.044753907865410e+00 * 2.823372300000000e-02
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.596473843783950e-02 = 0.08347826086956521 * (2.823372300000000e-02 / 2.741707980205515e-02)
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.769125060007570e-02 = 2.701090500000000e-02 * 1.025187812110542
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.014607829569713e+00 = 0.08347826086956521 / 2.769125060007570e-02
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Final value: 8.511360241370247e-02 = 3.014607829569713e+00 * 2.823372300000000e-02
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.511360241370246e-02 = 0.08347826086956521 * (2.823372300000000e-02 / 2.769125060007570e-02)
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.796816310607646e-02 = 2.701090500000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.984760227296745e+00 = 0.08347826086956521 / 2.796816310607646e-02
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Final value: 8.427089347891334e-02 = 2.984760227296745e+00 * 2.823372300000000e-02
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.427089347891333e-02 = 0.08347826086956521 * (2.823372300000000e-02 / 2.796816310607646e-02)
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.426086956521739 = 5.76 - 0.33391304347826084
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   Total token value: 3.421736201526732e-01
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.426086956521739
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   Final asset value: 5.768260576674412e+00
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   PnL from assets: 8.260576674412157e-03
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   initial_price: 2.701090500000000e-02
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   final_price: 2.823372300000000e-02
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0452712709922158
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   active_bin_index: 4
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 4 bins): 0.476030391845726
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG - 
Calculating token values for 4 activated bins:
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1243033957473818
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.714562356639124e-02 = 2.701090500000000e-02 * 1.004987562112089
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.579132081580943e+00 = 0.1243033957473818 / 2.714562356639124e-02
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Final value: 1.292859467717697e-01 = 4.579132081580943e+00 * 2.823372300000000e-02
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.292859467717697e-01 = 0.1243033957473818 * (2.823372300000000e-02 / 2.714562356639124e-02)
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12070117796404507
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.741707980205515e-02 = 2.701090500000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.402408237327940e+00 = 0.12070117796404507 / 2.741707980205515e-02
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Final value: 1.242963747056353e-01 = 4.402408237327940e+00 * 2.823372300000000e-02
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.242963747056353e-01 = 0.12070117796404507 * (2.823372300000000e-02 / 2.741707980205515e-02)
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1172064890697631
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.769125060007570e-02 = 2.701090500000000e-02 * 1.025187812110542
2025-07-15 17:58:05,274 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.232618120520807e+00 = 0.1172064890697631 / 2.769125060007570e-02
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -     Final value: 1.195025675795651e-01 = 4.232618120520807e+00 * 2.823372300000000e-02
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.195025675795651e-01 = 0.1172064890697631 * (2.823372300000000e-02 / 2.769125060007570e-02)
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11381932906453603
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.796816310607646e-02 = 2.701090500000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.069603306904602e+00 = 0.11381932906453603 / 2.796816310607646e-02
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -     Final value: 1.149000524870285e-01 = 4.069603306904602e+00 * 2.823372300000000e-02
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.149000524870285e-01 = 0.11381932906453603 * (2.823372300000000e-02 / 2.796816310607646e-02)
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.2839696081542735 = 5.76 - 0.476030391845726
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   Total token value: 4.879849415439986e-01
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.2839696081542735
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   Final asset value: 5.771954549698272e+00
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.195454969827203e-02
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -     PnL: 1.402057667441216e-02
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759999999999999e-03
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -     PnL from IL: 8.260576674412157e-03
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -     PnL: 1.598654969827203e-02
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.031999999999999e-03
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.195454969827203e-02
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   position_id: pos_05-26-10-16-13_35526062
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   investment_sol: 5.759 (from CSV: 5.759)
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02285 (from CSV: 0.02285)
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   Total points: 4
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748247000, 'close': 0.033190582, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748248800, 'close': 0.030433649, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   Valid prices: 4
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   Min price: 3.043364900000000e-02
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   Max price: 3.319058200000000e-02
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0905883155845033
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   investment_sol: 5.759 (type: <class 'float'>)
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02285 (type: <class 'float'>)
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-26 10:16:13
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-26 10:44:29
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   price_history length: 4
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.033190582, 0.032490343, 0.032724041, 0.030433649]
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.033190582, 0.032490343, 0.032724041, 0.030433649]
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   Initial price: 3.319058200000000e-02
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   Final price: 3.043364900000000e-02
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9169362863236323
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   initial_sol: 5.759
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   initial_price: 3.319058200000000e-02
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   final_price: 3.043364900000000e-02
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9169362863236323
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.759 = 5.759 - 0
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.759
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759000000000000e+00
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.759
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   initial_sol: 5.759
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   initial_price: 3.319058200000000e-02
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   final_price: 3.043364900000000e-02
2025-07-15 17:58:05,275 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9169362863236323
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.759 = 5.759 - 0
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.759
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759000000000000e+00
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.759
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     PnL: 5.759000000000000e-03
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759000000000000e-03
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     PnL: 5.759000000000000e-03
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759000000000000e-03
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   position_id: pos_05-26-10-46-16_35527246
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (from CSV: 5.76)
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.06633 (from CSV: 0.06633)
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   Total points: 20
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748248800, 'close': 0.030433649, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748260200, 'close': 0.034180682, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   Valid prices: 20
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   Min price: 3.043364900000000e-02
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   Max price: 3.963550600000000e-02
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   Price ratio: 1.302357991971321
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (type: <class 'float'>)
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.06633 (type: <class 'float'>)
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-26 10:46:16
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-26 13:50:12
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   price_history length: 20
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.030433649, 0.032849803, 0.032472858, 0.031658289, 0.03574537]
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.032637284, 0.032708587, 0.033559807, 0.034481667, 0.034180682]
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   Initial price: 3.043364900000000e-02
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   Final price: 3.418068200000000e-02
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1231213844912253
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   initial_price: 3.043364900000000e-02
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   final_price: 3.418068200000000e-02
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1231213844912253
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   active_bin_index: 11
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 11 bins): 0.9182608695652174
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG - 
Calculating token values for 11 activated bins:
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.058543871468502e-02 = 3.043364900000000e-02 * 1.004987562112089
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.729346524935891e+00 = 0.08347826086956521 / 3.058543871468502e-02
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     Final value: 9.329092563663875e-02 = 2.729346524935891e+00 * 3.418068200000000e-02
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.329092563663875e-02 = 0.08347826086956521 * (3.418068200000000e-02 / 3.058543871468502e-02)
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.089129310183187e-02 = 3.043364900000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.702323292015734e+00 = 0.08347826086956521 / 3.089129310183187e-02
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     Final value: 9.236725310558293e-02 = 2.702323292015734e+00 * 3.418068200000000e-02
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.236725310558291e-02 = 0.08347826086956521 * (3.418068200000000e-02 / 3.089129310183187e-02)
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.120020603285019e-02 = 3.043364900000000e-02 * 1.025187812110542
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.675567615857162e+00 = 0.08347826086956521 / 3.120020603285019e-02
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     Final value: 9.145272584711180e-02 = 2.675567615857162e+00 * 3.418068200000000e-02
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.145272584711180e-02 = 0.08347826086956521 * (3.418068200000000e-02 / 3.120020603285019e-02)
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.151220809317869e-02 = 3.043364900000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.649076847383329e+00 = 0.08347826086956521 / 3.151220809317869e-02
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     Final value: 9.054725331397209e-02 = 2.649076847383329e+00 * 3.418068200000000e-02
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.054725331397209e-02 = 0.08347826086956521 * (3.418068200000000e-02 / 3.151220809317869e-02)
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,276 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.182733017411048e-02 = 3.043364900000000e-02 * 1.045794087133964
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.622848363745870e+00 = 0.08347826086956521 / 3.182733017411048e-02
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     Final value: 8.965074585541789e-02 = 2.622848363745870e+00 * 3.418068200000000e-02
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.965074585541791e-02 = 0.08347826086956521 * (3.418068200000000e-02 / 3.182733017411048e-02)
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 6 more bins processed)
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.8417391304347825 = 5.76 - 0.9182608695652174
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   Total token value: 9.768776922922879e-01
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.8417391304347825
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   Final asset value: 5.818616822727071e+00
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   PnL from assets: 5.861682272707114e-02
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   initial_price: 3.043364900000000e-02
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   final_price: 3.418068200000000e-02
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1231213844912253
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   active_bin_index: 11
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 11 bins): 1.186957641831725
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG - 
Calculating token values for 11 activated bins:
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1243033957473818
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.058543871468502e-02 = 3.043364900000000e-02 * 1.004987562112089
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.064136431291400e+00 = 0.1243033957473818 / 3.058543871468502e-02
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     Final value: 1.389149549625862e-01 = 4.064136431291400e+00 * 3.418068200000000e-02
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.389149549625862e-01 = 0.1243033957473818 * (3.418068200000000e-02 / 3.058543871468502e-02)
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12070117796404507
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.089129310183187e-02 = 3.043364900000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.907287971602828e+00 = 0.12070117796404507 / 3.089129310183187e-02
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     Final value: 1.335537676397813e-01 = 3.907287971602828e+00 * 3.418068200000000e-02
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.335537676397813e-01 = 0.12070117796404507 * (3.418068200000000e-02 / 3.089129310183187e-02)
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1172064890697631
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.120020603285019e-02 = 3.043364900000000e-02 * 1.025187812110542
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.756593432311258e+00 = 0.1172064890697631 / 3.120020603285019e-02
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     Final value: 1.284029255131196e-01 = 3.756593432311258e+00 * 3.418068200000000e-02
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.284029255131196e-01 = 0.1172064890697631 * (3.418068200000000e-02 / 3.120020603285019e-02)
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11381932906453603
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.151220809317869e-02 = 3.043364900000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.611912206468769e+00 = 0.11381932906453603 / 3.151220809317869e-02
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     Final value: 1.234576225412273e-01 = 3.611912206468769e+00 * 3.418068200000000e-02
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.234576225412273e-01 = 0.11381932906453603 * (3.418068200000000e-02 / 3.151220809317869e-02)
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11053969794836377
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.182733017411048e-02 = 3.043364900000000e-02 * 1.045794087133964
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.473106206007843e+00 = 0.11053969794836377 / 3.182733017411048e-02
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     Final value: 1.187131387797806e-01 = 3.473106206007843e+00 * 3.418068200000000e-02
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.187131387797806e-01 = 0.11053969794836377 * (3.418068200000000e-02 / 3.182733017411048e-02)
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 6 more bins processed)
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.573042358168275 = 5.76 - 1.186957641831725
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   Total token value: 1.266359325916657e+00
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.573042358168275
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   Final asset value: 5.839401684084931e+00
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   PnL from assets: 7.940168408493165e-02
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     PnL: 6.437682272707114e-02
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759999999999999e-03
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     PnL from IL: 5.861682272707114e-02
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     PnL: 8.343368408493164e-02
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.031999999999999e-03
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -     PnL from IL: 7.940168408493165e-02
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   position_id: pos_05-26-14-59-35_10537969
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8 (from CSV: 5.8)
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02006 (from CSV: 0.02006)
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   Total points: 13
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748262600, 'close': 0.036737979, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748284200, 'close': 0.035417784, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   Valid prices: 13
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   Min price: 3.378526400000000e-02
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   Max price: 4.079072400000000e-02
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   Price ratio: 1.207352530973267
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8 (type: <class 'float'>)
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02006 (type: <class 'float'>)
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-26 14:59:35
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-26 20:30:00
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   price_history length: 13
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.036737979, 0.037262293, 0.039359228, 0.040790724, 0.040211301]
2025-07-15 17:58:05,277 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.035088487, 0.033785264, 0.033837953, 0.035134231, 0.035417784]
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   Initial price: 3.673797900000000e-02
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   Final price: 3.541778400000000e-02
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   Price ratio: 0.964064571978769
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   initial_price: 3.673797900000000e-02
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   final_price: 3.541778400000000e-02
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   price_ratio: 0.964064571978769
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.8 = 5.8 - 0
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.8
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   Final asset value: 5.800000000000000e+00
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   initial_price: 3.673797900000000e-02
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   final_price: 3.541778400000000e-02
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   price_ratio: 0.964064571978769
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.8 = 5.8 - 0
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.8
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   Final asset value: 5.800000000000000e+00
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -     PnL: 5.800000000000000e-03
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.800000000000000e-03
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -     PnL: 4.059999999999999e-03
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.059999999999999e-03
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for TROLL-SOL
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   position_id: pos_05-26-16-16-47_25938959
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (from CSV: 5.76)
2025-07-15 17:58:05,278 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02445 (from CSV: 0.02445)
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   Total points: 9
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748268000, 'close': 0.024074775, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748282400, 'close': 0.023849812, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   Valid prices: 9
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   Min price: 2.384981200000000e-02
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   Max price: 2.535399100000000e-02
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   Price ratio: 1.063068799032881
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (type: <class 'float'>)
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02445 (type: <class 'float'>)
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-26 16:16:47
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-26 20:27:00
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   price_history length: 9
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.024074775, 0.024074775, 0.024032033, 0.025353991, 0.025176074]
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.025176074, 0.024697886, 0.024391781, 0.024072945, 0.023849812]
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   Initial price: 2.407477500000000e-02
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   Final price: 2.384981200000000e-02
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9906556551411178
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   initial_price: 2.407477500000000e-02
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   final_price: 2.384981200000000e-02
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9906556551411178
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.76 = 5.76 - 0
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.76
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   Final asset value: 5.760000000000000e+00
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,279 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,280 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,280 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:05,280 - DEEP_DEBUG - DEBUG -   initial_price: 2.407477500000000e-02
2025-07-15 17:58:05,280 - DEEP_DEBUG - DEBUG -   final_price: 2.384981200000000e-02
2025-07-15 17:58:05,280 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9906556551411178
2025-07-15 17:58:05,280 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,280 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,280 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,280 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,280 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,280 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.76 = 5.76 - 0
2025-07-15 17:58:05,280 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,280 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,280 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.76
2025-07-15 17:58:05,280 - DEEP_DEBUG - DEBUG -   Final asset value: 5.760000000000000e+00
2025-07-15 17:58:05,280 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:05,280 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,280 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,280 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,280 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,280 - DEEP_DEBUG - DEBUG -     PnL: 5.759999999999999e-03
2025-07-15 17:58:05,280 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759999999999999e-03
2025-07-15 17:58:05,280 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,280 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,280 - DEEP_DEBUG - DEBUG -     PnL: 4.031999999999999e-03
2025-07-15 17:58:05,280 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.031999999999999e-03
2025-07-15 17:58:05,280 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   position_id: pos_05-26-16-17-46_35563801
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7598 (from CSV: 5.7598)
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   Total points: 2
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748268600, 'close': 0.078540671, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748269200, 'close': 0.078540671, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   Valid prices: 2
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   Min price: 7.854067100000001e-02
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   Max price: 7.854067100000001e-02
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7598 (type: <class 'float'>)
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-26 16:17:46
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-26 16:24:58
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   price_history length: 2
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.078540671, 0.078540671]
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.078540671, 0.078540671]
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   Initial price: 7.854067100000001e-02
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   Final price: 7.854067100000001e-02
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7598
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   initial_price: 7.854067100000001e-02
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   final_price: 7.854067100000001e-02
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7598 = 5.7598 - 0
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7598
2025-07-15 17:58:05,281 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759800000000000e+00
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7598
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7598
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG -   initial_price: 7.854067100000001e-02
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG -   final_price: 7.854067100000001e-02
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7598 = 5.7598 - 0
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7598
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759800000000000e+00
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7598
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG -     PnL: 5.759800000000001e-03
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759800000000001e-03
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG -     PnL: 5.759800000000001e-03
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759800000000001e-03
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,282 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   position_id: pos_05-26-16-24-58_35564661
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7593 (from CSV: 5.7593)
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.18534 (from CSV: 0.18534)
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   Total points: 20
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748268000, 'close': 0.071911724, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748336400, 'close': 0.065598496, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   Valid prices: 20
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   Min price: 6.151037400000000e-02
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   Max price: 8.355363000000000e-02
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   Price ratio: 1.358366476523131
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7593 (type: <class 'float'>)
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.18534 (type: <class 'float'>)
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-26 16:24:58
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-27 11:01:06
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   price_history length: 20
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.071911724, 0.08162892, 0.08355363, 0.074672891, 0.074742774]
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.061510374, 0.064312793, 0.068167721, 0.065598496, 0.065598496]
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   Initial price: 7.191172400000000e-02
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   Final price: 6.559849600000001e-02
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   Price ratio: 0.912208640693971
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7593
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   initial_price: 7.191172400000000e-02
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   final_price: 6.559849600000001e-02
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   price_ratio: 0.912208640693971
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7593 = 5.7593 - 0
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7593
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759300000000000e+00
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7593
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7593
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   initial_price: 7.191172400000000e-02
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   final_price: 6.559849600000001e-02
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   price_ratio: 0.912208640693971
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7593 = 5.7593 - 0
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7593
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759300000000000e+00
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7593
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -     PnL: 5.759300000000000e-03
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759300000000000e-03
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -     PnL: 5.759300000000000e-03
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759300000000000e-03
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for titcoin-SOL
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   position_id: pos_05-26-22-25-49_25973091
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7597 (from CSV: 5.7597)
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.17672 (from CSV: 0.17672)
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   Total points: 15
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748289600, 'close': 0.035021262, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748340000, 'close': 0.023580161, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   Valid prices: 15
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   Min price: 2.358016100000000e-02
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   Max price: 3.502126200000000e-02
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   Price ratio: 1.4852002918894405
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7597 (type: <class 'float'>)
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.17672 (type: <class 'float'>)
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-26 22:25:49
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-27 12:08:42
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG -   price_history length: 15
2025-07-15 17:58:05,283 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.035021262, 0.033378012, 0.033378012, 0.033378012, 0.028181232]
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.028549624, 0.028696233, 0.027329023, 0.028680891, 0.023580161]
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   Initial price: 3.502126200000000e-02
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   Final price: 2.358016100000000e-02
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   Price ratio: 0.673309859593295
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7597
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   initial_price: 3.502126200000000e-02
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   final_price: 2.358016100000000e-02
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   price_ratio: 0.673309859593295
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7597 = 5.7597 - 0
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7597
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759700000000000e+00
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7597
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7597
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   initial_price: 3.502126200000000e-02
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   final_price: 2.358016100000000e-02
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   price_ratio: 0.673309859593295
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7597 = 5.7597 - 0
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7597
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759700000000000e+00
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7597
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -     PnL: 5.759700000000000e-03
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759700000000000e-03
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -     PnL: 5.759700000000000e-03
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759700000000000e-03
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Hosico cat-SOL
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   position_id: pos_05-27-01-06-55_10598917
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8 (from CSV: 5.8)
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02964 (from CSV: 0.02964)
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   Total points: 14
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748300400, 'close': 0.019371964, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748323800, 'close': 0.020190174, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   Valid prices: 14
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   Min price: 1.937196400000000e-02
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   Max price: 2.180363000000000e-02
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1255250112998354
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8 (type: <class 'float'>)
2025-07-15 17:58:05,284 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02964 (type: <class 'float'>)
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-27 01:06:55
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-27 07:43:26
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   price_history length: 14
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.019371964, 0.019371964, 0.019371964, 0.021747676, 0.021745182]
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.020659212, 0.020447539, 0.019982303, 0.019943608, 0.020190174]
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   Initial price: 1.937196400000000e-02
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   Final price: 2.019017400000000e-02
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0422368119205674
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   initial_price: 1.937196400000000e-02
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   final_price: 2.019017400000000e-02
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0422368119205674
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   active_bin_index: 4
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 4 bins): 0.336231884057971
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG - 
Calculating token values for 4 activated bins:
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08405797101449275
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.946858287368315e-02 = 1.937196400000000e-02 * 1.004987562112089
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.317621449896024e+00 = 0.08405797101449275 / 1.946858287368315e-02
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Final value: 8.717352833953303e-02 = 4.317621449896024e+00 * 2.019017400000000e-02
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.717352833953303e-02 = 0.08405797101449275 * (2.019017400000000e-02 / 1.946858287368315e-02)
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08405797101449275
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.966326870241998e-02 = 1.937196400000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.274872722669331e+00 = 0.08405797101449275 / 1.966326870241998e-02
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Final value: 8.631042409854754e-02 = 4.274872722669331e+00 * 2.019017400000000e-02
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.631042409854754e-02 = 0.08405797101449275 * (2.019017400000000e-02 / 1.966326870241998e-02)
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08405797101449275
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.985990138944418e-02 = 1.937196400000000e-02 * 1.025187812110542
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.232547250167655e+00 = 0.08405797101449275 / 1.985990138944418e-02
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Final value: 8.545586544410649e-02 = 4.232547250167655e+00 * 2.019017400000000e-02
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.545586544410648e-02 = 0.08405797101449275 * (2.019017400000000e-02 / 1.985990138944418e-02)
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08405797101449275
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.005850040333862e-02 = 1.937196400000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.190640841750153e+00 = 0.08405797101449275 / 2.005850040333862e-02
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Final value: 8.460976776644206e-02 = 4.190640841750153e+00 * 2.019017400000000e-02
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.460976776644206e-02 = 0.08405797101449275 * (2.019017400000000e-02 / 2.005850040333862e-02)
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.463768115942029 = 5.8 - 0.336231884057971
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   Total token value: 3.435495856486291e-01
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.463768115942029
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   Final asset value: 5.807317701590659e+00
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   PnL from assets: 7.317701590658920e-03
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   initial_price: 1.937196400000000e-02
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   final_price: 2.019017400000000e-02
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0422368119205674
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   active_bin_index: 4
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 4 bins): 0.47933615845576577
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG - 
Calculating token values for 4 activated bins:
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1251666137734053
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.946858287368315e-02 = 1.937196400000000e-02 * 1.004987562112089
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.429158947290433e+00 = 0.1251666137734053 / 1.946858287368315e-02
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Final value: 1.298058378194507e-01 = 6.429158947290433e+00 * 2.019017400000000e-02
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.298058378194507e-01 = 0.1251666137734053 * (2.019017400000000e-02 / 1.946858287368315e-02)
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12153938058879538
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.966326870241998e-02 = 1.937196400000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.181036450660789e+00 = 0.12153938058879538 / 1.966326870241998e-02
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Final value: 1.247962014391838e-01 = 6.181036450660789e+00 * 2.019017400000000e-02
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.247962014391837e-01 = 0.12153938058879538 * (2.019017400000000e-02 / 1.966326870241998e-02)
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11802042302163646
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.985990138944418e-02 = 1.937196400000000e-02 * 1.025187812110542
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.942648994438914e+00 = 0.11802042302163646 / 1.985990138944418e-02
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Final value: 1.199831172186467e-01 = 5.942648994438914e+00 * 2.019017400000000e-02
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.199831172186467e-01 = 0.11802042302163646 * (2.019017400000000e-02 / 1.985990138944418e-02)
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11460974107192863
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.005850040333862e-02 = 1.937196400000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.713774148981371e+00 = 0.11460974107192863 / 2.005850040333862e-02
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Final value: 1.153620942646358e-01 = 5.713774148981371e+00 * 2.019017400000000e-02
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.153620942646358e-01 = 0.11460974107192863 * (2.019017400000000e-02 / 2.005850040333862e-02)
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.320663841544234 = 5.8 - 0.47933615845576577
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   Total token value: 4.899472507419170e-01
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.320663841544234
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   Final asset value: 5.810611092286151e+00
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.061109228615109e-02
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     PnL: 1.311770159065892e-02
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.800000000000000e-03
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     PnL from IL: 7.317701590658920e-03
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     PnL: 1.557289203620074e-02
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.961799750049652e-03
2025-07-15 17:58:05,285 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.061109228615109e-02
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   position_id: pos_05-27-10-24-54_10638816
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8 (from CSV: 5.8)
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01566 (from CSV: 0.01566)
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   Total points: 16
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748332800, 'close': 0.040752034, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748359800, 'close': 0.038763368, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   Valid prices: 16
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   Min price: 3.767732100000000e-02
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   Max price: 4.352655100000000e-02
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1552453795746251
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8 (type: <class 'float'>)
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01566 (type: <class 'float'>)
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-27 10:24:54
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-27 17:45:50
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   price_history length: 16
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.040752034, 0.042561318, 0.043526551, 0.043322675, 0.041190206]
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.038103495, 0.037988266, 0.037677321, 0.038211746, 0.038763368]
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   Initial price: 4.075203400000000e-02
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   Final price: 3.876336800000000e-02
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9512008161359504
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   initial_price: 4.075203400000000e-02
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   final_price: 3.876336800000000e-02
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9512008161359504
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.8 = 5.8 - 0
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.8
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   Final asset value: 5.800000000000000e+00
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   initial_price: 4.075203400000000e-02
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   final_price: 3.876336800000000e-02
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9512008161359504
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.8 = 5.8 - 0
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.8
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   Final asset value: 5.800000000000000e+00
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -     PnL: 5.800000000000000e-03
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.800000000000000e-03
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -     PnL: 4.059999999999999e-03
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.059999999999999e-03
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   position_id: pos_05-27-12-21-06_26010164
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (from CSV: 5.76)
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   pnl_sol: -1.27883 (from CSV: -1.27883)
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   close_reason: SL
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,286 - DEEP_DEBUG - DEBUG -   Total points: 28
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748340000, 'close': 0.078195735, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748437200, 'close': 0.056654688, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   Valid prices: 28
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   Min price: 5.342525500000000e-02
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   Max price: 7.819573500000000e-02
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   Price ratio: 1.4636473892356716
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (type: <class 'float'>)
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   pnl_sol: -1.27883 (type: <class 'float'>)
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-27 12:21:06
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-28 15:00:40
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   close_reason: SL
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   price_history length: 28
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.078195735, 0.072243844, 0.072262985, 0.071209936, 0.070794929]
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.056345759, 0.053785143, 0.053425255, 0.05450837, 0.056654688]
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   Initial price: 7.819573500000000e-02
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   Final price: 5.665468800000000e-02
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   Price ratio: 0.7245240165592152
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   initial_price: 7.819573500000000e-02
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   final_price: 5.665468800000000e-02
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   price_ratio: 0.7245240165592152
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.76 = 5.76 - 0
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.76
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   Final asset value: 5.760000000000000e+00
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   initial_price: 7.819573500000000e-02
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   final_price: 5.665468800000000e-02
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   price_ratio: 0.7245240165592152
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.76 = 5.76 - 0
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.76
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   Final asset value: 5.760000000000000e+00
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -     PnL: 5.759999999999999e-03
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759999999999999e-03
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -     PnL: 3.455999999999999e-03
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -     PnL from fees: 3.455999999999999e-03
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   position_id: pos_05-27-17-46-48_35704088
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7597 (from CSV: 5.7597)
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.17494 (from CSV: 0.17494)
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   Total points: 43
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748358000, 'close': 0.038763368, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748509200, 'close': 0.028948323, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   Valid prices: 43
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   Min price: 2.635014400000000e-02
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   Max price: 4.343746900000000e-02
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   Price ratio: 1.6484717882376658
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7597 (type: <class 'float'>)
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.17494 (type: <class 'float'>)
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-27 17:46:48
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-29 11:48:15
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   price_history length: 43
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.038763368, 0.041278319, 0.043437469, 0.041358597, 0.038732561]
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.027636418, 0.028788315, 0.028519909, 0.030470368, 0.028948323]
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   Initial price: 3.876336800000000e-02
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   Final price: 2.894832300000000e-02
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   Price ratio: 0.7467958666543114
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7597
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   initial_price: 3.876336800000000e-02
2025-07-15 17:58:05,287 - DEEP_DEBUG - DEBUG -   final_price: 2.894832300000000e-02
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   price_ratio: 0.7467958666543114
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7597 = 5.7597 - 0
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7597
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759700000000000e+00
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7597
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7597
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   initial_price: 3.876336800000000e-02
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   final_price: 2.894832300000000e-02
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   price_ratio: 0.7467958666543114
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7597 = 5.7597 - 0
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7597
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759700000000000e+00
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7597
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -     PnL: 5.759700000000000e-03
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759700000000000e-03
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -     PnL: 5.759700000000000e-03
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759700000000000e-03
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   position_id: pos_05-29-03-04-35_10991668
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   investment_sol: 6.1 (from CSV: 6.1)
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.68084 (from CSV: -0.68084)
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   close_reason: SL
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   Total points: 46
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748480400, 'close': 0.040535137, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748642400, 'close': 0.028905976, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   Valid prices: 46
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   Min price: 1.766575300000000e-02
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   Max price: 4.271078800000000e-02
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   Price ratio: 2.417716810599582
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   investment_sol: 6.1 (type: <class 'float'>)
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.68084 (type: <class 'float'>)
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-29 03:04:35
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-31 00:05:46
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   close_reason: SL
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   price_history length: 46
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.040535137, 0.042710788, 0.03946315, 0.037832318, 0.036463175]
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.032344376, 0.034327724, 0.032320795, 0.033933133, 0.028905976]
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   Initial price: 4.053513700000000e-02
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   Final price: 2.890597600000000e-02
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   Price ratio: 0.7131091230800577
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   initial_sol: 6.1
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   initial_price: 4.053513700000000e-02
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   final_price: 2.890597600000000e-02
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   price_ratio: 0.7131091230800577
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 6.1 = 6.1 - 0
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   Remaining SOL: 6.1
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   Final asset value: 6.100000000000000e+00
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   Initial SOL: 6.1
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   initial_sol: 6.1
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   initial_price: 4.053513700000000e-02
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   final_price: 2.890597600000000e-02
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   price_ratio: 0.7131091230800577
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,288 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 6.1 = 6.1 - 0
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   Remaining SOL: 6.1
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   Final asset value: 6.100000000000000e+00
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   Initial SOL: 6.1
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -     PnL: 6.100000000000000e-03
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -     PnL from fees: 6.100000000000000e-03
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -     PnL: 3.660000000000000e-03
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -     PnL from fees: 3.660000000000000e-03
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for SPX6900 (Wormhole)-SOL
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   position_id: pos_05-29-11-08-53_26366553
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7582 (from CSV: 5.7582)
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03392 (from CSV: 0.03392)
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   Total points: 24
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748509200, 'close': 1.207190012, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748592000, 'close': 1.104945617, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   Valid prices: 24
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   Min price: 1.062298695000000e+00
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   Max price: 1.207190012000000e+00
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1363941400681097
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7582 (type: <class 'float'>)
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03392 (type: <class 'float'>)
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-29 11:08:53
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-30 10:39:12
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   price_history length: 24
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   First 5 prices: [1.207190012, 1.181285839, 1.169524509, 1.153142963, 1.146991005]
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   Last 5 prices: [1.127494291, 1.089263702, 1.090260715, 1.090260715, 1.104945617]
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   Initial price: 1.207190012000000e+00
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   Final price: 1.104945617000000e+00
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9153038096872524
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7582
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   initial_price: 1.207190012000000e+00
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   final_price: 1.104945617000000e+00
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9153038096872524
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7582 = 5.7582 - 0
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7582
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   Final asset value: 5.758200000000000e+00
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7582
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,289 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7582
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   initial_price: 1.207190012000000e+00
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   final_price: 1.104945617000000e+00
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9153038096872524
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7582 = 5.7582 - 0
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7582
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   Final asset value: 5.758200000000000e+00
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7582
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -     PnL: 5.758200000000001e-03
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.758200000000001e-03
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -     PnL: 4.030740000000001e-03
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.030740000000001e-03
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for GIGACHAD-SOL
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   position_id: pos_05-29-11-50-38_35819123
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7592 (from CSV: 5.7592)
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.04662 (from CSV: 0.04662)
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   Total points: 21
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748511000, 'close': 0.024018307, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748547000, 'close': 0.025700726, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   Valid prices: 21
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   Min price: 2.401830700000000e-02
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   Max price: 2.762507800000000e-02
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1501675784225758
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7592 (type: <class 'float'>)
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.04662 (type: <class 'float'>)
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-29 11:50:38
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-29 21:32:39
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   price_history length: 21
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.024018307, 0.024238274, 0.025605023, 0.027625078, 0.027624554]
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.024837655, 0.025875375, 0.02527444, 0.02523877, 0.025700726]
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   Initial price: 2.401830700000000e-02
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   Final price: 2.570072600000000e-02
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   Price ratio: 1.070047360124092
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7592
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   initial_price: 2.401830700000000e-02
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   final_price: 2.570072600000000e-02
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   price_ratio: 1.070047360124092
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   active_bin_index: 6
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 6 bins): 0.5008
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG - 
Calculating token values for 6 activated bins:
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08346666666666666
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.413809979798972e-02 = 2.401830700000000e-02 * 1.004987562112089
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.457880585679655e+00 = 0.08346666666666666 / 2.413809979798972e-02
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -     Final value: 8.887004147327235e-02 = 3.457880585679655e+00 * 2.570072600000000e-02
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.887004147327235e-02 = 0.08346666666666666 * (2.570072600000000e-02 / 2.413809979798972e-02)
2025-07-15 17:58:05,290 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08346666666666666
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.437948079596962e-02 = 2.401830700000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.423644144237282e+00 = 0.08346666666666666 / 2.437948079596962e-02
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Final value: 8.799014007254687e-02 = 3.423644144237282e+00 * 2.570072600000000e-02
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.799014007254687e-02 = 0.08346666666666666 * (2.570072600000000e-02 / 2.437948079596962e-02)
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08346666666666666
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.462327560392932e-02 = 2.401830700000000e-02 * 1.025187812110542
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.389746677462655e+00 = 0.08346666666666666 / 2.462327560392932e-02
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Final value: 8.711895056687809e-02 = 3.389746677462655e+00 * 2.570072600000000e-02
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.711895056687807e-02 = 0.08346666666666666 * (2.570072600000000e-02 / 2.462327560392932e-02)
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08346666666666666
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.486950835996861e-02 = 2.401830700000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.356184829170946e+00 = 0.08346666666666666 / 2.486950835996861e-02
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Final value: 8.625638669987928e-02 = 3.356184829170946e+00 * 2.570072600000000e-02
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.625638669987928e-02 = 0.08346666666666666 * (2.570072600000000e-02 / 2.486950835996861e-02)
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08346666666666666
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.511820344356830e-02 = 2.401830700000000e-02 * 1.045794087133964
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.322955276406877e+00 = 0.08346666666666666 / 2.511820344356830e-02
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Final value: 8.540236306918741e-02 = 3.322955276406877e+00 * 2.570072600000000e-02
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.540236306918741e-02 = 0.08346666666666666 * (2.570072600000000e-02 / 2.511820344356830e-02)
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 1 more bins processed)
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.2584 = 5.7592 - 0.5008
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -   Total token value: 5.201946769997714e-01
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.2584
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -   Final asset value: 5.778594676999772e+00
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7592
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.939467699977193e-02
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7592
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -   initial_price: 2.401830700000000e-02
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -   final_price: 2.570072600000000e-02
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -   price_ratio: 1.070047360124092
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -   active_bin_index: 6
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 6 bins): 0.6938413052812367
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG - 
Calculating token values for 6 activated bins:
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12428613138686134
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.413809979798972e-02 = 2.401830700000000e-02 * 1.004987562112089
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.148960872106934e+00 = 0.12428613138686134 / 2.413809979798972e-02
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Final value: 1.323320325587413e-01 = 5.148960872106934e+00 * 2.570072600000000e-02
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.323320325587413e-01 = 0.12428613138686134 * (2.570072600000000e-02 / 2.413809979798972e-02)
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12068441391155006
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.437948079596962e-02 = 2.401830700000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.950245451146008e+00 = 0.12068441391155006 / 2.437948079596962e-02
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Final value: 1.272249019726499e-01 = 4.950245451146008e+00 * 2.570072600000000e-02
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.272249019726499e-01 = 0.12068441391155006 * (2.570072600000000e-02 / 2.437948079596962e-02)
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11719021039072565
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.462327560392932e-02 = 2.401830700000000e-02 * 1.025187812110542
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.759326593088401e+00 = 0.11719021039072565 / 2.462327560392932e-02
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Final value: 1.223181487134785e-01 = 4.759326593088401e+00 * 2.570072600000000e-02
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.223181487134785e-01 = 0.11719021039072565 * (2.570072600000000e-02 / 2.462327560392932e-02)
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11380352082438817
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.486950835996861e-02 = 2.401830700000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.576026159309722e+00 = 0.11380352082438817 / 2.486950835996861e-02
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Final value: 1.176071944892515e-01 = 4.576026159309722e+00 * 2.570072600000000e-02
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.176071944892515e-01 = 0.11380352082438817 * (2.570072600000000e-02 / 2.486950835996861e-02)
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1105243452125376
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.511820344356830e-02 = 2.401830700000000e-02 * 1.045794087133964
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.400169202421131e+00 = 0.1105243452125376 / 2.511820344356830e-02
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Final value: 1.130875430250640e-01 = 4.400169202421131e+00 * 2.570072600000000e-02
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.130875430250640e-01 = 0.1105243452125376 * (2.570072600000000e-02 / 2.511820344356830e-02)
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 1 more bins processed)
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.065358694718763 = 5.7592 - 0.6938413052812367
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -   Total token value: 7.213245995380565e-01
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.065358694718763
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -   Final asset value: 5.786683294256820e+00
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7592
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.748329425681995e-02
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     PnL: 2.515387699977193e-02
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759200000000000e-03
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.939467699977193e-02
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     PnL: 3.151473425681994e-02
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.031440000000000e-03
2025-07-15 17:58:05,291 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.748329425681995e-02
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -   position_id: pos_05-29-17-21-10_2474263
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (from CSV: 5.75)
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -   Total points: 69
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748520000, 'close': 0.012854587, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749499200, 'close': 0.034608431, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -   Valid prices: 69
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -   Min price: 5.398794000000000e-03
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -   Max price: 3.460843100000000e-02
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -   Price ratio: 6.410400359784056
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (type: <class 'float'>)
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-29 17:21:10
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-09 23:17:37
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -   price_history length: 69
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.012854587, 0.013330889, 0.013002314, 0.012996375, 0.012144237]
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.015291499, 0.015992021, 0.020658707, 0.01850447, 0.034608431]
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -   Initial price: 1.285458700000000e-02
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -   Final price: 3.460843100000000e-02
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -   Price ratio: 2.6923020552896797
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -   initial_price: 1.285458700000000e-02
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -   final_price: 3.460843100000000e-02
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -   price_ratio: 2.6923020552896797
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -   active_bin_index: 49
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 49 bins): 5.635000000000007
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG - 
Calculating token values for 49 activated bins:
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.115
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.291870005108775e-02 = 1.285458700000000e-02 * 1.004987562112089
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -     Tokens bought: 8.901824451781200e+00 = 0.115 / 1.291870005108775e-02
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -     Final value: 3.080781773135825e-01 = 8.901824451781200e+00 * 3.460843100000000e-02
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.080781773135826e-01 = 0.115 * (3.460843100000000e-02 / 1.291870005108775e-02)
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.115
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.304788705159863e-02 = 1.285458700000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -     Tokens bought: 8.813687576020991e+00 = 0.115 / 1.304788705159863e-02
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -     Final value: 3.050278983302797e-01 = 8.813687576020991e+00 * 3.460843100000000e-02
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.050278983302798e-01 = 0.115 * (3.460843100000000e-02 / 1.304788705159863e-02)
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.115
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.317836592211462e-02 = 1.285458700000000e-02 * 1.025187812110542
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -     Tokens bought: 8.726423342595041e+00 = 0.115 / 1.317836592211462e-02
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -     Final value: 3.020078201289899e-01 = 8.726423342595041e+00 * 3.460843100000000e-02
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.020078201289898e-01 = 0.115 * (3.460843100000000e-02 / 1.317836592211462e-02)
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.115
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.331014958133576e-02 = 1.285458700000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -     Tokens bought: 8.640023111480238e+00 = 0.115 / 1.331014958133576e-02
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -     Final value: 2.990176436920691e-01 = 8.640023111480238e+00 * 3.460843100000000e-02
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.990176436920691e-01 = 0.115 * (3.460843100000000e-02 / 1.331014958133576e-02)
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.115
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.344325107714912e-02 = 1.285458700000000e-02 * 1.045794087133964
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -     Tokens bought: 8.554478328198256e+00 = 0.115 / 1.344325107714912e-02
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -     Final value: 2.960570729624447e-01 = 8.554478328198256e+00 * 3.460843100000000e-02
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.960570729624447e-01 = 0.115 * (3.460843100000000e-02 / 1.344325107714912e-02)
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 44 more bins processed)
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 0.11499999999999311 = 5.75 - 5.635000000000007
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,292 - DEEP_DEBUG - DEBUG -   Total token value: 1.200702640344479e+01
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   Remaining SOL: 0.11499999999999311
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   Final asset value: 1.212202640344478e+01
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   PnL from assets: 6.372026403444782e+00
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   initial_price: 1.285458700000000e-02
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   final_price: 3.460843100000000e-02
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   price_ratio: 2.6923020552896797
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   active_bin_index: 49
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 49 bins): 5.5792424242424214
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG - 
Calculating token values for 49 activated bins:
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.17075757575757572
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.291870005108775e-02 = 1.285458700000000e-02 * 1.004987562112089
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.321786054961451e+01 = 0.17075757575757572 / 1.291870005108775e-02
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     Final value: 4.574494147989557e-01 = 1.321786054961451e+01 * 3.460843100000000e-02
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     Alt calculation: 4.574494147989558e-01 = 0.17075757575757572 * (3.460843100000000e-02 / 1.291870005108775e-02)
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16393011750154604
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.304788705159863e-02 = 1.285458700000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.256372904312207e+01 = 0.16393011750154604 / 1.304788705159863e-02
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     Final value: 4.348109496915861e-01 = 1.256372904312207e+01 * 3.460843100000000e-02
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     Alt calculation: 4.348109496915861e-01 = 0.16393011750154604 * (3.460843100000000e-02 / 1.304788705159863e-02)
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1573871366728509
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.317836592211462e-02 = 1.285458700000000e-02 * 1.025187812110542
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.194284159379271e+01 = 0.1573871366728509 / 1.317836592211462e-02
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     Final value: 4.133230092427052e-01 = 1.194284159379271e+01 * 3.460843100000000e-02
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     Alt calculation: 4.133230092427051e-01 = 0.1573871366728509 * (3.460843100000000e-02 / 1.317836592211462e-02)
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1511286332714904
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.331014958133576e-02 = 1.285458700000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.135439029801825e+01 = 0.1511286332714904 / 1.331014958133576e-02
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     Final value: 3.929576331760339e-01 = 1.135439029801825e+01 * 3.460843100000000e-02
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.929576331760339e-01 = 0.1511286332714904 * (3.460843100000000e-02 / 1.331014958133576e-02)
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1451546072974644
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.344325107714912e-02 = 1.285458700000000e-02 * 1.045794087133964
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.079758210751554e+01 = 0.1451546072974644 / 1.344325107714912e-02
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     Final value: 3.736873753347863e-01 = 1.079758210751554e+01 * 3.460843100000000e-02
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.736873753347863e-01 = 0.1451546072974644 * (3.460843100000000e-02 / 1.344325107714912e-02)
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 44 more bins processed)
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 0.17075757575757855 = 5.75 - 5.5792424242424214
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   Total token value: 1.194102087627858e+01
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   Remaining SOL: 0.17075757575757855
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   Final asset value: 1.211177845203616e+01
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   PnL from assets: 6.361778452036157e+00
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     PnL: 6.377776403444781e+00
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     PnL from IL: 6.372026403444782e+00
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     PnL: 6.367528452036157e+00
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -     PnL from IL: 6.361778452036157e+00
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for GIGACHAD-SOL
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   position_id: pos_05-29-21-39-40_35850676
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7599 (from CSV: 5.7599)
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01052 (from CSV: 0.01052)
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   Total points: 6
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748547000, 'close': 0.025506933, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748550000, 'close': 0.026005358, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   Valid prices: 6
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   Min price: 2.550693300000000e-02
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   Max price: 2.622238900000000e-02
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0280494718828015
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7599 (type: <class 'float'>)
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01052 (type: <class 'float'>)
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-29 21:39:40
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-29 22:21:58
2025-07-15 17:58:05,293 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   price_history length: 6
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.025506933, 0.025506933, 0.025700726, 0.025706166, 0.026222389]
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.025506933, 0.025700726, 0.025706166, 0.026222389, 0.026005358]
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   Initial price: 2.550693300000000e-02
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   Final price: 2.600535800000000e-02
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0195407656420314
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7599
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   initial_price: 2.550693300000000e-02
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   final_price: 2.600535800000000e-02
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0195407656420314
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   active_bin_index: 1
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 1 bins): 0.0834768115942029
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG - 
Calculating token values for 1 activated bins:
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.0834768115942029
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.563415041262639e-02 = 2.550693300000000e-02 * 1.004987562112089
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.256468821884007e+00 = 0.0834768115942029 / 2.563415041262639e-02
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -     Final value: 8.468563752893184e-02 = 3.256468821884007e+00 * 2.600535800000000e-02
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.468563752893184e-02 = 0.0834768115942029 * (2.600535800000000e-02 / 2.563415041262639e-02)
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.676423188405797 = 5.7599 - 0.0834768115942029
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   Total token value: 8.468563752893184e-02
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.676423188405797
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   Final asset value: 5.761108825934730e+00
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7599
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.208825934729596e-03
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7599
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   initial_price: 2.550693300000000e-02
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   final_price: 2.600535800000000e-02
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0195407656420314
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   active_bin_index: 1
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 1 bins): 0.12430123770231676
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG - 
Calculating token values for 1 activated bins:
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12430123770231676
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.563415041262639e-02 = 2.550693300000000e-02 * 1.004987562112089
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.849048464703195e+00 = 0.12430123770231676 / 2.563415041262639e-02
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -     Final value: 1.261012412839569e-01 = 4.849048464703195e+00 * 2.600535800000000e-02
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.261012412839569e-01 = 0.12430123770231676 * (2.600535800000000e-02 / 2.563415041262639e-02)
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.6355987622976835 = 5.7599 - 0.12430123770231676
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   Total token value: 1.261012412839569e-01
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.6355987622976835
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   Final asset value: 5.761700003581640e+00
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7599
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.800003581640119e-03
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -     PnL: 6.968725934729596e-03
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759900000000000e-03
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.208825934729596e-03
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -     PnL: 5.831933581640119e-03
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.031930000000000e-03
2025-07-15 17:58:05,294 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.800003581640119e-03
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for GIGACHAD-SOL
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   position_id: pos_05-29-22-23-54_35853711
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7589 (from CSV: 5.7589)
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01163 (from CSV: 0.01163)
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   Total points: 42
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748548800, 'close': 0.027706193, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748696400, 'close': 0.022576986, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   Valid prices: 42
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   Min price: 2.026653200000000e-02
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   Max price: 2.902267000000000e-02
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   Price ratio: 1.4320491537476663
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7589 (type: <class 'float'>)
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01163 (type: <class 'float'>)
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-29 22:23:54
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-31 15:23:09
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   price_history length: 42
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.027706193, 0.02902267, 0.02902267, 0.02902267, 0.026741768]
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.021025197, 0.021025197, 0.0212687, 0.021489028, 0.022576986]
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   Initial price: 2.770619300000000e-02
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   Final price: 2.257698600000000e-02
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   Price ratio: 0.8148714621312282
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7589
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   initial_price: 2.770619300000000e-02
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   final_price: 2.257698600000000e-02
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8148714621312282
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7589 = 5.7589 - 0
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7589
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   Final asset value: 5.758900000000000e+00
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7589
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7589
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   initial_price: 2.770619300000000e-02
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   final_price: 2.257698600000000e-02
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8148714621312282
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7589 = 5.7589 - 0
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7589
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   Final asset value: 5.758900000000000e+00
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7589
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -     PnL: 5.758900000000000e-03
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.758900000000000e-03
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -     PnL: 4.031229999999999e-03
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.031229999999999e-03
2025-07-15 17:58:05,295 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG -   position_id: pos_05-30-08-15-19_11093433
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG -   investment_sol: 6.1 (from CSV: 6.1)
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01286 (from CSV: 0.01286)
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG -   Total points: 19
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748585400, 'close': 0.055500275, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748596200, 'close': 0.056777577, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG -   Valid prices: 19
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG -   Min price: 5.486500100000000e-02
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG -   Max price: 6.304301800000001e-02
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1490570828568838
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG -   investment_sol: 6.1 (type: <class 'float'>)
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01286 (type: <class 'float'>)
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-30 08:15:19
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-30 11:14:39
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG -   price_history length: 19
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.055500275, 0.055500275, 0.055500275, 0.059649949, 0.05561179]
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.058298337, 0.057832159, 0.05702052, 0.054865001, 0.056777577]
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG -   Initial price: 5.550027500000000e-02
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG -   Final price: 5.677757700000000e-02
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0230143364154503
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG -   initial_sol: 6.1
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG -   initial_price: 5.550027500000000e-02
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG -   final_price: 5.677757700000000e-02
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0230143364154503
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG -   active_bin_index: 2
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,296 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 2 bins): 0.17681159420289855
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG - 
Calculating token values for 2 activated bins:
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08840579710144927
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.577708606880052e-02 = 5.550027500000000e-02 * 1.004987562112089
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.584984145503793e+00 = 0.08840579710144927 / 5.577708606880052e-02
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -     Final value: 8.999155936512079e-02 = 1.584984145503793e+00 * 5.677757700000000e-02
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.999155936512079e-02 = 0.08840579710144927 * (5.677757700000000e-02 / 5.577708606880052e-02)
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08840579710144927
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.633485692948852e-02 = 5.550027500000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.569291233172072e+00 = 0.08840579710144927 / 5.633485692948852e-02
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -     Final value: 8.910055382685225e-02 = 1.569291233172072e+00 * 5.677757700000000e-02
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.910055382685227e-02 = 0.08840579710144927 * (5.677757700000000e-02 / 5.633485692948852e-02)
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.923188405797101 = 6.1 - 0.17681159420289855
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   Total token value: 1.790921131919730e-01
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.923188405797101
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   Final asset value: 6.102280518989074e+00
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   Initial SOL: 6.1
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.280518989074665e-03
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   initial_sol: 6.1
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   initial_price: 5.550027500000000e-02
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   final_price: 5.677757700000000e-02
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0230143364154503
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   active_bin_index: 2
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 2 bins): 0.2594666492430041
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG - 
Calculating token values for 2 activated bins:
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1316407489685814
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.577708606880052e-02 = 5.550027500000000e-02 * 1.004987562112089
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.360122377246523e+00 = 0.1316407489685814 / 5.577708606880052e-02
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -     Final value: 1.340020300035375e-01 = 2.360122377246523e+00 * 5.677757700000000e-02
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.340020300035375e-01 = 0.1316407489685814 * (5.677757700000000e-02 / 5.577708606880052e-02)
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12782590027442273
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.633485692948852e-02 = 5.550027500000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.269037452858288e+00 = 0.12782590027442273 / 5.633485692948852e-02
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -     Final value: 1.288304486955453e-01 = 2.269037452858288e+00 * 5.677757700000000e-02
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.288304486955453e-01 = 0.12782590027442273 * (5.677757700000000e-02 / 5.633485692948852e-02)
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.840533350756996 = 6.1 - 0.2594666492430041
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   Total token value: 2.628324786990829e-01
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.840533350756996
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   Final asset value: 6.103365829456078e+00
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   Initial SOL: 6.1
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   PnL from assets: 3.365829456078551e-03
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -     PnL: 8.380518989074664e-03
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -     PnL from fees: 6.100000000000000e-03
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.280518989074665e-03
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -     PnL: 7.635829456078550e-03
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.269999999999999e-03
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -     PnL from IL: 3.365829456078551e-03
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   position_id: pos_05-30-12-04-03_26456341
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7586 (from CSV: 5.7586)
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.05095 (from CSV: 0.05095)
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   Total points: 17
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748599200, 'close': 0.058905435, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748608800, 'close': 0.063518592, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   Valid prices: 17
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   Min price: 5.762742300000000e-02
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   Max price: 6.881218600000000e-02
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1940875093442926
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7586 (type: <class 'float'>)
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.05095 (type: <class 'float'>)
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-30 12:04:03
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-30 14:48:12
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   price_history length: 17
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.058905435, 0.059276918, 0.058095334, 0.058095334, 0.057627423]
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.065250053, 0.062550738, 0.061636567, 0.062697296, 0.063518592]
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   Initial price: 5.890543500000000e-02
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   Final price: 6.351859200000000e-02
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0783146241089638
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,297 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7586
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -   initial_price: 5.890543500000000e-02
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -   final_price: 6.351859200000000e-02
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0783146241089638
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -   active_bin_index: 7
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 7 bins): 0.5842057971014494
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG - 
Calculating token values for 7 activated bins:
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08345797101449276
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.919922951580212e-02 = 5.890543500000000e-02 * 1.004987562112089
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.409781372107474e+00 = 0.08345797101449276 / 5.919922951580212e-02
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Final value: 8.954732778409480e-02 = 1.409781372107474e+00 * 6.351859200000000e-02
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.954732778409480e-02 = 0.08345797101449276 * (6.351859200000000e-02 / 5.919922951580212e-02)
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08345797101449276
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.979122181096014e-02 = 5.890543500000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.395823140700469e+00 = 0.08345797101449276 / 5.979122181096014e-02
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Final value: 8.866072057831167e-02 = 1.395823140700469e+00 * 6.351859200000000e-02
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.866072057831169e-02 = 0.08345797101449276 * (6.351859200000000e-02 / 5.979122181096014e-02)
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08345797101449276
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.038913402906974e-02 = 5.890543500000000e-02 * 1.025187812110542
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.382003109604425e+00 = 0.08345797101449276 / 6.038913402906974e-02
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Final value: 8.778289166169471e-02 = 1.382003109604425e+00 * 6.351859200000000e-02
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.778289166169473e-02 = 0.08345797101449276 * (6.351859200000000e-02 / 6.038913402906974e-02)
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08345797101449276
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.099302536936044e-02 = 5.890543500000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.368319910499430e+00 = 0.08345797101449276 / 6.099302536936044e-02
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Final value: 8.691375412048984e-02 = 1.368319910499430e+00 * 6.351859200000000e-02
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.691375412048984e-02 = 0.08345797101449276 * (6.351859200000000e-02 / 6.099302536936044e-02)
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08345797101449276
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.160295562305405e-02 = 5.890543500000000e-02 * 1.045794087133964
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.354772188613297e+00 = 0.08345797101449276 / 6.160295562305405e-02
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Final value: 8.605322190147507e-02 = 1.354772188613297e+00 * 6.351859200000000e-02
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.605322190147507e-02 = 0.08345797101449276 * (6.351859200000000e-02 / 6.160295562305405e-02)
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 2 more bins processed)
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.174394202898551 = 5.7586 - 0.5842057971014494
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -   Total token value: 6.085167593182599e-01
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.174394202898551
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -   Final asset value: 5.782910962216810e+00
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7586
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.431096221681006e-02
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7586
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -   initial_price: 5.890543500000000e-02
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -   final_price: 6.351859200000000e-02
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0783146241089638
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -   active_bin_index: 7
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 7 bins): 0.7980466910597944
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG - 
Calculating token values for 7 activated bins:
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.124273183116471
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.919922951580212e-02 = 5.890543500000000e-02 * 1.004987562112089
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.099236495692881e+00 = 0.124273183116471 / 5.919922951580212e-02
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Final value: 1.333405464814258e-01 = 2.099236495692881e+00 * 6.351859200000000e-02
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.333405464814258e-01 = 0.124273183116471 * (6.351859200000000e-02 / 5.919922951580212e-02)
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12067184087217882
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.979122181096014e-02 = 5.890543500000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.018220019883568e+00 = 0.12067184087217882 / 5.979122181096014e-02
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Final value: 1.281944940092163e-01 = 2.018220019883568e+00 * 6.351859200000000e-02
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.281944940092163e-01 = 0.12067184087217882 * (6.351859200000000e-02 / 5.979122181096014e-02)
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11717800138144754
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.038913402906974e-02 = 5.890543500000000e-02 * 1.025187812110542
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.940382210565251e+00 = 0.11717800138144754 / 6.038913402906974e-02
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Final value: 1.232503459569522e-01 = 1.940382210565251e+00 * 6.351859200000000e-02
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.232503459569522e-01 = 0.11717800138144754 * (6.351859200000000e-02 / 6.038913402906974e-02)
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11379166464427729
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.099302536936044e-02 = 5.890543500000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.865650440442654e+00 = 0.11379166464427729 / 6.099302536936044e-02
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Final value: 1.185034891410972e-01 = 1.865650440442654e+00 * 6.351859200000000e-02
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.185034891410973e-01 = 0.11379166464427729 * (6.351859200000000e-02 / 6.099302536936044e-02)
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11051283066066798
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.160295562305405e-02 = 5.890543500000000e-02 * 1.045794087133964
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.793953383290429e+00 = 0.11051283066066798 / 6.160295562305405e-02
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Final value: 1.139493930202444e-01 = 1.793953383290429e+00 * 6.351859200000000e-02
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.139493930202444e-01 = 0.11051283066066798 * (6.351859200000000e-02 / 6.160295562305405e-02)
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 2 more bins processed)
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.960553308940206 = 5.7586 - 0.7980466910597944
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -   Total token value: 8.322236431732462e-01
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.960553308940206
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -   Final asset value: 5.792776952113452e+00
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7586
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -   PnL from assets: 3.417695211345162e-02
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     PnL: 3.006956221681006e-02
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.758600000000001e-03
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.431096221681006e-02
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     PnL: 3.820797211345162e-02
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.031020000000001e-03
2025-07-15 17:58:05,298 - DEEP_DEBUG - DEBUG -     PnL from IL: 3.417695211345162e-02
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for alon-SOL
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   position_id: pos_06-03-10-19-55_36535072
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8269 (from CSV: 5.8269)
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.71807 (from CSV: -0.71807)
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   close_reason: SL
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   Total points: 22
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748937600, 'close': 0.016313748, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749013200, 'close': 0.014814263, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   Valid prices: 22
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   Min price: 1.321357500000000e-02
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   Max price: 1.950814500000000e-02
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   Price ratio: 1.476371458897384
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8269 (type: <class 'float'>)
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.71807 (type: <class 'float'>)
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-03 10:19:55
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-04 07:05:10
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   close_reason: SL
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   price_history length: 22
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.016313748, 0.019133215, 0.017889923, 0.019508145, 0.016839918]
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.013295019, 0.015508748, 0.016212531, 0.015902132, 0.014814263]
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   Initial price: 1.631374800000000e-02
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   Final price: 1.481426300000000e-02
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9080845799506037
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8269
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   initial_price: 1.631374800000000e-02
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   final_price: 1.481426300000000e-02
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9080845799506037
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.8269 = 5.8269 - 0
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.8269
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   Final asset value: 5.826900000000000e+00
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8269
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8269
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   initial_price: 1.631374800000000e-02
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   final_price: 1.481426300000000e-02
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9080845799506037
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.8269 = 5.8269 - 0
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.8269
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   Final asset value: 5.826900000000000e+00
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8269
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,299 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -     PnL: 5.826900000000000e-03
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.826900000000000e-03
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -     PnL: 3.496140000000000e-03
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -     PnL from fees: 3.496140000000000e-03
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   position_id: pos_06-03-20-15-59_12150520
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8 (from CSV: 5.8)
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   Total points: 59
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748973600, 'close': 0.034440687, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749182400, 'close': 0.020706386, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   Valid prices: 59
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   Min price: 1.857687700000000e-02
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   Max price: 3.444068700000000e-02
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   Price ratio: 1.8539546232663326
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8 (type: <class 'float'>)
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-03 20:15:59
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-06 06:24:58
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   price_history length: 59
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.034440687, 0.033733092, 0.029924747, 0.03001926, 0.030631217]
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.019894867, 0.019849071, 0.020362256, 0.019359503, 0.020706386]
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   Initial price: 3.444068700000000e-02
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   Final price: 2.070638600000000e-02
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   Price ratio: 0.601218727140954
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   initial_price: 3.444068700000000e-02
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   final_price: 2.070638600000000e-02
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   price_ratio: 0.601218727140954
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.8 = 5.8 - 0
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.8
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   Final asset value: 5.800000000000000e+00
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   initial_price: 3.444068700000000e-02
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   final_price: 2.070638600000000e-02
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   price_ratio: 0.601218727140954
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.8 = 5.8 - 0
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.8
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   Final asset value: 5.800000000000000e+00
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,300 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,301 - DEEP_DEBUG - DEBUG -     PnL: 5.800000000000000e-03
2025-07-15 17:58:05,301 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.800000000000000e-03
2025-07-15 17:58:05,301 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,301 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,301 - DEEP_DEBUG - DEBUG -     PnL: 5.800000000000000e-03
2025-07-15 17:58:05,301 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.800000000000000e-03
2025-07-15 17:58:05,301 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,301 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,301 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:05,301 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,301 - DEEP_DEBUG - DEBUG -   position_id: pos_06-05-14-13-03_27517972
2025-07-15 17:58:05,301 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8099 (from CSV: 5.8099)
2025-07-15 17:58:05,301 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03815 (from CSV: 0.03815)
2025-07-15 17:58:05,301 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,301 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:05,301 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,301 - DEEP_DEBUG - DEBUG -   Total points: 35
2025-07-15 17:58:05,301 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749124800, 'close': 0.024149565, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,301 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749247200, 'close': 0.020654558, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,301 - DEEP_DEBUG - DEBUG -   Valid prices: 35
2025-07-15 17:58:05,301 - DEEP_DEBUG - DEBUG -   Min price: 1.857687700000000e-02
2025-07-15 17:58:05,301 - DEEP_DEBUG - DEBUG -   Max price: 2.414956500000000e-02
2025-07-15 17:58:05,301 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2999798082314913
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8099 (type: <class 'float'>)
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03815 (type: <class 'float'>)
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-05 14:13:03
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-07 00:00:33
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG -   price_history length: 35
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.024149565, 0.023295485, 0.021750189, 0.021168785, 0.02045387]
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.021218693, 0.021704261, 0.020831167, 0.021278702, 0.020654558]
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG -   Initial price: 2.414956500000000e-02
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG -   Final price: 2.065455800000000e-02
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG -   Price ratio: 0.8552766064316272
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8099
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG -   initial_price: 2.414956500000000e-02
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG -   final_price: 2.065455800000000e-02
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8552766064316272
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.8099 = 5.8099 - 0
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.8099
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG -   Final asset value: 5.809900000000000e+00
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8099
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8099
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG -   initial_price: 2.414956500000000e-02
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG -   final_price: 2.065455800000000e-02
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8552766064316272
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,302 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,303 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,303 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,303 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.8099 = 5.8099 - 0
2025-07-15 17:58:05,303 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,303 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,303 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.8099
2025-07-15 17:58:05,303 - DEEP_DEBUG - DEBUG -   Final asset value: 5.809900000000000e+00
2025-07-15 17:58:05,303 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8099
2025-07-15 17:58:05,303 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,303 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,303 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,303 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,303 - DEEP_DEBUG - DEBUG -     PnL: 5.809900000000000e-03
2025-07-15 17:58:05,303 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.809900000000000e-03
2025-07-15 17:58:05,303 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,303 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,303 - DEEP_DEBUG - DEBUG -     PnL: 5.809900000000000e-03
2025-07-15 17:58:05,303 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.809900000000000e-03
2025-07-15 17:58:05,303 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for catwifmask-SOL
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   position_id: pos_06-05-14-44-27_3871990
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   investment_sol: 5.827 (from CSV: 5.827)
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.18727 (from CSV: 0.18727)
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   Total points: 16
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749126600, 'close': 0.023015318, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749153600, 'close': 0.017761518, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   Valid prices: 16
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   Min price: 1.776151800000000e-02
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   Max price: 2.631878400000000e-02
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   Price ratio: 1.48178686078521
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   investment_sol: 5.827 (type: <class 'float'>)
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.18727 (type: <class 'float'>)
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-05 14:44:27
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-05 22:23:57
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   price_history length: 16
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.023015318, 0.023943545, 0.025776206, 0.024257067, 0.024679854]
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.023979915, 0.023245212, 0.020119745, 0.018230078, 0.017761518]
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   Initial price: 2.301531800000000e-02
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   Final price: 1.776151800000000e-02
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   Price ratio: 0.771725943565064
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   initial_sol: 5.827
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   initial_price: 2.301531800000000e-02
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   final_price: 1.776151800000000e-02
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   price_ratio: 0.771725943565064
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.827 = 5.827 - 0
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.827
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   Final asset value: 5.827000000000000e+00
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.827
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   initial_sol: 5.827
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   initial_price: 2.301531800000000e-02
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   final_price: 1.776151800000000e-02
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   price_ratio: 0.771725943565064
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,304 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.827 = 5.827 - 0
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.827
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   Final asset value: 5.827000000000000e+00
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.827
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -     PnL: 5.827000000000000e-03
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.827000000000000e-03
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -     PnL: 5.827000000000000e-03
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.827000000000000e-03
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for catwifmask-SOL
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   position_id: pos_06-05-23-24-16_3906280
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   investment_sol: 5.83 (from CSV: 5.83)
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.12005 (from CSV: 0.12005)
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   Total points: 13
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749157200, 'close': 0.018692742, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749178800, 'close': 0.017549591, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   Valid prices: 13
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   Min price: 1.754959100000000e-02
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   Max price: 2.138597900000000e-02
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2186027013393075
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   investment_sol: 5.83 (type: <class 'float'>)
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.12005 (type: <class 'float'>)
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-05 23:24:16
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-06 05:02:01
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   price_history length: 13
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.018692742, 0.018396592, 0.021385979, 0.021385979, 0.021385979]
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.020667028, 0.019115657, 0.017737616, 0.01869141, 0.017549591]
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   Initial price: 1.869274200000000e-02
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   Final price: 1.754959100000000e-02
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9388451945680308
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   initial_sol: 5.83
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   initial_price: 1.869274200000000e-02
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   final_price: 1.754959100000000e-02
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9388451945680308
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.83 = 5.83 - 0
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.83
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   Final asset value: 5.830000000000000e+00
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.83
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   initial_sol: 5.83
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   initial_price: 1.869274200000000e-02
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   final_price: 1.754959100000000e-02
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9388451945680308
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.83 = 5.83 - 0
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.83
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   Final asset value: 5.830000000000000e+00
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.83
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -     PnL: 5.830000000000000e-03
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.830000000000000e-03
2025-07-15 17:58:05,305 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     PnL: 4.081000000000000e-03
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.081000000000000e-03
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for catwifmask-SOL
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   position_id: pos_06-06-05-03-58_3930426
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8298 (from CSV: 5.8298)
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02139 (from CSV: 0.02139)
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   Total points: 9
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749178800, 'close': 0.017549591, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749183600, 'close': 0.020323859, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   Valid prices: 9
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   Min price: 1.754959100000000e-02
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   Max price: 2.032385900000000e-02
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1580816327856303
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8298 (type: <class 'float'>)
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02139 (type: <class 'float'>)
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-06 05:03:58
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-06 06:20:58
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   price_history length: 9
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.017549591, 0.017549591, 0.017549591, 0.018657021, 0.018740027]
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.018740027, 0.018924932, 0.018530298, 0.019690822, 0.020323859]
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   Initial price: 1.754959100000000e-02
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   Final price: 2.032385900000000e-02
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1580816327856303
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8298
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   initial_price: 1.754959100000000e-02
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   final_price: 2.032385900000000e-02
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1580816327856303
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   active_bin_index: 14
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 14 bins): 1.1828579710144926
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG - 
Calculating token values for 14 activated bins:
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08448985507246376
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.763712067515426e-02 = 1.754959100000000e-02 * 1.004987562112089
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.790456255792716e+00 = 0.08448985507246376 / 1.763712067515426e-02
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     Final value: 9.736055748839909e-02 = 4.790456255792716e+00 * 2.032385900000000e-02
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.736055748839909e-02 = 0.08448985507246376 * (2.032385900000000e-02 / 1.763712067515426e-02)
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08448985507246376
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.781349188190580e-02 = 1.754959100000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.743025995834373e+00 = 0.08448985507246376 / 1.781349188190580e-02
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     Final value: 9.639659157267237e-02 = 4.743025995834373e+00 * 2.032385900000000e-02
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.639659157267237e-02 = 0.08448985507246376 * (2.032385900000000e-02 / 1.781349188190580e-02)
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08448985507246376
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.799162680072486e-02 = 1.754959100000000e-02 * 1.025187812110542
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.696065342410269e+00 = 0.08448985507246376 / 1.799162680072486e-02
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     Final value: 9.544216987393303e-02 = 4.696065342410269e+00 * 2.032385900000000e-02
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.544216987393303e-02 = 0.08448985507246376 * (2.032385900000000e-02 / 1.799162680072486e-02)
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08448985507246376
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.817154306873211e-02 = 1.754959100000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.649569645950762e+00 = 0.08448985507246376 / 1.817154306873211e-02
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     Final value: 9.449719789498320e-02 = 4.649569645950762e+00 * 2.032385900000000e-02
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.449719789498320e-02 = 0.08448985507246376 * (2.032385900000000e-02 / 1.817154306873211e-02)
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08448985507246376
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.835325849941943e-02 = 1.754959100000000e-02 * 1.045794087133964
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.603534302921545e+00 = 0.08448985507246376 / 1.835325849941943e-02
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     Final value: 9.356158207424077e-02 = 4.603534302921545e+00 * 2.032385900000000e-02
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.356158207424078e-02 = 0.08448985507246376 * (2.032385900000000e-02 / 1.835325849941943e-02)
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 9 more bins processed)
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.646942028985507 = 5.8298 - 1.1828579710144926
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   Total token value: 1.278708255391354e+00
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.646942028985507
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   Final asset value: 5.925650284376861e+00
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8298
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   PnL from assets: 9.585028437686116e-02
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8298
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   initial_price: 1.754959100000000e-02
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   final_price: 2.032385900000000e-02
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1580816327856303
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   active_bin_index: 14
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 14 bins): 1.469176640468946
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG - 
Calculating token values for 14 activated bins:
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,306 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12580971120279277
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.763712067515426e-02 = 1.754959100000000e-02 * 1.004987562112089
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     Tokens bought: 7.133234132713242e+00 = 0.12580971120279277 / 1.763712067515426e-02
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     Final value: 1.449748447272512e-01 = 7.133234132713242e+00 * 2.032385900000000e-02
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.449748447272512e-01 = 0.12580971120279277 * (2.032385900000000e-02 / 1.763712067515426e-02)
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12216384154423436
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.781349188190580e-02 = 1.754959100000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.857939047218658e+00 = 0.12216384154423436 / 1.781349188190580e-02
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     Final value: 1.393797862262663e-01 = 6.857939047218658e+00 * 2.032385900000000e-02
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.393797862262664e-01 = 0.12216384154423436 * (2.032385900000000e-02 / 1.781349188190580e-02)
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11862680381578211
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.799162680072486e-02 = 1.754959100000000e-02 * 1.025187812110542
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.593445113646021e+00 = 0.11862680381578211 / 1.799162680072486e-02
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     Final value: 1.340042488139807e-01 = 6.593445113646021e+00 * 2.032385900000000e-02
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.340042488139807e-01 = 0.11862680381578211 * (2.032385900000000e-02 / 1.799162680072486e-02)
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11519859801743614
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.817154306873211e-02 = 1.754959100000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.339505543459274e+00 = 0.11519859801743614 / 1.817154306873211e-02
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     Final value: 1.288432167949846e-01 = 6.339505543459274e+00 * 2.032385900000000e-02
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.288432167949847e-01 = 0.11519859801743614 * (2.032385900000000e-02 / 1.817154306873211e-02)
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11187922414919636
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.835325849941943e-02 = 1.754959100000000e-02 * 1.045794087133964
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.095877969175634e+00 = 0.11187922414919636 / 1.835325849941943e-02
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     Final value: 1.238917643267319e-01 = 6.095877969175634e+00 * 2.032385900000000e-02
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.238917643267319e-01 = 0.11187922414919636 * (2.032385900000000e-02 / 1.835325849941943e-02)
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 9 more bins processed)
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.360623359531054 = 5.8298 - 1.469176640468946
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -   Total token value: 1.595558196900834e+00
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.360623359531054
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -   Final asset value: 5.956181556431888e+00
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8298
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.263815564318884e-01
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     PnL: 1.016800843768612e-01
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.829800000000000e-03
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     PnL from IL: 9.585028437686116e-02
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     PnL: 1.304624164318884e-01
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.080860000000000e-03
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.263815564318884e-01
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -   position_id: pos_06-06-11-59-08_27685301
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8079 (from CSV: 5.8079)
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01558 (from CSV: 0.01558)
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -   Total points: 20
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749202200, 'close': 0.020476795, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749236400, 'close': 0.021466597, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -   Valid prices: 20
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -   Min price: 2.047679500000000e-02
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -   Max price: 2.441778400000000e-02
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1924612225692548
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8079 (type: <class 'float'>)
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01558 (type: <class 'float'>)
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-06 11:59:08
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-06 21:29:11
2025-07-15 17:58:05,307 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   price_history length: 20
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.020476795, 0.022179594, 0.023105955, 0.023146114, 0.02403365]
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.024417784, 0.022680006, 0.021782962, 0.021218693, 0.021466597]
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   Initial price: 2.047679500000000e-02
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   Final price: 2.146659700000000e-02
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0483377403543865
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8079
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   initial_price: 2.047679500000000e-02
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   final_price: 2.146659700000000e-02
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0483377403543865
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   active_bin_index: 4
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 4 bins): 0.3366898550724638
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG - 
Calculating token values for 4 activated bins:
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08417246376811595
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.057892428691901e-02 = 2.047679500000000e-02 * 1.004987562112089
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.090226612166514e+00 = 0.08417246376811595 / 2.057892428691901e-02
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Final value: 8.780324632205386e-02 = 4.090226612166514e+00 * 2.146659700000000e-02
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.780324632205387e-02 = 0.08417246376811595 * (2.146659700000000e-02 / 2.057892428691901e-02)
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08417246376811595
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.078471352978820e-02 = 2.047679500000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.049729318976746e+00 = 0.08417246376811595 / 2.078471352978820e-02
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Final value: 8.693390724955827e-02 = 4.049729318976746e+00 * 2.146659700000000e-02
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.693390724955828e-02 = 0.08417246376811595 * (2.146659700000000e-02 / 2.078471352978820e-02)
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08417246376811595
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.099256066508608e-02 = 2.047679500000000e-02 * 1.025187812110542
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.009632989085888e+00 = 0.08417246376811595 / 2.099256066508608e-02
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Final value: 8.607317549461216e-02 = 4.009632989085888e+00 * 2.146659700000000e-02
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.607317549461216e-02 = 0.08417246376811595 * (2.146659700000000e-02 / 2.099256066508608e-02)
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08417246376811595
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.120248627173695e-02 = 2.047679500000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.969933652560285e+00 = 0.08417246376811595 / 2.120248627173695e-02
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Final value: 8.522096583624966e-02 = 3.969933652560285e+00 * 2.146659700000000e-02
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.522096583624966e-02 = 0.08417246376811595 * (2.146659700000000e-02 / 2.120248627173695e-02)
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.471210144927536 = 5.8079 - 0.3366898550724638
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   Total token value: 3.460312949024739e-01
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.471210144927536
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   Final asset value: 5.817241439830010e+00
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8079
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   PnL from assets: 9.341439830009790e-03
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8079
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   initial_price: 2.047679500000000e-02
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   final_price: 2.146659700000000e-02
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0483377403543865
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   active_bin_index: 4
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 4 bins): 0.47998904736124864
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG - 
Calculating token values for 4 activated bins:
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12533709933354492
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.057892428691901e-02 = 2.047679500000000e-02 * 1.004987562112089
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.090556415196854e+00 = 0.12533709933354492 / 2.057892428691901e-02
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Final value: 1.307435200707955e-01 = 6.090556415196854e+00 * 2.146659700000000e-02
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.307435200707955e-01 = 0.12533709933354492 * (2.146659700000000e-02 / 2.057892428691901e-02)
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12170492560718357
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.078471352978820e-02 = 2.047679500000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.855501709598196e+00 = 0.12170492560718357 / 2.078471352978820e-02
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Final value: 1.256976954327555e-01 = 5.855501709598196e+00 * 2.146659700000000e-02
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.256976954327555e-01 = 0.12170492560718357 * (2.146659700000000e-02 / 2.078471352978820e-02)
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11818117497713146
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.099256066508608e-02 = 2.047679500000000e-02 * 1.025187812110542
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.629669332035575e+00 = 0.11818117497713146 / 2.099256066508608e-02
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Final value: 1.208498427940669e-01 = 5.629669332035575e+00 * 2.146659700000000e-02
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.208498427940669e-01 = 0.11818117497713146 * (2.146659700000000e-02 / 2.099256066508608e-02)
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11476584744338868
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.120248627173695e-02 = 2.047679500000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.412848567499006e+00 = 0.11476584744338868 / 2.120248627173695e-02
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Final value: 1.161954388205285e-01 = 5.412848567499006e+00 * 2.146659700000000e-02
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.161954388205285e-01 = 0.11476584744338868 * (2.146659700000000e-02 / 2.120248627173695e-02)
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.327910952638751 = 5.8079 - 0.47998904736124864
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   Total token value: 4.934864971181463e-01
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.327910952638751
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   Final asset value: 5.821397449756898e+00
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8079
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.349744975689759e-02
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     PnL: 1.514933983000979e-02
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.807900000000000e-03
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -     PnL from IL: 9.341439830009790e-03
2025-07-15 17:58:05,308 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -     PnL: 1.860940035132905e-02
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.111950594431457e-03
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.349744975689759e-02
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for KILL BIG BEAUTIFUL BILL-SOL
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   position_id: pos_06-06-13-31-43_4031915
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8299 (from CSV: 5.8299)
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.53439 (from CSV: -0.53439)
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   close_reason: SL
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   Total points: 17
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749209400, 'close': 0.044747075, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749219000, 'close': 0.038325797, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   Valid prices: 17
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   Min price: 3.636440900000000e-02
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   Max price: 6.918384000000000e-02
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   Price ratio: 1.9025151763087913
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8299 (type: <class 'float'>)
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.53439 (type: <class 'float'>)
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-06 13:31:43
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-06 16:15:31
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   close_reason: SL
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   price_history length: 17
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.044747075, 0.04562596, 0.044337948, 0.042233468, 0.044974829]
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.044741014, 0.036364409, 0.037817953, 0.03707745, 0.038325797]
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   Initial price: 4.474707500000000e-02
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   Final price: 3.832579700000000e-02
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   Price ratio: 0.8564983744747563
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8299
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   initial_price: 4.474707500000000e-02
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   final_price: 3.832579700000000e-02
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8564983744747563
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.8299 = 5.8299 - 0
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.8299
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   Final asset value: 5.829900000000000e+00
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8299
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8299
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   initial_price: 4.474707500000000e-02
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   final_price: 3.832579700000000e-02
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8564983744747563
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.8299 = 5.8299 - 0
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.8299
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   Final asset value: 5.829900000000000e+00
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8299
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,309 - DEEP_DEBUG - DEBUG -     PnL: 5.829900000000001e-03
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.829900000000001e-03
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -     PnL: 4.663920000000001e-03
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.663920000000001e-03
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Collaterize-SOL
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -   position_id: pos_06-06-21-47-39_27723868
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8092 (from CSV: 5.8092)
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01631 (from CSV: 0.01631)
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -   Total points: 10
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749238200, 'close': 0.027086377, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749254400, 'close': 0.031009697, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -   Valid prices: 10
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -   Min price: 2.708637700000000e-02
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -   Max price: 3.695448500000000e-02
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -   Price ratio: 1.3643199679307427
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8092 (type: <class 'float'>)
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01631 (type: <class 'float'>)
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-06 21:47:39
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-07 02:14:02
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -   price_history length: 10
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.027086377, 0.027187491, 0.027325606, 0.036954485, 0.034251189]
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.03119037, 0.031168043, 0.030476391, 0.032036805, 0.031009697]
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -   Initial price: 2.708637700000000e-02
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -   Final price: 3.100969700000000e-02
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1448447682759493
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8092
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -   initial_price: 2.708637700000000e-02
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -   final_price: 3.100969700000000e-02
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1448447682759493
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -   active_bin_index: 13
2025-07-15 17:58:05,310 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 13 bins): 1.0944869565217392
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG - 
Calculating token values for 13 activated bins:
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08419130434782608
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.722147198767896e-02 = 2.708637700000000e-02 * 1.004987562112089
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.092827029557143e+00 = 0.08419130434782608 / 2.722147198767896e-02
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Final value: 9.590762905997703e-02 = 3.092827029557143e+00 * 3.100969700000000e-02
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.590762905997705e-02 = 0.08419130434782608 * (3.100969700000000e-02 / 2.722147198767896e-02)
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08419130434782608
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.749368670755575e-02 = 2.708637700000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.062204979759547e+00 = 0.08419130434782608 / 2.749368670755575e-02
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Final value: 9.495804857423469e-02 = 3.062204979759547e+00 * 3.100969700000000e-02
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.495804857423469e-02 = 0.08419130434782608 * (3.100969700000000e-02 / 2.749368670755575e-02)
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08419130434782608
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.776862357463130e-02 = 2.708637700000000e-02 * 1.025187812110542
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.031886118573810e+00 = 0.08419130434782608 / 2.776862357463130e-02
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Final value: 9.401786987547990e-02 = 3.031886118573810e+00 * 3.100969700000000e-02
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.401786987547989e-02 = 0.08419130434782608 * (3.100969700000000e-02 / 2.776862357463130e-02)
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08419130434782608
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.804630981037762e-02 = 2.708637700000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.001867444132484e+00 = 0.08419130434782608 / 2.804630981037762e-02
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Final value: 9.308699987671276e-02 = 3.001867444132484e+00 * 3.100969700000000e-02
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.308699987671278e-02 = 0.08419130434782608 * (3.100969700000000e-02 / 2.804630981037762e-02)
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08419130434782608
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.832677290848139e-02 = 2.708637700000000e-02 * 1.045794087133964
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.972145984289588e+00 = 0.08419130434782608 / 2.832677290848139e-02
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Final value: 9.216534641258689e-02 = 2.972145984289588e+00 * 3.100969700000000e-02
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.216534641258689e-02 = 0.08419130434782608 * (3.100969700000000e-02 / 2.832677290848139e-02)
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 8 more bins processed)
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.714713043478261 = 5.8092 - 1.0944869565217392
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -   Total token value: 1.175355424428244e+00
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.714713043478261
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -   Final asset value: 5.890068467906505e+00
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8092
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -   PnL from assets: 8.086846790650526e-02
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8092
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -   initial_price: 2.708637700000000e-02
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -   final_price: 3.100969700000000e-02
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1448447682759493
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -   active_bin_index: 13
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 13 bins): 1.3773899826385654
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG - 
Calculating token values for 13 activated bins:
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12536515391939068
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.722147198767896e-02 = 2.708637700000000e-02 * 1.004987562112089
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.605377474669031e+00 = 0.12536515391939068 / 2.722147198767896e-02
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Final value: 1.428113600601118e-01 = 4.605377474669031e+00 * 3.100969700000000e-02
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.428113600601118e-01 = 0.12536515391939068 * (3.100969700000000e-02 / 2.722147198767896e-02)
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12173216719248796
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.749368670755575e-02 = 2.708637700000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.427640733937433e+00 = 0.12173216719248796 / 2.749368670755575e-02
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Final value: 1.372997975842574e-01 = 4.427640733937433e+00 * 3.100969700000000e-02
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.372997975842574e-01 = 0.12173216719248796 * (3.100969700000000e-02 / 2.749368670755575e-02)
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11820762783056733
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.776862357463130e-02 = 2.708637700000000e-02 * 1.025187812110542
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.256877461458290e+00 = 0.11820762783056733 / 2.776862357463130e-02
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Final value: 1.320044802459508e-01 = 4.256877461458290e+00 * 3.100969700000000e-02
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.320044802459507e-01 = 0.11820762783056733 * (3.100969700000000e-02 / 2.776862357463130e-02)
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11479153583362893
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.804630981037762e-02 = 2.708637700000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.092928324964666e+00 = 0.11479153583362893 / 2.804630981037762e-02
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Final value: 1.269204671998718e-01 = 4.092928324964666e+00 * 3.100969700000000e-02
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.269204671998718e-01 = 0.11479153583362893 * (3.100969700000000e-02 / 2.804630981037762e-02)
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1114838912016727
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.832677290848139e-02 = 2.708637700000000e-02 * 1.045794087133964
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.935636846521723e+00 = 0.1114838912016727 / 2.832677290848139e-02
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Final value: 1.220429061126741e-01 = 3.935636846521723e+00 * 3.100969700000000e-02
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.220429061126741e-01 = 0.1114838912016727 * (3.100969700000000e-02 / 2.832677290848139e-02)
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 8 more bins processed)
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.4318100173614345 = 5.8092 - 1.3773899826385654
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -   Total token value: 1.485070783149806e+00
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.4318100173614345
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -   Final asset value: 5.916880800511241e+00
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8092
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.076808005112415e-01
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     PnL: 8.667766790650526e-02
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.809200000000000e-03
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     PnL from IL: 8.086846790650526e-02
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     PnL: 1.129656102149423e-01
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.284809703700741e-03
2025-07-15 17:58:05,311 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.076808005112415e-01
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG -   position_id: pos_06-07-07-47-14_4269274
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG -   investment_sol: 5.83 (from CSV: 5.83)
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG -   Total points: 68
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749272400, 'close': 0.024557002, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749513600, 'close': 0.020503358, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG -   Valid prices: 68
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG -   Min price: 1.888256500000000e-02
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG -   Max price: 2.751470600000000e-02
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG -   Price ratio: 1.4571487507126282
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG -   investment_sol: 5.83 (type: <class 'float'>)
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-07 07:47:14
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-10 02:27:47
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG -   price_history length: 68
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.024557002, 0.024834426, 0.026052523, 0.023847273, 0.024673876]
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.020199326, 0.020285676, 0.021146041, 0.02002692, 0.020503358]
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG -   Initial price: 2.455700200000000e-02
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG -   Final price: 2.050335800000000e-02
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG -   Price ratio: 0.8349291986049436
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG -   initial_sol: 5.83
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG -   initial_price: 2.455700200000000e-02
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG -   final_price: 2.050335800000000e-02
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8349291986049436
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,312 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.83 = 5.83 - 0
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.83
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG -   Final asset value: 5.830000000000000e+00
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.83
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG -   initial_sol: 5.83
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG -   initial_price: 2.455700200000000e-02
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG -   final_price: 2.050335800000000e-02
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8349291986049436
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.83 = 5.83 - 0
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.83
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG -   Final asset value: 5.830000000000000e+00
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.83
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG -     PnL: 5.830000000000000e-03
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.830000000000000e-03
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG -     PnL: 5.830000000000000e-03
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.830000000000000e-03
2025-07-15 17:58:05,313 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   position_id: pos_06-09-12-59-49_13530988
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8 (from CSV: 5.8)
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   Total points: 8
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749466200, 'close': 0.015996126, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749470400, 'close': 0.017008064, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   Valid prices: 8
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   Min price: 1.597284100000000e-02
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   Max price: 1.739283900000000e-02
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   Price ratio: 1.088900778515231
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8 (type: <class 'float'>)
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-09 12:59:49
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-09 14:02:38
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   price_history length: 8
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.015996126, 0.016855512, 0.017392839, 0.016166388, 0.015972841]
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.016166388, 0.015972841, 0.015992021, 0.015992021, 0.017008064]
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   Initial price: 1.599612600000000e-02
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   Final price: 1.700806400000000e-02
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   Price ratio: 1.063261442176687
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   initial_price: 1.599612600000000e-02
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   final_price: 1.700806400000000e-02
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   price_ratio: 1.063261442176687
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   active_bin_index: 6
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 6 bins): 0.696
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG - 
Calculating token values for 6 activated bins:
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11599999999999999
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.607590767197780e-02 = 1.599612600000000e-02 * 1.004987562112089
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     Tokens bought: 7.215766746545929e+00 = 0.11599999999999999 / 1.607590767197780e-02
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     Final value: 1.227262226343249e-01 = 7.215766746545929e+00 * 1.700806400000000e-02
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.227262226343249e-01 = 0.11599999999999999 * (1.700806400000000e-02 / 1.607590767197780e-02)
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11599999999999999
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.623666674869758e-02 = 1.599612600000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     Tokens bought: 7.144323511431613e+00 = 0.11599999999999999 / 1.623666674869758e-02
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     Final value: 1.215111115191336e-01 = 7.144323511431613e+00 * 1.700806400000000e-02
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.215111115191336e-01 = 0.11599999999999999 * (1.700806400000000e-02 / 1.623666674869758e-02)
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11599999999999999
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.639903341618456e-02 = 1.599612600000000e-02 * 1.025187812110542
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     Tokens bought: 7.073587635080804e+00 = 0.11599999999999999 / 1.639903341618456e-02
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     Final value: 1.203080312070630e-01 = 7.073587635080804e+00 * 1.700806400000000e-02
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.203080312070630e-01 = 0.11599999999999999 * (1.700806400000000e-02 / 1.639903341618456e-02)
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11599999999999999
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.656302375034640e-02 = 1.599612600000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     Tokens bought: 7.003552113941391e+00 = 0.11599999999999999 / 1.656302375034640e-02
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     Final value: 1.191168625812505e-01 = 7.003552113941391e+00 * 1.700806400000000e-02
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.191168625812505e-01 = 0.11599999999999999 * (1.700806400000000e-02 / 1.656302375034640e-02)
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11599999999999999
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.672865398784986e-02 = 1.599612600000000e-02 * 1.045794087133964
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.934210013803357e+00 = 0.11599999999999999 / 1.672865398784986e-02
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     Final value: 1.179374877042084e-01 = 6.934210013803357e+00 * 1.700806400000000e-02
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.179374877042084e-01 = 0.11599999999999999 * (1.700806400000000e-02 / 1.672865398784986e-02)
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 1 more bins processed)
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.104 = 5.8 - 0.696
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   Total token value: 7.183695054521273e-01
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.104
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   Final asset value: 5.822369505452127e+00
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.236950545212757e-02
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   initial_price: 1.599612600000000e-02
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   final_price: 1.700806400000000e-02
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   price_ratio: 1.063261442176687
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   active_bin_index: 6
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 6 bins): 0.9358911564625846
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG - 
Calculating token values for 6 activated bins:
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1722424242424242
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.607590767197780e-02 = 1.599612600000000e-02 * 1.004987562112089
2025-07-15 17:58:05,314 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.071432032062880e+01 = 0.1722424242424242 / 1.607590767197780e-02
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -     Final value: 1.822298457297552e-01 = 1.071432032062880e+01 * 1.700806400000000e-02
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.822298457297552e-01 = 0.1722424242424242 * (1.700806400000000e-02 / 1.607590767197780e-02)
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16535559678416814
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.623666674869758e-02 = 1.599612600000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.018408515389602e+01 = 0.16535559678416814 / 1.623666674869758e-02
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -     Final value: 1.732115720789133e-01 = 1.018408515389602e+01 * 1.700806400000000e-02
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.732115720789133e-01 = 0.16535559678416814 * (1.700806400000000e-02 / 1.623666674869758e-02)
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1587557204700061
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.639903341618456e-02 = 1.599612600000000e-02 * 1.025187812110542
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -     Tokens bought: 9.680797425129136e+00 = 0.1587557204700061 / 1.639903341618456e-02
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -     Final value: 1.646516221776315e-01 = 9.680797425129136e+00 * 1.700806400000000e-02
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.646516221776316e-01 = 0.1587557204700061 * (1.700806400000000e-02 / 1.639903341618456e-02)
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.15244279529993815
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.656302375034640e-02 = 1.599612600000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -     Tokens bought: 9.203802252396695e+00 = 0.15244279529993815 / 1.656302375034640e-02
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -     Final value: 1.565388577521071e-01 = 9.203802252396695e+00 * 1.700806400000000e-02
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.565388577521071e-01 = 0.15244279529993815 * (1.700806400000000e-02 / 1.656302375034640e-02)
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.14641682127396408
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.672865398784986e-02 = 1.599612600000000e-02 * 1.045794087133964
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -     Tokens bought: 8.752456795406708e+00 = 0.14641682127396408 / 1.672865398784986e-02
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -     Final value: 1.488623453335122e-01 = 8.752456795406708e+00 * 1.700806400000000e-02
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.488623453335122e-01 = 0.14641682127396408 * (1.700806400000000e-02 / 1.672865398784986e-02)
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 1 more bins processed)
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.864108843537415 = 5.8 - 0.9358911564625846
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -   Total token value: 9.671055960773949e-01
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.864108843537415
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -   Final asset value: 5.831214439614810e+00
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -   PnL from assets: 3.121443961480974e-02
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -     PnL: 2.816950545212757e-02
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.800000000000000e-03
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.236950545212757e-02
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -     PnL: 3.701443961480974e-02
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.800000000000000e-03
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -     PnL from IL: 3.121443961480974e-02
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -   position_id: pos_06-09-15-01-41_37770349
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8091 (from CSV: 5.8091)
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -   Total points: 17
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749474000, 'close': 0.019727845, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749502800, 'close': 0.021708854, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -   Valid prices: 17
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -   Min price: 1.850447000000000e-02
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -   Max price: 2.265833100000000e-02
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2244787880982273
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8091 (type: <class 'float'>)
2025-07-15 17:58:05,315 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-09 15:01:41
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-09 23:20:37
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   price_history length: 17
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.019727845, 0.021379577, 0.021490149, 0.022658331, 0.021331589]
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.019397515, 0.01850447, 0.018676429, 0.020855423, 0.021708854]
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   Initial price: 1.972784500000000e-02
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   Final price: 2.170885400000000e-02
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1004168980443632
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8091
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   initial_price: 1.972784500000000e-02
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   final_price: 2.170885400000000e-02
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1004168980443632
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   active_bin_index: 9
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 9 bins): 0.757708695652174
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG - 
Calculating token values for 9 activated bins:
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08418985507246377
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.982623885227516e-02 = 1.972784500000000e-02 * 1.004987562112089
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.246385595359785e+00 = 0.08418985507246377 / 1.982623885227516e-02
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Final value: 9.218416491736864e-02 = 4.246385595359785e+00 * 2.170885400000000e-02
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.218416491736864e-02 = 0.08418985507246377 * (2.170885400000000e-02 / 1.982623885227516e-02)
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08418985507246377
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.002450124079792e-02 = 1.972784500000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.204342173623549e+00 = 0.08418985507246377 / 2.002450124079792e-02
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Final value: 9.127145041323627e-02 = 4.204342173623549e+00 * 2.170885400000000e-02
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.127145041323627e-02 = 0.08418985507246377 * (2.170885400000000e-02 / 2.002450124079792e-02)
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08418985507246377
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.022474625320590e-02 = 1.972784500000000e-02 * 1.025187812110542
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.162715023389652e+00 = 0.08418985507246377 / 2.022474625320590e-02
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Final value: 9.036777268637254e-02 = 4.162715023389652e+00 * 2.170885400000000e-02
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.036777268637256e-02 = 0.08418985507246377 * (2.170885400000000e-02 / 2.022474625320590e-02)
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08418985507246377
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.042699371573796e-02 = 1.972784500000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.121500023158071e+00 = 0.08418985507246377 / 2.042699371573796e-02
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Final value: 8.947304226373519e-02 = 4.121500023158071e+00 * 2.170885400000000e-02
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.947304226373520e-02 = 0.08418985507246377 * (2.170885400000000e-02 / 2.042699371573796e-02)
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08418985507246377
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.063126365289534e-02 = 1.972784500000000e-02 * 1.045794087133964
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.080693092235714e+00 = 0.08418985507246377 / 2.063126365289534e-02
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Final value: 8.858717055815366e-02 = 4.080693092235714e+00 * 2.170885400000000e-02
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.858717055815364e-02 = 0.08418985507246377 * (2.170885400000000e-02 / 2.063126365289534e-02)
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 4 more bins processed)
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.051391304347826 = 5.8091 - 0.757708695652174
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   Total token value: 7.975476886809817e-01
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.051391304347826
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   Final asset value: 5.848938993028807e+00
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8091
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   PnL from assets: 3.983899302880722e-02
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8091
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   initial_price: 1.972784500000000e-02
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   final_price: 2.170885400000000e-02
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1004168980443632
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   active_bin_index: 9
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 9 bins): 1.0065911139320851
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG - 
Calculating token values for 9 activated bins:
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12536299587432564
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.982623885227516e-02 = 1.972784500000000e-02 * 1.004987562112089
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.323085120097784e+00 = 0.12536299587432564 / 1.982623885227516e-02
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Final value: 1.372669317017753e-01 = 6.323085120097784e+00 * 2.170885400000000e-02
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.372669317017753e-01 = 0.12536299587432564 * (2.170885400000000e-02 / 1.982623885227516e-02)
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12173007168592608
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.002450124079792e-02 = 1.972784500000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.079056363107473e+00 = 0.12173007168592608 / 2.002450124079792e-02
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Final value: 1.319693470444711e-01 = 6.079056363107473e+00 * 2.170885400000000e-02
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.319693470444711e-01 = 0.12173007168592608 * (2.170885400000000e-02 / 2.002450124079792e-02)
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11820559299568766
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.022474625320590e-02 = 1.972784500000000e-02 * 1.025187812110542
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.844602029404966e+00 = 0.11820559299568766 / 2.022474625320590e-02
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Final value: 1.268796121444561e-01 = 5.844602029404966e+00 * 2.170885400000000e-02
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.268796121444561e-01 = 0.11820559299568766 * (2.170885400000000e-02 / 2.022474625320590e-02)
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11478955980361046
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.042699371573796e-02 = 1.972784500000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.619503359183538e+00 = 0.11478955980361046 / 2.042699371573796e-02
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Final value: 1.219929779770250e-01 = 5.619503359183538e+00 * 2.170885400000000e-02
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.219929779770250e-01 = 0.11478955980361046 * (2.170885400000000e-02 / 2.042699371573796e-02)
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11148197210969443
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.063126365289534e-02 = 1.972784500000000e-02 * 1.045794087133964
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.403545511573614e+00 = 0.11148197210969443 / 2.063126365289534e-02
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Final value: 1.173047805931069e-01 = 5.403545511573614e+00 * 2.170885400000000e-02
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.173047805931069e-01 = 0.11148197210969443 * (2.170885400000000e-02 / 2.063126365289534e-02)
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 4 more bins processed)
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.802508886067915 = 5.8091 - 1.0065911139320851
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   Total token value: 1.061560948473229e+00
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.802508886067915
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   Final asset value: 5.864069834541144e+00
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8091
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   PnL from assets: 5.496983454114446e-02
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,316 - DEEP_DEBUG - DEBUG -     PnL: 4.564809302880722e-02
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.809100000000000e-03
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG -     PnL from IL: 3.983899302880722e-02
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG -     PnL: 6.077893454114446e-02
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.809100000000000e-03
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG -     PnL from IL: 5.496983454114446e-02
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG -   position_id: pos_06-09-22-36-48_28272931
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8098 (from CSV: 5.8098)
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01403 (from CSV: 0.01403)
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG -   Total points: 5
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749501000, 'close': 0.018845738, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749503400, 'close': 0.021437985, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG -   Valid prices: 5
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG -   Min price: 1.884573800000000e-02
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG -   Max price: 2.143798500000000e-02
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1375508351012837
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8098 (type: <class 'float'>)
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01403 (type: <class 'float'>)
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-09 22:36:48
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-09 23:17:07
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG -   price_history length: 5
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.018845738, 0.020383344, 0.020855423, 0.020944008, 0.021437985]
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.018845738, 0.020383344, 0.020855423, 0.020944008, 0.021437985]
2025-07-15 17:58:05,317 - DEEP_DEBUG - DEBUG -   Initial price: 1.884573800000000e-02
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -   Final price: 2.143798500000000e-02
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1375508351012837
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8098
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -   initial_price: 1.884573800000000e-02
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -   final_price: 2.143798500000000e-02
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1375508351012837
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -   active_bin_index: 12
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 12 bins): 1.0104000000000002
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG - 
Calculating token values for 12 activated bins:
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.0842
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.893973228882316e-02 = 1.884573800000000e-02 * 1.004987562112089
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.445680578583926e+00 = 0.0842 / 1.893973228882316e-02
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Final value: 9.530643355847353e-02 = 4.445680578583926e+00 * 2.143798500000000e-02
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.530643355847353e-02 = 0.0842 * (2.143798500000000e-02 / 1.893973228882316e-02)
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.0842
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.912912961171139e-02 = 1.884573800000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.401663939192006e+00 = 0.0842 / 1.912912961171139e-02
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Final value: 9.436280550343913e-02 = 4.401663939192006e+00 * 2.143798500000000e-02
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.436280550343913e-02 = 0.0842 * (2.143798500000000e-02 / 1.912912961171139e-02)
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.0842
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.932042090782850e-02 = 1.884573800000000e-02 * 1.025187812110542
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.358083108110897e+00 = 0.0842 / 1.932042090782850e-02
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Final value: 9.342852030043479e-02 = 4.358083108110897e+00 * 2.143798500000000e-02
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.342852030043479e-02 = 0.0842 * (2.143798500000000e-02 / 1.932042090782850e-02)
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.0842
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.951362511690679e-02 = 1.884573800000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.314933770406829e+00 = 0.0842 / 1.951362511690679e-02
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Final value: 9.250348544597504e-02 = 4.314933770406829e+00 * 2.143798500000000e-02
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.250348544597504e-02 = 0.0842 * (2.143798500000000e-02 / 1.951362511690679e-02)
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.0842
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.970876136807586e-02 = 1.884573800000000e-02 * 1.045794087133964
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.272211653868147e+00 = 0.0842 / 1.970876136807586e-02
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Final value: 9.158760935245051e-02 = 4.272211653868147e+00 * 2.143798500000000e-02
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.158760935245053e-02 = 0.0842 * (2.143798500000000e-02 / 1.970876136807586e-02)
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 7 more bins processed)
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.7994 = 5.8098 - 1.0104000000000002
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -   Total token value: 1.083408106356356e+00
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.7994
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -   Final asset value: 5.882808106356356e+00
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8098
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -   PnL from assets: 7.300810635635635e-02
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8098
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -   initial_price: 1.884573800000000e-02
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -   final_price: 2.143798500000000e-02
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1375508351012837
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -   active_bin_index: 12
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 12 bins): 1.2885962215543154
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG - 
Calculating token values for 12 activated bins:
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12537810218978104
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.893973228882316e-02 = 1.884573800000000e-02 * 1.004987562112089
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.619845533073876e+00 = 0.12537810218978104 / 1.893973228882316e-02
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Final value: 1.419161492403548e-01 = 6.619845533073876e+00 * 2.143798500000000e-02
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.419161492403548e-01 = 0.12537810218978104 * (2.143798500000000e-02 / 1.893973228882316e-02)
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12174474023185923
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.912912961171139e-02 = 1.884573800000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.364363810746711e+00 = 0.12174474023185923 / 1.912912961171139e-02
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Final value: 1.364391359093308e-01 = 6.364363810746711e+00 * 2.143798500000000e-02
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.364391359093308e-01 = 0.12174474023185923 * (2.143798500000000e-02 / 1.912912961171139e-02)
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11821983683984545
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.932042090782850e-02 = 1.884573800000000e-02 * 1.025187812110542
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.118905866690699e+00 = 0.11821983683984545 / 1.932042090782850e-02
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Final value: 1.311770121865272e-01 = 6.118905866690699e+00 * 2.143798500000000e-02
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.311770121865272e-01 = 0.11821983683984545 * (2.143798500000000e-02 / 1.932042090782850e-02)
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11480339201373983
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.951362511690679e-02 = 1.884573800000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.883242674077668e+00 = 0.11480339201373983 / 1.951362511690679e-02
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Final value: 1.261248681982370e-01 = 5.883242674077668e+00 * 2.143798500000000e-02
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.261248681982369e-01 = 0.11480339201373983 * (2.143798500000000e-02 / 1.951362511690679e-02)
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11149540575354232
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.970876136807586e-02 = 1.884573800000000e-02 * 1.045794087133964
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.657149308943482e+00 = 0.11149540575354232 / 1.970876136807586e-02
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Final value: 1.212778820278907e-01 = 5.657149308943482e+00 * 2.143798500000000e-02
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.212778820278907e-01 = 0.11149540575354232 * (2.143798500000000e-02 / 1.970876136807586e-02)
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 7 more bins processed)
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.521203778445685 = 5.8098 - 1.2885962215543154
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -   Total token value: 1.386424642416886e+00
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.521203778445685
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -   Final asset value: 5.907628420862570e+00
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8098
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -   PnL from assets: 9.782842086257038e-02
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     PnL: 7.881790635635635e-02
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.809800000000000e-03
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -     PnL from IL: 7.300810635635635e-02
2025-07-15 17:58:05,318 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -     PnL: 1.018952808625704e-01
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.066860000000000e-03
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -     PnL from IL: 9.782842086257038e-02
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -   position_id: pos_06-09-23-17-37_4770927
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8 (from CSV: 5.8)
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -   Total points: 26
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749502800, 'close': 0.021838252, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749592800, 'close': 0.039238907, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -   Valid prices: 26
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -   Min price: 2.183825200000000e-02
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -   Max price: 4.533385600000000e-02
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -   Price ratio: 2.075892154738392
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8 (type: <class 'float'>)
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-09 23:17:37
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-11 00:13:06
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -   price_history length: 26
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.021838252, 0.026302801, 0.034608431, 0.034462041, 0.033845646]
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.045333856, 0.043706951, 0.041512644, 0.04103782, 0.039238907]
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -   Initial price: 2.183825200000000e-02
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -   Final price: 3.923890700000000e-02
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -   Price ratio: 1.7967970604973331
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -   initial_price: 2.183825200000000e-02
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -   final_price: 3.923890700000000e-02
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -   price_ratio: 1.7967970604973331
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -   active_bin_index: 49
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 49 bins): 5.6839999999999975
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG - 
Calculating token values for 49 activated bins:
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11599999999999999
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.194717163826945e-02 = 2.183825200000000e-02 * 1.004987562112089
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.285419092350375e+00 = 0.11599999999999999 / 2.194717163826945e-02
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -     Final value: 2.073940682207608e-01 = 5.285419092350375e+00 * 3.923890700000000e-02
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.073940682207608e-01 = 0.11599999999999999 * (3.923890700000000e-02 / 2.194717163826945e-02)
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11599999999999999
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.216664335465214e-02 = 2.183825200000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.233088210247895e+00 = 0.11599999999999999 / 2.216664335465214e-02
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -     Final value: 2.053406616047136e-01 = 5.233088210247895e+00 * 3.923890700000000e-02
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.053406616047136e-01 = 0.11599999999999999 * (3.923890700000000e-02 / 2.216664335465214e-02)
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11599999999999999
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.238830978819867e-02 = 2.183825200000000e-02 * 1.025187812110542
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.181275455690985e+00 = 0.11599999999999999 / 2.238830978819867e-02
2025-07-15 17:58:05,319 - DEEP_DEBUG - DEBUG -     Final value: 2.033075857472412e-01 = 5.181275455690985e+00 * 3.923890700000000e-02
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.033075857472412e-01 = 0.11599999999999999 * (3.923890700000000e-02 / 2.238830978819867e-02)
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11599999999999999
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.261219288608065e-02 = 2.183825200000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.129975698703946e+00 = 0.11599999999999999 / 2.261219288608065e-02
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Final value: 2.012946393537042e-01 = 5.129975698703946e+00 * 3.923890700000000e-02
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.012946393537042e-01 = 0.11599999999999999 * (3.923890700000000e-02 / 2.261219288608065e-02)
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11599999999999999
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.283831481494146e-02 = 2.183825200000000e-02 * 1.045794087133964
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.079183860102916e+00 = 0.11599999999999999 / 2.283831481494146e-02
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Final value: 1.993016231224794e-01 = 5.079183860102916e+00 * 3.923890700000000e-02
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.993016231224794e-01 = 0.11599999999999999 * (3.923890700000000e-02 / 2.283831481494146e-02)
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 44 more bins processed)
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 0.11600000000000232 = 5.8 - 5.6839999999999975
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -   Total token value: 8.082968014024004e+00
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -   Remaining SOL: 0.11600000000000232
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -   Final asset value: 8.198968014024008e+00
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.398968014024008e+00
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -   initial_price: 2.183825200000000e-02
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -   final_price: 3.923890700000000e-02
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -   price_ratio: 1.7967970604973331
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -   active_bin_index: 49
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 49 bins): 5.627757575757575
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG - 
Calculating token values for 49 activated bins:
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1722424242424242
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.194717163826945e-02 = 2.183825200000000e-02 * 1.004987562112089
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Tokens bought: 7.848046531065706e+00 = 0.1722424242424242 / 2.194717163826945e-02
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Final value: 3.079487679641599e-01 = 7.848046531065706e+00 * 3.923890700000000e-02
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.079487679641599e-01 = 0.1722424242424242 * (3.923890700000000e-02 / 2.194717163826945e-02)
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16535559678416814
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.216664335465214e-02 = 2.183825200000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Tokens bought: 7.459658827842544e+00 = 0.16535559678416814 / 2.216664335465214e-02
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Final value: 2.927088589974426e-01 = 7.459658827842544e+00 * 3.923890700000000e-02
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.927088589974426e-01 = 0.16535559678416814 * (3.923890700000000e-02 / 2.216664335465214e-02)
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1587557204700061
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.238830978819867e-02 = 2.183825200000000e-02 * 1.025187812110542
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Tokens bought: 7.091009637256738e+00 = 0.1587557204700061 / 2.238830978819867e-02
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Final value: 2.782434676924209e-01 = 7.091009637256738e+00 * 3.923890700000000e-02
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.782434676924209e-01 = 0.1587557204700061 * (3.923890700000000e-02 / 2.238830978819867e-02)
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.15244279529993815
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.261219288608065e-02 = 2.183825200000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.741619270096404e+00 = 0.15244279529993815 / 2.261219288608065e-02
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Final value: 2.645337715687207e-01 = 6.741619270096404e+00 * 3.923890700000000e-02
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.645337715687207e-01 = 0.15244279529993815 * (3.923890700000000e-02 / 2.261219288608065e-02)
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.14641682127396408
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.283831481494146e-02 = 2.183825200000000e-02 * 1.045794087133964
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.411016857433549e+00 = 0.14641682127396408 / 2.283831481494146e-02
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Final value: 2.515612942442673e-01 = 6.411016857433549e+00 * 3.923890700000000e-02
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.515612942442673e-01 = 0.14641682127396408 * (3.923890700000000e-02 / 2.283831481494146e-02)
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 44 more bins processed)
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 0.17224242424242497 = 5.8 - 5.627757575757575
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -   Total token value: 8.038533984572700e+00
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -   Remaining SOL: 0.17224242424242497
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -   Final asset value: 8.210776408815125e+00
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.410776408815125e+00
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     PnL: 2.404768014024008e+00
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.800000000000000e-03
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.398968014024008e+00
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     PnL: 2.416576408815125e+00
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.800000000000000e-03
2025-07-15 17:58:05,320 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.410776408815125e+00
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG -   position_id: pos_06-10-10-00-12_37922771
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG -   investment_sol: 5.81 (from CSV: 5.81)
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG -   Total points: 18
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749542400, 'close': 0.031063663, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749552600, 'close': 0.036833169, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG -   Valid prices: 18
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG -   Min price: 3.092546500000000e-02
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG -   Max price: 3.683316900000000e-02
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1910304016447286
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG -   investment_sol: 5.81 (type: <class 'float'>)
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-10 10:00:12
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-10 12:50:05
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG -   price_history length: 18
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.031063663, 0.031063663, 0.030925465, 0.030943394, 0.031451943]
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.035066581, 0.035352348, 0.035881287, 0.036730623, 0.036833169]
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG -   Initial price: 3.106366300000000e-02
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG -   Final price: 3.683316900000000e-02
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1857316698291507
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,321 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -   initial_sol: 5.81
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -   initial_price: 3.106366300000000e-02
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -   final_price: 3.683316900000000e-02
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1857316698291507
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -   active_bin_index: 17
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 17 bins): 1.4314492753623185
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG - 
Calculating token values for 17 activated bins:
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08420289855072463
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.121859494864150e-02 = 3.106366300000000e-02 * 1.004987562112089
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.697203339524055e+00 = 0.08420289855072463 / 3.121859494864150e-02
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -     Final value: 9.934654643205389e-02 = 2.697203339524055e+00 * 3.683316900000000e-02
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.934654643205389e-02 = 0.08420289855072463 * (3.683316900000000e-02 / 3.121859494864150e-02)
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08420289855072463
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.153078089812791e-02 = 3.106366300000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.670498355964411e+00 = 0.08420289855072463 / 3.153078089812791e-02
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -     Final value: 9.836291725945930e-02 = 2.670498355964411e+00 * 3.683316900000000e-02
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.836291725945930e-02 = 0.08420289855072463 * (3.683316900000000e-02 / 3.153078089812791e-02)
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08420289855072463
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.184608870710919e-02 = 3.106366300000000e-02 * 1.025187812110542
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.644057778182585e+00 = 0.08420289855072463 / 3.184608870710919e-02
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -     Final value: 9.738902698956366e-02 = 2.644057778182585e+00 * 3.683316900000000e-02
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.738902698956366e-02 = 0.08420289855072463 * (3.683316900000000e-02 / 3.184608870710919e-02)
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08420289855072463
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.216454959418028e-02 = 3.106366300000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.617878988299589e+00 = 0.08420289855072463 / 3.216454959418028e-02
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -     Final value: 9.642477919758778e-02 = 2.617878988299589e+00 * 3.683316900000000e-02
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.642477919758778e-02 = 0.08420289855072463 * (3.683316900000000e-02 / 3.216454959418028e-02)
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08420289855072463
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,322 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.248619509012209e-02 = 3.106366300000000e-02 * 1.045794087133964
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.591959394356028e+00 = 0.08420289855072463 / 3.248619509012209e-02
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG -     Final value: 9.547007841345322e-02 = 2.591959394356028e+00 * 3.683316900000000e-02
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.547007841345322e-02 = 0.08420289855072463 * (3.683316900000000e-02 / 3.248619509012209e-02)
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 12 more bins processed)
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.378550724637681 = 5.81 - 1.4314492753623185
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG -   Total token value: 1.561516477235186e+00
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.378550724637681
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG -   Final asset value: 5.940067201872868e+00
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.81
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.300672018728681e-01
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG -   initial_sol: 5.81
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG -   initial_price: 3.106366300000000e-02
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG -   final_price: 3.683316900000000e-02
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1857316698291507
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG -   active_bin_index: 17
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 17 bins): 1.7111012377023167
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG - 
Calculating token values for 17 activated bins:
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12538241827991115
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.121859494864150e-02 = 3.106366300000000e-02 * 1.004987562112089
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.016273585860636e+00 = 0.12538241827991115 / 3.121859494864150e-02
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG -     Final value: 1.479320837382408e-01 = 4.016273585860636e+00 * 3.683316900000000e-02
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.479320837382408e-01 = 0.12538241827991115 * (3.683316900000000e-02 / 3.121859494864150e-02)
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12174893124498297
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.153078089812791e-02 = 3.106366300000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.861272311597319e+00 = 0.12174893124498297 / 3.153078089812791e-02
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG -     Final value: 1.422228956080847e-01 = 3.861272311597319e+00 * 3.683316900000000e-02
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.422228956080847e-01 = 0.12174893124498297 * (3.683316900000000e-02 / 3.153078089812791e-02)
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11822390650960479
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,323 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.184608870710919e-02 = 3.106366300000000e-02 * 1.025187812110542
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.712352483751418e+00 = 0.11822390650960479 / 3.184608870710919e-02
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -     Final value: 1.367377064215857e-01 = 3.712352483751418e+00 * 3.683316900000000e-02
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.367377064215857e-01 = 0.11822390650960479 * (3.683316900000000e-02 / 3.184608870710919e-02)
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11480734407377678
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.216454959418028e-02 = 3.106366300000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.569375151286108e+00 = 0.11480734407377678 / 3.216454959418028e-02
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -     Final value: 1.314713981717218e-01 = 3.569375151286108e+00 * 3.683316900000000e-02
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.314713981717218e-01 = 0.11480734407377678 * (3.683316900000000e-02 / 3.216454959418028e-02)
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11149924393749885
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.248619509012209e-02 = 3.106366300000000e-02 * 1.045794087133964
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.432203852380418e+00 = 0.11149924393749885 / 3.248619509012209e-02
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -     Final value: 1.264189445371790e-01 = 3.432203852380418e+00 * 3.683316900000000e-02
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.264189445371789e-01 = 0.11149924393749885 * (3.683316900000000e-02 / 3.248619509012209e-02)
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 12 more bins processed)
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.098898762297683 = 5.81 - 1.7111012377023167
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -   Total token value: 1.879084241786704e+00
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.098898762297683
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -   Final asset value: 5.977983004084386e+00
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.81
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.679830040843866e-01
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -     PnL: 1.358772018728681e-01
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.810000000000000e-03
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.300672018728681e-01
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -     PnL: 1.737930040843866e-01
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.810000000000000e-03
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.679830040843866e-01
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -   position_id: pos_06-10-13-20-52_37955031
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8097 (from CSV: 5.8097)
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.09708 (from CSV: 0.09708)
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -   Total points: 16
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749553200, 'close': 0.037533911, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749580200, 'close': 0.045333856, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -   Valid prices: 16
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -   Min price: 3.753391100000000e-02
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -   Max price: 4.839057100000000e-02
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2892493670590308
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,324 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8097 (type: <class 'float'>)
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.09708 (type: <class 'float'>)
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-10 13:20:52
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-10 20:36:39
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   price_history length: 16
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.037533911, 0.038925871, 0.038570302, 0.043026051, 0.048390571]
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.038761288, 0.039367973, 0.039520949, 0.040342433, 0.045333856]
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   Initial price: 3.753391100000000e-02
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   Final price: 4.533385600000000e-02
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   Price ratio: 1.207810611582683
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8097
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   initial_price: 3.753391100000000e-02
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   final_price: 4.533385600000000e-02
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   price_ratio: 1.207810611582683
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   active_bin_index: 18
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 18 bins): 1.5155739130434782
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG - 
Calculating token values for 18 activated bins:
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08419855072463768
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.772111371242212e-02 = 3.753391100000000e-02 * 1.004987562112089
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.232133212358198e+00 = 0.08419855072463768 / 3.772111371242212e-02
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Final value: 1.011912056218640e-01 = 2.232133212358198e+00 * 4.533385600000000e-02
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.011912056218640e-01 = 0.08419855072463768 * (4.533385600000000e-02 / 3.772111371242212e-02)
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08419855072463768
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.809832484954635e-02 = 3.753391100000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.210032883522969e+00 = 0.08419855072463768 / 3.809832484954635e-02
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Final value: 1.001893124968950e-01 = 2.210032883522969e+00 * 4.533385600000000e-02
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.001893124968950e-01 = 0.08419855072463768 * (4.533385600000000e-02 / 3.809832484954635e-02)
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08419855072463768
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.847930809804181e-02 = 3.753391100000000e-02 * 1.025187812110542
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.188151369824721e+00 = 0.08419855072463768 / 3.847930809804181e-02
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Final value: 9.919733910583667e-02 = 2.188151369824721e+00 * 4.533385600000000e-02
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.919733910583665e-02 = 0.08419855072463768 * (4.533385600000000e-02 / 3.847930809804181e-02)
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08419855072463768
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.886410117902223e-02 = 3.753391100000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.166486504776952e+00 = 0.08419855072463768 / 3.886410117902223e-02
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Final value: 9.821518723350166e-02 = 2.166486504776952e+00 * 4.533385600000000e-02
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.821518723350164e-02 = 0.08419855072463768 * (4.533385600000000e-02 / 3.886410117902223e-02)
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08419855072463768
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.925274219081245e-02 = 3.753391100000000e-02 * 1.045794087133964
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.145036143343517e+00 = 0.08419855072463768 / 3.925274219081245e-02
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Final value: 9.724275963713035e-02 = 2.145036143343517e+00 * 4.533385600000000e-02
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.724275963713033e-02 = 0.08419855072463768 * (4.533385600000000e-02 / 3.925274219081245e-02)
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 13 more bins processed)
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.294126086956522 = 5.8097 - 1.5155739130434782
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   Total token value: 1.675954173489759e+00
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.294126086956522
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   Final asset value: 5.970080260446281e+00
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8097
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.603802604462805e-01
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8097
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   initial_price: 3.753391100000000e-02
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   final_price: 4.533385600000000e-02
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   price_ratio: 1.207810611582683
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   active_bin_index: 18
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 18 bins): 1.7893728498889248
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG - 
Calculating token values for 18 activated bins:
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.125375944144716
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.772111371242212e-02 = 3.753391100000000e-02 * 1.004987562112089
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.323760403803450e+00 = 0.125375944144716 / 3.772111371242212e-02
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Final value: 1.506788755245274e-01 = 3.323760403803450e+00 * 4.533385600000000e-02
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.506788755245275e-01 = 0.125375944144716 * (4.533385600000000e-02 / 3.772111371242212e-02)
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12174264472529735
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.809832484954635e-02 = 3.753391100000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.195485502474710e+00 = 0.12174264472529735 / 3.809832484954635e-02
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Final value: 1.448636796192762e-01 = 3.195485502474710e+00 * 4.533385600000000e-02
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.448636796192762e-01 = 0.12174264472529735 * (4.533385600000000e-02 / 3.809832484954635e-02)
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11821780200496577
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.847930809804181e-02 = 3.753391100000000e-02 * 1.025187812110542
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.072243443248966e+00 = 0.11821780200496577 / 3.847930809804181e-02
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Final value: 1.392766418531928e-01 = 3.072243443248966e+00 * 4.533385600000000e-02
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.392766418531928e-01 = 0.11821780200496577 * (4.533385600000000e-02 / 3.847930809804181e-02)
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11480141598372136
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.886410117902223e-02 = 3.753391100000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.953919233971324e+00 = 0.11480141598372136 / 3.886410117902223e-02
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Final value: 1.339125491884863e-01 = 2.953919233971324e+00 * 4.533385600000000e-02
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.339125491884863e-01 = 0.11480141598372136 * (4.533385600000000e-02 / 3.886410117902223e-02)
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11149348666156407
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.925274219081245e-02 = 3.753391100000000e-02 * 1.045794087133964
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.840399942495238e+00 = 0.11149348666156407 / 3.925274219081245e-02
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Final value: 1.287662819754874e-01 = 2.840399942495238e+00 * 4.533385600000000e-02
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.287662819754874e-01 = 0.11149348666156407 * (4.533385600000000e-02 / 3.925274219081245e-02)
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 13 more bins processed)
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.0203271501110756 = 5.8097 - 1.7893728498889248
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   Total token value: 1.993493592869573e+00
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.0203271501110756
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   Final asset value: 6.013820742980649e+00
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8097
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.041207429806482e-01
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     PnL: 1.661899604462805e-01
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.809700000000000e-03
2025-07-15 17:58:05,325 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.603802604462805e-01
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -     PnL: 2.081875329806482e-01
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.066790000000000e-03
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.041207429806482e-01
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for catwifmask-SOL
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   position_id: pos_06-10-13-40-46_4912874
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   investment_sol: 11.22 (from CSV: 11.22)
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   Total points: 46
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749553200, 'close': 0.024743173, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749715200, 'close': 0.024174024, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   Valid prices: 46
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   Min price: 2.167654700000000e-02
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   Max price: 2.897525800000000e-02
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   Price ratio: 1.3367100396571465
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   investment_sol: 11.22 (type: <class 'float'>)
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-10 13:40:46
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-12 10:02:25
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   price_history length: 46
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.024743173, 0.027202687, 0.025129384, 0.025702493, 0.024835002]
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.023181647, 0.024318933, 0.024785951, 0.025670108, 0.024174024]
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   Initial price: 2.474317300000000e-02
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   Final price: 2.417402400000000e-02
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   Price ratio: 0.976997735900727
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   initial_sol: 11.22
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   initial_price: 2.474317300000000e-02
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   final_price: 2.417402400000000e-02
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   price_ratio: 0.976997735900727
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.22 = 11.22 - 0
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.22
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   Final asset value: 1.122000000000000e+01
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.22
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   initial_sol: 11.22
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   initial_price: 2.474317300000000e-02
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   final_price: 2.417402400000000e-02
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   price_ratio: 0.976997735900727
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.22 = 11.22 - 0
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.22
2025-07-15 17:58:05,326 - DEEP_DEBUG - DEBUG -   Final asset value: 1.122000000000000e+01
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.22
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -     PnL: 1.122000000000000e-02
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.122000000000000e-02
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -     PnL: 1.122000000000000e-02
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.122000000000000e-02
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   position_id: pos_06-10-21-00-27_4981034
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   investment_sol: 11.22 (from CSV: 11.22)
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   Total points: 3
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749582000, 'close': 0.047848334, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749583200, 'close': 0.04316816, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   Valid prices: 3
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   Min price: 4.316816000000000e-02
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   Max price: 4.784833400000000e-02
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1084172686535632
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   investment_sol: 11.22 (type: <class 'float'>)
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-10 21:00:27
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-10 21:21:28
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   price_history length: 3
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.047848334, 0.043548857, 0.04316816]
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.047848334, 0.043548857, 0.04316816]
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   Initial price: 4.784833400000000e-02
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   Final price: 4.316816000000000e-02
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9021873154455075
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   initial_sol: 11.22
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   initial_price: 4.784833400000000e-02
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   final_price: 4.316816000000000e-02
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9021873154455075
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.22 = 11.22 - 0
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.22
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   Final asset value: 1.122000000000000e+01
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.22
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   initial_sol: 11.22
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   initial_price: 4.784833400000000e-02
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   final_price: 4.316816000000000e-02
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9021873154455075
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.22 = 11.22 - 0
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.22
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   Final asset value: 1.122000000000000e+01
2025-07-15 17:58:05,327 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.22
2025-07-15 17:58:05,328 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,328 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,328 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,328 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,328 - DEEP_DEBUG - DEBUG -     PnL: 1.122000000000000e-02
2025-07-15 17:58:05,328 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.122000000000000e-02
2025-07-15 17:58:05,328 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,328 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,328 - DEEP_DEBUG - DEBUG -     PnL: 1.122000000000000e-02
2025-07-15 17:58:05,328 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.122000000000000e-02
2025-07-15 17:58:05,328 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for aura-SOL
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   position_id: pos_06-11-01-35-27_13835582
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1099 (from CSV: 11.1099)
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   Total points: 107
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749585600, 'close': 0.035054932, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1751112000, 'close': 0.103759593, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   Valid prices: 107
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   Min price: 3.505493200000000e-02
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   Max price: 2.161099570000000e-01
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   Price ratio: 6.164894486173871
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1099 (type: <class 'float'>)
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-11 01:35:27
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-28 16:38:48
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   price_history length: 107
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.035054932, 0.036450737, 0.040963674, 0.070203619, 0.072760394]
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.09990926, 0.097777921, 0.107481092, 0.105848607, 0.103759593]
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   Initial price: 3.505493200000000e-02
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   Final price: 1.037595930000000e-01
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   Price ratio: 2.9599142568583505
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1099
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   initial_price: 3.505493200000000e-02
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   final_price: 1.037595930000000e-01
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   price_ratio: 2.9599142568583505
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   active_bin_index: 68
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 68 bins): 10.948886956521747
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG - 
Calculating token values for 68 activated bins:
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101304347826087
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.522977065068505e-02 = 3.505493200000000e-02 * 1.004987562112089
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.570368767789010e+00 = 0.16101304347826087 / 3.522977065068505e-02
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -     Final value: 4.742196032056992e-01 = 4.570368767789010e+00 * 1.037595930000000e-01
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -     Alt calculation: 4.742196032056992e-01 = 0.16101304347826087 * (1.037595930000000e-01 / 3.522977065068505e-02)
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101304347826087
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.558206835719190e-02 = 3.505493200000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.525117591870307e+00 = 0.16101304347826087 / 3.558206835719190e-02
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -     Final value: 4.695243596096032e-01 = 4.525117591870307e+00 * 1.037595930000000e-01
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -     Alt calculation: 4.695243596096031e-01 = 0.16101304347826087 * (1.037595930000000e-01 / 3.558206835719190e-02)
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101304347826087
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.593788904076382e-02 = 3.505493200000000e-02 * 1.025187812110542
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.480314447396343e+00 = 0.16101304347826087 / 3.593788904076382e-02
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -     Final value: 4.648756035738644e-01 = 4.480314447396343e+00 * 1.037595930000000e-01
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -     Alt calculation: 4.648756035738645e-01 = 0.16101304347826087 * (1.037595930000000e-01 / 3.593788904076382e-02)
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101304347826087
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.629726793117146e-02 = 3.505493200000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.435954898412221e+00 = 0.16101304347826087 / 3.629726793117146e-02
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -     Final value: 4.602728748256084e-01 = 4.435954898412221e+00 * 1.037595930000000e-01
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -     Alt calculation: 4.602728748256084e-01 = 0.16101304347826087 * (1.037595930000000e-01 / 3.629726793117146e-02)
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101304347826087
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.666024061048317e-02 = 3.505493200000000e-02 * 1.045794087133964
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.392034552883388e+00 = 0.16101304347826087 / 3.666024061048317e-02
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -     Final value: 4.557157176491173e-01 = 4.392034552883388e+00 * 1.037595930000000e-01
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -     Alt calculation: 4.557157176491173e-01 = 0.16101304347826087 * (1.037595930000000e-01 / 3.666024061048317e-02)
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 63 more bins processed)
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 0.16101304347825263 = 11.1099 - 10.948886956521747
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   Total token value: 2.354906759866313e+01
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   Remaining SOL: 0.16101304347825263
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   Final asset value: 2.371008064214138e+01
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1099
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.260018064214138e+01
2025-07-15 17:58:05,329 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1099
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -   initial_price: 3.505493200000000e-02
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -   final_price: 1.037595930000000e-01
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -   price_ratio: 2.9599142568583505
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -   active_bin_index: 68
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 68 bins): 10.870143351317044
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG - 
Calculating token values for 68 activated bins:
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23975664868295782
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.522977065068505e-02 = 3.505493200000000e-02 * 1.004987562112089
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.805512617729622e+00 = 0.23975664868295782 / 3.522977065068505e-02
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     Final value: 7.061372193719901e-01 = 6.805512617729622e+00 * 1.037595930000000e-01
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     Alt calculation: 7.061372193719901e-01 = 0.23975664868295782 * (1.037595930000000e-01 / 3.522977065068505e-02)
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23280868351783757
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.558206835719190e-02 = 3.505493200000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.542865388846399e+00 = 0.23280868351783757 / 3.558206835719190e-02
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     Final value: 6.788850498004891e-01 = 6.542865388846399e+00 * 1.037595930000000e-01
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     Alt calculation: 6.788850498004891e-01 = 0.23280868351783757 * (1.037595930000000e-01 / 3.558206835719190e-02)
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.22606812029794465
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.593788904076382e-02 = 3.505493200000000e-02 * 1.025187812110542
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.290523075562922e+00 = 0.22606812029794465 / 3.593788904076382e-02
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     Final value: 6.527021140775170e-01 = 6.290523075562922e+00 * 1.037595930000000e-01
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     Alt calculation: 6.527021140775170e-01 = 0.22606812029794465 * (1.037595930000000e-01 / 3.593788904076382e-02)
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2195349590232793
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.629726793117146e-02 = 3.505493200000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.048250227525982e+00 = 0.2195349590232793 / 3.629726793117146e-02
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     Final value: 6.275639819702532e-01 = 6.048250227525982e+00 * 1.037595930000000e-01
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     Alt calculation: 6.275639819702532e-01 = 0.2195349590232793 * (1.037595930000000e-01 / 3.629726793117146e-02)
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2132091996938414
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.666024061048317e-02 = 3.505493200000000e-02 * 1.045794087133964
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.815815612319609e+00 = 0.2132091996938414 / 3.666024061048317e-02
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     Final value: 6.034466608973283e-01 = 5.815815612319609e+00 * 1.037595930000000e-01
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     Alt calculation: 6.034466608973283e-01 = 0.2132091996938414 * (1.037595930000000e-01 / 3.666024061048317e-02)
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 63 more bins processed)
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 0.2397566486829561 = 11.1099 - 10.870143351317044
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -   Total token value: 2.352553610699795e+01
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -   Remaining SOL: 0.2397566486829561
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -   Final asset value: 2.376529275568090e+01
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1099
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.265539275568090e+01
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     PnL: 1.261129054214138e+01
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110990000000000e-02
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.260018064214138e+01
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     PnL: 1.266650265568090e+01
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110990000000000e-02
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.265539275568090e+01
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for aura-SOL
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -   position_id: pos_06-11-01-53-58_5036395
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -   investment_sol: 11.22 (from CSV: 11.22)
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -   Total points: 11
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749598200, 'close': 0.038564982, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749616200, 'close': 0.032906619, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -   Valid prices: 11
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -   Min price: 3.290661900000000e-02
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -   Max price: 4.355762900000000e-02
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -   Price ratio: 1.3236737873313573
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -   investment_sol: 11.22 (type: <class 'float'>)
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,330 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-11 01:53:58
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-11 06:52:40
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   price_history length: 11
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.038564982, 0.038564982, 0.043557629, 0.036704966, 0.035944715]
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.037984319, 0.036226681, 0.036450737, 0.03828086, 0.032906619]
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   Initial price: 3.856498200000000e-02
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   Final price: 3.290661900000000e-02
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   Price ratio: 0.8532771777256372
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   initial_sol: 11.22
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   initial_price: 3.856498200000000e-02
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   final_price: 3.290661900000000e-02
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8532771777256372
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.22 = 11.22 - 0
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.22
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   Final asset value: 1.122000000000000e+01
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.22
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   initial_sol: 11.22
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   initial_price: 3.856498200000000e-02
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   final_price: 3.290661900000000e-02
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8532771777256372
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.22 = 11.22 - 0
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.22
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   Final asset value: 1.122000000000000e+01
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.22
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -     PnL: 1.122000000000000e-02
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.122000000000000e-02
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -     PnL: 1.122000000000000e-02
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.122000000000000e-02
2025-07-15 17:58:05,331 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for aura-SOL
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -   position_id: pos_06-11-06-57-38_5058501
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -   investment_sol: 11.22 (from CSV: 11.22)
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -   Total points: 75
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749614400, 'close': 0.040963674, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750680000, 'close': 0.109373031, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -   Valid prices: 75
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -   Min price: 4.096367400000000e-02
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -   Max price: 2.161099570000000e-01
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -   Price ratio: 5.275648785799828
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -   investment_sol: 11.22 (type: <class 'float'>)
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-11 06:57:38
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-23 15:28:45
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -   price_history length: 75
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.040963674, 0.070203619, 0.072760394, 0.077649765, 0.075501783]
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.108135799, 0.10021131, 0.105959898, 0.101255384, 0.109373031]
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -   Initial price: 4.096367400000000e-02
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -   Final price: 1.093730310000000e-01
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -   Price ratio: 2.670000522902316
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -   initial_sol: 11.22
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -   initial_price: 4.096367400000000e-02
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -   final_price: 1.093730310000000e-01
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -   price_ratio: 2.670000522902316
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -   active_bin_index: 49
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 49 bins): 10.995599999999994
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG - 
Calculating token values for 49 activated bins:
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.22440000000000002
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.116798286841436e-02 = 4.096367400000000e-02 * 1.004987562112089
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.450837868769330e+00 = 0.22440000000000002 / 4.116798286841436e-02
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -     Final value: 5.961746591968818e-01 = 5.450837868769330e+00 * 1.093730310000000e-01
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -     Alt calculation: 5.961746591968818e-01 = 0.22440000000000002 * (1.093730310000000e-01 / 4.116798286841436e-02)
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.22440000000000002
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.157966269709851e-02 = 4.096367400000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.396869176999336e+00 = 0.22440000000000002 / 4.157966269709851e-02
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -     Final value: 5.902719397988928e-01 = 5.396869176999336e+00 * 1.093730310000000e-01
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -     Alt calculation: 5.902719397988928e-01 = 0.22440000000000002 * (1.093730310000000e-01 / 4.157966269709851e-02)
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.22440000000000002
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.199545932406949e-02 = 4.096367400000000e-02 * 1.025187812110542
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.343434828712214e+00 = 0.22440000000000002 / 4.199545932406949e-02
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -     Final value: 5.844276631672206e-01 = 5.343434828712214e+00 * 1.093730310000000e-01
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -     Alt calculation: 5.844276631672206e-01 = 0.22440000000000002 * (1.093730310000000e-01 / 4.199545932406949e-02)
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.22440000000000002
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.241541391731019e-02 = 4.096367400000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.290529533378430e+00 = 0.22440000000000002 / 4.241541391731019e-02
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -     Final value: 5.786412506606144e-01 = 5.290529533378430e+00 * 1.093730310000000e-01
2025-07-15 17:58:05,332 - DEEP_DEBUG - DEBUG -     Alt calculation: 5.786412506606146e-01 = 0.22440000000000002 * (1.093730310000000e-01 / 4.241541391731019e-02)
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.22440000000000002
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.283956805648329e-02 = 4.096367400000000e-02 * 1.045794087133964
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.238148052849930e+00 = 0.22440000000000002 / 4.283956805648329e-02
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     Final value: 5.729121293669450e-01 = 5.238148052849930e+00 * 1.093730310000000e-01
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     Alt calculation: 5.729121293669450e-01 = 0.22440000000000002 * (1.093730310000000e-01 / 4.283956805648329e-02)
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 44 more bins processed)
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 0.22440000000000637 = 11.22 - 10.995599999999994
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -   Total token value: 2.323528701857865e+01
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -   Remaining SOL: 0.22440000000000637
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -   Final asset value: 2.345968701857866e+01
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.22
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.223968701857866e+01
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -   initial_sol: 11.22
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -   initial_price: 4.096367400000000e-02
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -   final_price: 1.093730310000000e-01
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -   price_ratio: 2.670000522902316
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -   active_bin_index: 49
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 49 bins): 10.886799999999997
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG - 
Calculating token values for 49 activated bins:
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.33319999999999994
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.116798286841436e-02 = 4.096367400000000e-02 * 1.004987562112089
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     Tokens bought: 8.093668350596882e+00 = 0.33319999999999994 / 4.116798286841436e-02
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     Final value: 8.852290394135517e-01 = 8.093668350596882e+00 * 1.093730310000000e-01
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.852290394135516e-01 = 0.33319999999999994 * (1.093730310000000e-01 / 4.116798286841436e-02)
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.3198775510204081
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.157966269709851e-02 = 4.096367400000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     Tokens bought: 7.693125202834549e+00 = 0.3198775510204081 / 4.157966269709851e-02
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     Final value: 8.414204212965044e-01 = 7.693125202834549e+00 * 1.093730310000000e-01
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.414204212965044e-01 = 0.3198775510204081 * (1.093730310000000e-01 / 4.157966269709851e-02)
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.30711020408163253
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.199545932406949e-02 = 4.096367400000000e-02 * 1.025187812110542
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     Tokens bought: 7.312938327730442e+00 = 0.30711020408163253 / 4.199545932406949e-02
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     Final value: 7.998382304199497e-01 = 7.312938327730442e+00 * 1.093730310000000e-01
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     Alt calculation: 7.998382304199497e-01 = 0.30711020408163253 * (1.093730310000000e-01 / 4.199545932406949e-02)
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.29489795918367345
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.241541391731019e-02 = 4.096367400000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.952613023147286e+00 = 0.29489795918367345 / 4.241541391731019e-02
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     Final value: 7.604283597116919e-01 = 6.952613023147286e+00 * 1.093730310000000e-01
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     Alt calculation: 7.604283597116919e-01 = 0.29489795918367345 * (1.093730310000000e-01 / 4.241541391731019e-02)
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.28324081632653053
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.283956805648329e-02 = 4.096367400000000e-02 * 1.045794087133964
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.611663683281821e+00 = 0.28324081632653053 / 4.283956805648329e-02
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     Final value: 7.231376969931567e-01 = 6.611663683281821e+00 * 1.093730310000000e-01
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     Alt calculation: 7.231376969931567e-01 = 0.28324081632653053 * (1.093730310000000e-01 / 4.283956805648329e-02)
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 44 more bins processed)
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 0.33320000000000327 = 11.22 - 10.886799999999997
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -   Total token value: 2.310755702807247e+01
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -   Remaining SOL: 0.33320000000000327
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -   Final asset value: 2.344075702807248e+01
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.22
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.222075702807247e+01
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     PnL: 1.225090701857866e+01
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.122000000000000e-02
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.223968701857866e+01
2025-07-15 17:58:05,333 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,334 - DEEP_DEBUG - DEBUG -     PnL: 1.223197702807247e+01
2025-07-15 17:58:05,334 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.122000000000000e-02
2025-07-15 17:58:05,334 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.222075702807247e+01
2025-07-15 17:58:05,334 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG -   position_id: pos_06-11-14-42-46_5129239
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1097 (from CSV: 11.1097)
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.20393 (from CSV: 0.20393)
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG -   Total points: 20
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749643200, 'close': 0.04352699, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749711600, 'close': 0.04030268, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG -   Valid prices: 20
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG -   Min price: 3.912527500000000e-02
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG -   Max price: 5.475886000000000e-02
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG -   Price ratio: 1.399577638751421
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1097 (type: <class 'float'>)
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.20393 (type: <class 'float'>)
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-11 14:42:46
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-12 09:26:13
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG -   price_history length: 20
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.04352699, 0.046165138, 0.05475886, 0.052770855, 0.053164528]
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.039731854, 0.039125275, 0.041573677, 0.043412897, 0.04030268]
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG -   Initial price: 4.352699000000000e-02
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG -   Final price: 4.030268000000000e-02
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9259238922792502
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1097
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG -   initial_price: 4.352699000000000e-02
2025-07-15 17:58:05,335 - DEEP_DEBUG - DEBUG -   final_price: 4.030268000000000e-02
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9259238922792502
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.1097 = 11.1097 - 0
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.1097
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG -   Final asset value: 1.110970000000000e+01
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1097
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1097
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG -   initial_price: 4.352699000000000e-02
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG -   final_price: 4.030268000000000e-02
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9259238922792502
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.1097 = 11.1097 - 0
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.1097
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG -   Final asset value: 1.110970000000000e+01
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1097
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,336 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,337 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,337 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,337 - DEEP_DEBUG - DEBUG -     PnL: 1.110970000000000e-02
2025-07-15 17:58:05,337 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110970000000000e-02
2025-07-15 17:58:05,337 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,337 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,337 - DEEP_DEBUG - DEBUG -     PnL: 1.110970000000000e-02
2025-07-15 17:58:05,337 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110970000000000e-02
2025-07-15 17:58:05,337 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,337 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,337 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Hosico cat-SOL
2025-07-15 17:58:05,337 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,337 - DEEP_DEBUG - DEBUG -   position_id: pos_06-11-15-05-27_13948132
2025-07-15 17:58:05,337 - DEEP_DEBUG - DEBUG -   investment_sol: 11.22 (from CSV: 11.22)
2025-07-15 17:58:05,337 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,337 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,337 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,337 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,337 - DEEP_DEBUG - DEBUG -   Total points: 25
2025-07-15 17:58:05,337 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749643200, 'close': 0.022418344, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749988800, 'close': 0.025299815, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -   Valid prices: 25
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -   Min price: 1.267981800000000e-02
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -   Max price: 2.656475100000000e-02
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -   Price ratio: 2.095041979309167
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -   investment_sol: 11.22 (type: <class 'float'>)
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-11 15:05:27
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-15 17:31:50
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -   price_history length: 25
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.022418344, 0.018593068, 0.016655121, 0.015590419, 0.015943793]
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.021004445, 0.022535704, 0.023708596, 0.026564751, 0.025299815]
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -   Initial price: 2.241834400000000e-02
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -   Final price: 2.529981500000000e-02
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1285318398183202
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -   initial_sol: 11.22
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -   initial_price: 2.241834400000000e-02
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -   final_price: 2.529981500000000e-02
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1285318398183202
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -   active_bin_index: 12
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 12 bins): 2.6928000000000005
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG - 
Calculating token values for 12 activated bins:
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.22440000000000002
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.253015688315018e-02 = 2.241834400000000e-02 * 1.004987562112089
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -     Tokens bought: 9.959983907960444e+00 = 0.22440000000000002 / 2.253015688315018e-02
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -     Final value: 2.519857502743763e-01 = 9.959983907960444e+00 * 2.529981500000000e-02
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.519857502743763e-01 = 0.22440000000000002 * (2.529981500000000e-02 / 2.253015688315018e-02)
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.22440000000000002
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.275545845198168e-02 = 2.241834400000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -     Tokens bought: 9.861370205901430e+00 = 0.22440000000000002 / 2.275545845198168e-02
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -     Final value: 2.494908418558181e-01 = 9.861370205901430e+00 * 2.529981500000000e-02
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.494908418558181e-01 = 0.22440000000000002 * (2.529981500000000e-02 / 2.275545845198168e-02)
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.22440000000000002
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.298301303650150e-02 = 2.241834400000000e-02 * 1.025187812110542
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -     Tokens bought: 9.763732877130129e+00 = 0.22440000000000002 / 2.298301303650150e-02
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -     Final value: 2.470206355008100e-01 = 9.763732877130129e+00 * 2.529981500000000e-02
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.470206355008100e-01 = 0.22440000000000002 * (2.529981500000000e-02 / 2.298301303650150e-02)
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.22440000000000002
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.321284316686651e-02 = 2.241834400000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -     Tokens bought: 9.667062254584286e+00 = 0.22440000000000002 / 2.321284316686651e-02
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -     Final value: 2.445748866344653e-01 = 9.667062254584286e+00 * 2.529981500000000e-02
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.445748866344654e-01 = 0.22440000000000002 * (2.529981500000000e-02 / 2.321284316686651e-02)
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.22440000000000002
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.344497159853518e-02 = 2.241834400000000e-02 * 1.045794087133964
2025-07-15 17:58:05,338 - DEEP_DEBUG - DEBUG -     Tokens bought: 9.571348766915134e+00 = 0.22440000000000002 / 2.344497159853518e-02
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     Final value: 2.421533531034310e-01 = 9.571348766915134e+00 * 2.529981500000000e-02
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.421533531034310e-01 = 0.22440000000000002 * (2.529981500000000e-02 / 2.344497159853518e-02)
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 7 more bins processed)
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.5272 = 11.22 - 2.6928000000000005
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -   Total token value: 2.864480332967778e+00
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.5272
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -   Final asset value: 1.139168033296778e+01
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.22
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.716803329677781e-01
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -   initial_sol: 11.22
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -   initial_price: 2.241834400000000e-02
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -   final_price: 2.529981500000000e-02
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1285318398183202
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -   active_bin_index: 12
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 12 bins): 3.24124081632653
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG - 
Calculating token values for 12 activated bins:
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.33319999999999994
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.253015688315018e-02 = 2.241834400000000e-02 * 1.004987562112089
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.478906701485035e+01 = 0.33319999999999994 / 2.253015688315018e-02
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     Final value: 3.741606594983162e-01 = 1.478906701485035e+01 * 2.529981500000000e-02
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.741606594983162e-01 = 0.33319999999999994 * (2.529981500000000e-02 / 2.253015688315018e-02)
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.3198775510204081
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.275545845198168e-02 = 2.241834400000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.405717892677971e+01 = 0.3198775510204081 / 2.275545845198168e-02
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     Final value: 3.556440262694252e-01 = 1.405717892677971e+01 * 2.529981500000000e-02
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.556440262694252e-01 = 0.3198775510204081 * (2.529981500000000e-02 / 2.275545845198168e-02)
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.30711020408163253
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.298301303650150e-02 = 2.241834400000000e-02 * 1.025187812110542
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.336248661539206e+01 = 0.30711020408163253 / 2.298301303650150e-02
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     Final value: 3.380684393093953e-01 = 1.336248661539206e+01 * 2.529981500000000e-02
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.380684393093953e-01 = 0.30711020408163253 * (2.529981500000000e-02 / 2.298301303650150e-02)
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.29489795918367345
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.321284316686651e-02 = 2.241834400000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.270408614161509e+01 = 0.29489795918367345 / 2.321284316686651e-02
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     Final value: 3.214110291269257e-01 = 1.270408614161509e+01 * 2.529981500000000e-02
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.214110291269257e-01 = 0.29489795918367345 * (2.529981500000000e-02 / 2.321284316686651e-02)
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.28324081632653053
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.344497159853518e-02 = 2.241834400000000e-02 * 1.045794087133964
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.208109018755336e+01 = 0.28324081632653053 / 2.344497159853518e-02
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     Final value: 3.056493467434153e-01 = 1.208109018755336e+01 * 2.529981500000000e-02
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.056493467434153e-01 = 0.28324081632653053 * (2.529981500000000e-02 / 2.344497159853518e-02)
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 7 more bins processed)
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 7.978759183673471 = 11.22 - 3.24124081632653
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -   Total token value: 3.463866853331286e+00
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -   Remaining SOL: 7.978759183673471
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -   Final asset value: 1.144262603700476e+01
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.22
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.226260370047566e-01
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     PnL: 1.829003329677781e-01
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.122000000000000e-02
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.716803329677781e-01
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     PnL: 2.338460370047566e-01
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.122000000000000e-02
2025-07-15 17:58:05,339 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.226260370047566e-01
2025-07-15 17:58:05,340 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,340 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,340 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,340 - DEEP_DEBUG - DEBUG -   position_id: pos_06-12-12-34-47_14173250
2025-07-15 17:58:05,340 - DEEP_DEBUG - DEBUG -   investment_sol: 11.22 (from CSV: 11.22)
2025-07-15 17:58:05,340 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,340 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,340 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,340 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,340 - DEEP_DEBUG - DEBUG -   Total points: 12
2025-07-15 17:58:05,340 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749724200, 'close': 0.042633463, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,340 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749730800, 'close': 0.041876549, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,340 - DEEP_DEBUG - DEBUG -   Valid prices: 12
2025-07-15 17:58:05,340 - DEEP_DEBUG - DEBUG -   Min price: 4.187654900000000e-02
2025-07-15 17:58:05,340 - DEEP_DEBUG - DEBUG -   Max price: 4.543202400000000e-02
2025-07-15 17:58:05,340 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0849037249941489
2025-07-15 17:58:05,340 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,340 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,340 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,340 - DEEP_DEBUG - DEBUG -   investment_sol: 11.22 (type: <class 'float'>)
2025-07-15 17:58:05,340 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,340 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-12 12:34:47
2025-07-15 17:58:05,340 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-12 14:23:36
2025-07-15 17:58:05,340 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,340 - DEEP_DEBUG - DEBUG -   price_history length: 12
2025-07-15 17:58:05,340 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,340 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.042633463, 0.042633463, 0.042665084, 0.042205109, 0.04292904]
2025-07-15 17:58:05,340 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.045432024, 0.044136969, 0.043855225, 0.043855225, 0.041876549]
2025-07-15 17:58:05,340 - DEEP_DEBUG - DEBUG -   Initial price: 4.263346300000000e-02
2025-07-15 17:58:05,340 - DEEP_DEBUG - DEBUG -   Final price: 4.187654900000000e-02
2025-07-15 17:58:05,340 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9822460117771806
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG -   initial_sol: 11.22
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG -   initial_price: 4.263346300000000e-02
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG -   final_price: 4.187654900000000e-02
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9822460117771806
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.22 = 11.22 - 0
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.22
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG -   Final asset value: 1.122000000000000e+01
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.22
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG -   initial_sol: 11.22
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG -   initial_price: 4.263346300000000e-02
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG -   final_price: 4.187654900000000e-02
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9822460117771806
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.22 = 11.22 - 0
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.22
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG -   Final asset value: 1.122000000000000e+01
2025-07-15 17:58:05,341 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.22
2025-07-15 17:58:05,342 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,342 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,342 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,342 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,342 - DEEP_DEBUG - DEBUG -     PnL: 1.122000000000000e-02
2025-07-15 17:58:05,342 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.122000000000000e-02
2025-07-15 17:58:05,342 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,342 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,342 - DEEP_DEBUG - DEBUG -     PnL: 1.122000000000000e-02
2025-07-15 17:58:05,342 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.122000000000000e-02
2025-07-15 17:58:05,342 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,342 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for catwifmask-SOL
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG -   position_id: pos_06-12-19-11-17_5310020
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1101 (from CSV: 11.1101)
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.69777 (from CSV: 0.69777)
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG -   Total points: 22
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749747600, 'close': 0.019228099, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749823200, 'close': 0.015149153, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG -   Valid prices: 22
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG -   Min price: 1.514915300000000e-02
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG -   Max price: 1.922809900000000e-02
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2692524129896898
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1101 (type: <class 'float'>)
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.69777 (type: <class 'float'>)
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-12 19:11:17
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-13 16:27:23
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG -   price_history length: 22
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.019228099, 0.018594373, 0.017569859, 0.017690739, 0.017497743]
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.015553848, 0.017411504, 0.016931945, 0.015336538, 0.015149153]
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG -   Initial price: 1.922809900000000e-02
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG -   Final price: 1.514915300000000e-02
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG -   Price ratio: 0.7878653526799504
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1101
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG -   initial_price: 1.922809900000000e-02
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG -   final_price: 1.514915300000000e-02
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG -   price_ratio: 0.7878653526799504
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,343 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.1101 = 11.1101 - 0
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.1101
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111010000000000e+01
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1101
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1101
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG -   initial_price: 1.922809900000000e-02
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG -   final_price: 1.514915300000000e-02
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG -   price_ratio: 0.7878653526799504
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.1101 = 11.1101 - 0
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.1101
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111010000000000e+01
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1101
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG -     PnL: 1.111010000000000e-02
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.111010000000000e-02
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG -     PnL: 1.111010000000000e-02
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.111010000000000e-02
2025-07-15 17:58:05,344 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,345 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,345 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for SIGMA-SOL
2025-07-15 17:58:05,345 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,345 - DEEP_DEBUG - DEBUG -   position_id: pos_06-12-19-40-12_14207445
2025-07-15 17:58:05,345 - DEEP_DEBUG - DEBUG -   investment_sol: 11.22 (from CSV: 11.22)
2025-07-15 17:58:05,345 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03134 (from CSV: 0.03134)
2025-07-15 17:58:05,345 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,345 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,345 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,345 - DEEP_DEBUG - DEBUG -   Total points: 22
2025-07-15 17:58:05,345 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749750000, 'close': 0.038939109, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749762600, 'close': 0.029110239, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   Valid prices: 22
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   Min price: 2.682002300000000e-02
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   Max price: 3.893910900000000e-02
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   Price ratio: 1.4518670994428304
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   investment_sol: 11.22 (type: <class 'float'>)
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03134 (type: <class 'float'>)
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-12 19:40:12
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-12 23:12:31
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   price_history length: 22
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.038939109, 0.038939109, 0.038939109, 0.038939109, 0.038939109]
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.028116887, 0.028116887, 0.027737289, 0.026820023, 0.029110239]
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   Initial price: 3.893910900000000e-02
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   Final price: 2.911023900000000e-02
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   Price ratio: 0.7475835926291996
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   initial_sol: 11.22
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   initial_price: 3.893910900000000e-02
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   final_price: 2.911023900000000e-02
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   price_ratio: 0.7475835926291996
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.22 = 11.22 - 0
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.22
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   Final asset value: 1.122000000000000e+01
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.22
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   initial_sol: 11.22
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   initial_price: 3.893910900000000e-02
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   final_price: 2.911023900000000e-02
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   price_ratio: 0.7475835926291996
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.22 = 11.22 - 0
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.22
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   Final asset value: 1.122000000000000e+01
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.22
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -     PnL: 1.122000000000000e-02
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.122000000000000e-02
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -     PnL: 6.767272971702040e-03
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -     PnL from fees: 6.767272971702040e-03
2025-07-15 17:58:05,346 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,348 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,348 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Shark Cat-SOL
2025-07-15 17:58:05,348 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,348 - DEEP_DEBUG - DEBUG -   position_id: pos_06-13-10-48-57_28383899
2025-07-15 17:58:05,348 - DEEP_DEBUG - DEBUG -   investment_sol: 8.8789 (from CSV: 8.8789)
2025-07-15 17:58:05,348 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.01158 (from CSV: -0.01158)
2025-07-15 17:58:05,348 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,348 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   Total points: 16
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749801600, 'close': 0.015707616, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749855600, 'close': 0.014087331, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   Valid prices: 16
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   Min price: 9.483752999999999e-03
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   Max price: 1.868286700000000e-02
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   Price ratio: 1.969986670888624
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   investment_sol: 8.8789 (type: <class 'float'>)
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.01158 (type: <class 'float'>)
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-13 10:48:57
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-14 01:16:39
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   price_history length: 16
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.015707616, 0.015707616, 0.018682867, 0.015726462, 0.014653528]
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.009483753, 0.010055713, 0.012476013, 0.011592004, 0.014087331]
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   Initial price: 1.570761600000000e-02
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   Final price: 1.408733100000000e-02
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   Price ratio: 0.8968471727345512
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   initial_sol: 8.8789
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   initial_price: 1.570761600000000e-02
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   final_price: 1.408733100000000e-02
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8968471727345512
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.8789 = 8.8789 - 0
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.8789
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   Final asset value: 8.878900000000000e+00
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.8789
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   initial_sol: 8.8789
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   initial_price: 1.570761600000000e-02
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   final_price: 1.408733100000000e-02
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8968471727345512
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.8789 = 8.8789 - 0
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.8789
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   Final asset value: 8.878900000000000e+00
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.8789
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -     PnL: 8.878900000000000e-03
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.878900000000000e-03
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -     PnL: 8.878900000000000e-03
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.878900000000000e-03
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   position_id: pos_06-13-12-54-51_14342285
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (from CSV: 9.44)
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   Total points: 3
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749811800, 'close': 0.040096623, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749813000, 'close': 0.039571106, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   Valid prices: 3
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   Min price: 3.957110600000000e-02
2025-07-15 17:58:05,349 - DEEP_DEBUG - DEBUG -   Max price: 4.018262000000000e-02
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0154535483541955
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (type: <class 'float'>)
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-13 12:54:51
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-13 13:19:13
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   price_history length: 3
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.040096623, 0.04018262, 0.039571106]
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.040096623, 0.04018262, 0.039571106]
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   Initial price: 4.009662300000000e-02
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   Final price: 3.957110600000000e-02
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   Price ratio: 0.986893734168087
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   initial_price: 4.009662300000000e-02
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   final_price: 3.957110600000000e-02
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   price_ratio: 0.986893734168087
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.44 = 9.44 - 0
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.44
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   Final asset value: 9.440000000000000e+00
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   initial_price: 4.009662300000000e-02
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   final_price: 3.957110600000000e-02
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   price_ratio: 0.986893734168087
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.44 = 9.44 - 0
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.44
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   Final asset value: 9.440000000000000e+00
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -     PnL: 9.440000000000000e-03
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -     PnL: 9.440000000000000e-03
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   position_id: pos_06-13-13-19-13_14342969
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (from CSV: 9.44)
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   Total points: 5
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749813000, 'close': 0.039571106, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749815400, 'close': 0.043527311, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   Valid prices: 5
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   Min price: 3.838274900000000e-02
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   Max price: 4.352731100000000e-02
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1340331824591303
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (type: <class 'float'>)
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-13 13:19:13
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-13 13:56:32
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG -   price_history length: 5
2025-07-15 17:58:05,350 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.039571106, 0.038382749, 0.039666719, 0.04101853, 0.043527311]
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.039571106, 0.038382749, 0.039666719, 0.04101853, 0.043527311]
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -   Initial price: 3.957110600000000e-02
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -   Final price: 4.352731100000000e-02
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -   Price ratio: 1.099977114614891
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -   initial_price: 3.957110600000000e-02
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -   final_price: 4.352731100000000e-02
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -   price_ratio: 1.099977114614891
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -   active_bin_index: 9
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 9 bins): 1.6992000000000003
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG - 
Calculating token values for 9 activated bins:
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.976846934901906e-02 = 3.957110600000000e-02 * 1.004987562112089
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.747479676500474e+00 = 0.1888 / 3.976846934901906e-02
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     Final value: 2.066450243452155e-01 = 4.747479676500474e+00 * 4.352731100000000e-02
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.066450243452155e-01 = 0.1888 * (4.352731100000000e-02 / 3.976846934901906e-02)
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.016615404250925e-02 = 3.957110600000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.700474927228192e+00 = 0.1888 / 4.016615404250925e-02
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     Final value: 2.045990340051639e-01 = 4.700474927228192e+00 * 4.352731100000000e-02
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.045990340051639e-01 = 0.1888 * (4.352731100000000e-02 / 4.016615404250925e-02)
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.056781558293434e-02 = 3.957110600000000e-02 * 1.025187812110542
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.653935571513061e+00 = 0.1888 / 4.056781558293434e-02
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     Final value: 2.025733009952118e-01 = 4.653935571513061e+00 * 4.352731100000000e-02
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.025733009952117e-01 = 0.1888 * (4.352731100000000e-02 / 4.056781558293434e-02)
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.097349373876368e-02 = 3.957110600000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.607857001498081e+00 = 0.1888 / 4.097349373876368e-02
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     Final value: 2.005676247477344e-01 = 4.607857001498081e+00 * 4.352731100000000e-02
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.005676247477344e-01 = 0.1888 * (4.352731100000000e-02 / 4.097349373876368e-02)
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.138322867615132e-02 = 3.957110600000000e-02 * 1.045794087133964
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.562234654948594e+00 = 0.1888 / 4.138322867615132e-02
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     Final value: 1.985818066809251e-01 = 4.562234654948594e+00 * 4.352731100000000e-02
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.985818066809251e-01 = 0.1888 * (4.352731100000000e-02 / 4.138322867615132e-02)
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 4 more bins processed)
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 7.740799999999999 = 9.44 - 1.6992000000000003
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -   Total token value: 1.787826159641218e+00
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -   Remaining SOL: 7.740799999999999
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -   Final asset value: 9.528626159641217e+00
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -   PnL from assets: 8.862615964121723e-02
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -   initial_price: 3.957110600000000e-02
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -   final_price: 4.352731100000000e-02
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -   price_ratio: 1.099977114614891
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -   active_bin_index: 9
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 9 bins): 2.158765120593691
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG - 
Calculating token values for 9 activated bins:
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.28033939393939383
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.976846934901906e-02 = 3.957110600000000e-02 * 1.004987562112089
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     Tokens bought: 7.049288004500701e+00 = 0.28033939393939383 / 3.976846934901906e-02
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     Final value: 3.068365513004714e-01 = 7.049288004500701e+00 * 4.352731100000000e-02
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.068365513004714e-01 = 0.28033939393939383 * (4.352731100000000e-02 / 3.976846934901906e-02)
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2691304885590599
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,351 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.016615404250925e-02 = 3.957110600000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.700429627248595e+00 = 0.2691304885590599 / 4.016615404250925e-02
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -     Final value: 2.916516842188637e-01 = 6.700429627248595e+00 * 4.352731100000000e-02
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.916516842188637e-01 = 0.2691304885590599 * (4.352731100000000e-02 / 4.016615404250925e-02)
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2583886209029065
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.056781558293434e-02 = 3.957110600000000e-02 * 1.025187812110542
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.369300816177118e+00 = 0.2583886209029065 / 4.056781558293434e-02
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -     Final value: 2.772385374782952e-01 = 6.369300816177118e+00 * 4.352731100000000e-02
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.772385374782952e-01 = 0.2583886209029065 * (4.352731100000000e-02 / 4.056781558293434e-02)
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.24811379097093378
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.097349373876368e-02 = 3.957110600000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.055470703885850e+00 = 0.24811379097093378 / 4.097349373876368e-02
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -     Final value: 2.635783565794283e-01 = 6.055470703885850e+00 * 4.352731100000000e-02
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.635783565794283e-01 = 0.24811379097093378 * (4.352731100000000e-02 / 4.097349373876368e-02)
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23830599876314157
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.138322867615132e-02 = 3.957110600000000e-02 * 1.045794087133964
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.758516345547358e+00 = 0.23830599876314157 / 4.138322867615132e-02
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -     Final value: 2.506527318712233e-01 = 5.758516345547358e+00 * 4.352731100000000e-02
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.506527318712233e-01 = 0.23830599876314157 * (4.352731100000000e-02 / 4.138322867615132e-02)
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 4 more bins processed)
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 7.281234879406309 = 9.44 - 2.158765120593691
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -   Total token value: 2.277378182202848e+00
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -   Remaining SOL: 7.281234879406309
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -   Final asset value: 9.558613061609158e+00
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.186130616091585e-01
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -     PnL: 9.806615964121723e-02
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -     PnL from IL: 8.862615964121723e-02
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -     PnL: 1.280530616091585e-01
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,352 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.186130616091585e-01
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   position_id: pos_06-13-13-56-32_14346798
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (from CSV: 9.44)
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   Total points: 4
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749815400, 'close': 0.043527311, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749817200, 'close': 0.047549478, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   Valid prices: 4
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   Min price: 4.260606300000000e-02
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   Max price: 4.754947800000000e-02
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   Price ratio: 1.116026092342773
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (type: <class 'float'>)
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-13 13:56:32
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-13 14:24:19
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   price_history length: 4
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.043527311, 0.042606063, 0.045239134, 0.047549478]
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.043527311, 0.042606063, 0.045239134, 0.047549478]
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   Initial price: 4.352731100000000e-02
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   Final price: 4.754947800000000e-02
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0924055933526424
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   initial_price: 4.352731100000000e-02
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   final_price: 4.754947800000000e-02
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0924055933526424
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   active_bin_index: 8
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 8 bins): 1.5104000000000002
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG - 
Calculating token values for 8 activated bins:
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.374440616718471e-02 = 4.352731100000000e-02 * 1.004987562112089
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.315980408522042e+00 = 0.1888 / 4.374440616718471e-02
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Final value: 2.052226154834498e-01 = 4.315980408522042e+00 * 4.754947800000000e-02
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.052226154834499e-01 = 0.1888 * (4.754947800000000e-02 / 4.374440616718471e-02)
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.418185022885656e-02 = 4.352731100000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.273247929229744e+00 = 0.1888 / 4.418185022885656e-02
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Final value: 2.031907083994553e-01 = 4.273247929229744e+00 * 4.754947800000000e-02
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.031907083994553e-01 = 0.1888 * (4.754947800000000e-02 / 4.418185022885656e-02)
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.462366873114513e-02 = 4.352731100000000e-02 * 1.025187812110542
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.230938543791826e+00 = 0.1888 / 4.462366873114513e-02
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Final value: 2.011789192073815e-01 = 4.230938543791826e+00 * 4.754947800000000e-02
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.011789192073814e-01 = 0.1888 * (4.754947800000000e-02 / 4.462366873114513e-02)
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.506990541845658e-02 = 4.352731100000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.189048063160224e+00 = 0.1888 / 4.506990541845658e-02
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Final value: 1.991870487201797e-01 = 4.189048063160224e+00 * 4.754947800000000e-02
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.991870487201797e-01 = 0.1888 * (4.754947800000000e-02 / 4.506990541845658e-02)
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.552060447264115e-02 = 4.352731100000000e-02 * 1.045794087133964
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.147572339762597e+00 = 0.1888 / 4.552060447264115e-02
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Final value: 1.972148997229501e-01 = 4.147572339762597e+00 * 4.754947800000000e-02
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.972148997229501e-01 = 0.1888 * (4.754947800000000e-02 / 4.552060447264115e-02)
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 3 more bins processed)
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 7.929599999999999 = 9.44 - 1.5104000000000002
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   Total token value: 1.586000294265056e+00
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   Remaining SOL: 7.929599999999999
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   Final asset value: 9.515600294265056e+00
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   PnL from assets: 7.560029426505643e-02
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   initial_price: 4.352731100000000e-02
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   final_price: 4.754947800000000e-02
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0924055933526424
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   active_bin_index: 8
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 8 bins): 1.9550199134199124
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG - 
Calculating token values for 8 activated bins:
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.28033939393939383
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.374440616718471e-02 = 4.352731100000000e-02 * 1.004987562112089
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.408576970229697e+00 = 0.28033939393939383 / 4.374440616718471e-02
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Final value: 3.047244896572436e-01 = 6.408576970229697e+00 * 4.754947800000000e-02
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.047244896572436e-01 = 0.28033939393939383 * (4.754947800000000e-02 / 4.374440616718471e-02)
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2691304885590599
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.418185022885656e-02 = 4.352731100000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.091426392624959e+00 = 0.2691304885590599 / 4.418185022885656e-02
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Final value: 2.896441452447398e-01 = 6.091426392624959e+00 * 4.754947800000000e-02
2025-07-15 17:58:05,353 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.896441452447398e-01 = 0.2691304885590599 * (4.754947800000000e-02 / 4.418185022885656e-02)
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2583886209029065
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.462366873114513e-02 = 4.352731100000000e-02 * 1.025187812110542
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.790393937793016e+00 = 0.2583886209029065 / 4.462366873114513e-02
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG -     Final value: 2.753302091564224e-01 = 5.790393937793016e+00 * 4.754947800000000e-02
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.753302091564223e-01 = 0.2583886209029065 * (4.754947800000000e-02 / 4.462366873114513e-02)
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.24811379097093378
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.506990541845658e-02 = 4.352731100000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.505087899947727e+00 = 0.24811379097093378 / 4.506990541845658e-02
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG -     Final value: 2.617640559866306e-01 = 5.505087899947727e+00 * 4.754947800000000e-02
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.617640559866307e-01 = 0.24811379097093378 * (4.754947800000000e-02 / 4.506990541845658e-02)
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23830599876314157
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.552060447264115e-02 = 4.352731100000000e-02 * 1.045794087133964
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.235123775791873e+00 = 0.23830599876314157 / 4.552060447264115e-02
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG -     Final value: 2.489274028042926e-01 = 5.235123775791873e+00 * 4.754947800000000e-02
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.489274028042926e-01 = 0.23830599876314157 * (4.754947800000000e-02 / 4.552060447264115e-02)
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 3 more bins processed)
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 7.484980086580087 = 9.44 - 1.9550199134199124
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG -   Total token value: 2.057180388385207e+00
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG -   Remaining SOL: 7.484980086580087
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG -   Final asset value: 9.542160474965295e+00
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.021604749652951e-01
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG -     PnL: 8.504029426505644e-02
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG -     PnL from IL: 7.560029426505643e-02
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG -     PnL: 1.116004749652951e-01
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,354 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.021604749652951e-01
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -   position_id: pos_06-13-15-17-00_14353594
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (from CSV: 9.44)
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03547 (from CSV: 0.03547)
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -   Total points: 22
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749819600, 'close': 0.047317294, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749857400, 'close': 0.067144234, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -   Valid prices: 22
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -   Min price: 4.731729400000000e-02
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -   Max price: 7.098151599999999e-02
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -   Price ratio: 1.5001178216150735
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (type: <class 'float'>)
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03547 (type: <class 'float'>)
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-13 15:17:00
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-14 01:33:59
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -   price_history length: 22
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.047317294, 0.05727302, 0.063175846, 0.063986991, 0.070981516]
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.063041571, 0.062906186, 0.063224013, 0.061591615, 0.067144234]
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -   Initial price: 4.731729400000000e-02
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -   Final price: 6.714423400000000e-02
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -   Price ratio: 1.4190210031875448
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -   initial_price: 4.731729400000000e-02
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -   final_price: 6.714423400000000e-02
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -   price_ratio: 1.4190210031875448
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -   active_bin_index: 35
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 35 bins): 6.607999999999996
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG - 
Calculating token values for 35 activated bins:
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.755329194280097e-02 = 4.731729400000000e-02 * 1.004987562112089
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.970282440742405e+00 = 0.1888 / 4.755329194280097e-02
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -     Final value: 2.665815732472991e-01 = 3.970282440742405e+00 * 6.714423400000000e-02
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.665815732472992e-01 = 0.1888 * (6.714423400000000e-02 / 4.755329194280097e-02)
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.802882486222899e-02 = 4.731729400000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.930972713606341e+00 = 0.1888 / 4.802882486222899e-02
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -     Final value: 2.639421517299991e-01 = 3.930972713606341e+00 * 6.714423400000000e-02
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.639421517299991e-01 = 0.1888 * (6.714423400000000e-02 / 4.802882486222899e-02)
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.850911311085128e-02 = 4.731729400000000e-02 * 1.025187812110542
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.892052191689447e+00 = 0.1888 / 4.850911311085128e-02
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -     Final value: 2.613288630990090e-01 = 3.892052191689447e+00 * 6.714423400000000e-02
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.613288630990090e-01 = 0.1888 * (6.714423400000000e-02 / 4.850911311085128e-02)
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.899420424195979e-02 = 4.731729400000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.853517021474700e+00 = 0.1888 / 4.899420424195979e-02
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -     Final value: 2.587414486128803e-01 = 3.853517021474700e+00 * 6.714423400000000e-02
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.587414486128802e-01 = 0.1888 * (6.714423400000000e-02 / 4.899420424195979e-02)
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.948414628437939e-02 = 4.731729400000000e-02 * 1.045794087133964
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.815363387598712e+00 = 0.1888 / 4.948414628437939e-02
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -     Final value: 2.561796520919606e-01 = 3.815363387598712e+00 * 6.714423400000000e-02
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.561796520919606e-01 = 0.1888 * (6.714423400000000e-02 / 4.948414628437939e-02)
2025-07-15 17:58:05,355 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 30 more bins processed)
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 2.8320000000000034 = 9.44 - 6.607999999999996
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -   Total token value: 7.918183402201429e+00
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -   Remaining SOL: 2.8320000000000034
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -   Final asset value: 1.075018340220143e+01
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.310183402201433e+00
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -   initial_price: 4.731729400000000e-02
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -   final_price: 6.714423400000000e-02
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -   price_ratio: 1.4190210031875448
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -   active_bin_index: 35
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 35 bins): 6.199341991341989
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG - 
Calculating token values for 35 activated bins:
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.28033939393939383
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.755329194280097e-02 = 4.731729400000000e-02 * 1.004987562112089
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.895267866556902e+00 = 0.28033939393939383 / 4.755329194280097e-02
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     Final value: 3.958332451247774e-01 = 5.895267866556902e+00 * 6.714423400000000e-02
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.958332451247774e-01 = 0.28033939393939383 * (6.714423400000000e-02 / 4.755329194280097e-02)
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2691304885590599
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.802882486222899e-02 = 4.731729400000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.603520163798772e+00 = 0.2691304885590599 / 4.802882486222899e-02
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     Final value: 3.762440691018231e-01 = 5.603520163798772e+00 * 6.714423400000000e-02
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.762440691018231e-01 = 0.2691304885590599 * (6.714423400000000e-02 / 4.802882486222899e-02)
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2583886209029065
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.850911311085128e-02 = 4.731729400000000e-02 * 1.025187812110542
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.326599567228659e+00 = 0.2583886209029065 / 4.850911311085128e-02
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     Final value: 3.576504477662998e-01 = 5.326599567228659e+00 * 6.714423400000000e-02
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.576504477662998e-01 = 0.2583886209029065 * (6.714423400000000e-02 / 4.850911311085128e-02)
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.24811379097093378
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.899420424195979e-02 = 4.731729400000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.064145745599094e+00 = 0.24811379097093378 / 4.899420424195979e-02
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     Final value: 3.400281869526101e-01 = 5.064145745599094e+00 * 6.714423400000000e-02
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.400281869526101e-01 = 0.24811379097093378 * (6.714423400000000e-02 / 4.899420424195979e-02)
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23830599876314157
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.948414628437939e-02 = 4.731729400000000e-02 * 1.045794087133964
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.815804993252301e+00 = 0.23830599876314157 / 4.948414628437939e-02
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     Final value: 3.233535373653009e-01 = 4.815804993252301e+00 * 6.714423400000000e-02
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.233535373653009e-01 = 0.23830599876314157 * (6.714423400000000e-02 / 4.948414628437939e-02)
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 30 more bins processed)
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 3.24065800865801 = 9.44 - 6.199341991341989
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -   Total token value: 7.581311824742390e+00
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -   Remaining SOL: 3.24065800865801
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -   Final asset value: 1.082196983340040e+01
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.381969833400401e+00
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     PnL: 1.319623402201433e+00
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.310183402201433e+00
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     PnL: 1.388577833400401e+00
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     PnL from fees: 6.608000000000000e-03
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.381969833400401e+00
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -   position_id: pos_06-14-01-52-22_14387804
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (from CSV: 9.44)
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -   Total points: 35
2025-07-15 17:58:05,356 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749855600, 'close': 0.067144234, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749978000, 'close': 0.081656521, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   Valid prices: 35
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   Min price: 6.363715400000000e-02
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   Max price: 8.165652100000000e-02
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2831579646066509
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (type: <class 'float'>)
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-14 01:52:22
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-15 11:12:06
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   price_history length: 35
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.067144234, 0.065726525, 0.067946504, 0.063637154, 0.072086934]
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.073887497, 0.079591908, 0.074011811, 0.074669489, 0.081656521]
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   Initial price: 6.714423400000000e-02
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   Final price: 8.165652100000000e-02
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   Price ratio: 1.216136012513003
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   initial_price: 6.714423400000000e-02
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   final_price: 8.165652100000000e-02
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   price_ratio: 1.216136012513003
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   active_bin_index: 19
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 19 bins): 3.587200000000001
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG - 
Calculating token values for 19 activated bins:
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.747912003754364e-02 = 6.714423400000000e-02 * 1.004987562112089
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.797902519993689e+00 = 0.1888 / 6.747912003754364e-02
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -     Final value: 2.284669858798176e-01 = 2.797902519993689e+00 * 8.165652100000000e-02
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.284669858798176e-01 = 0.1888 * (8.165652100000000e-02 / 6.747912003754364e-02)
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.815391123791907e-02 = 6.714423400000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.770200514845237e+00 = 0.1888 / 6.815391123791907e-02
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -     Final value: 2.262049365146709e-01 = 2.770200514845237e+00 * 8.165652100000000e-02
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.262049365146709e-01 = 0.1888 * (8.165652100000000e-02 / 6.815391123791907e-02)
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.883545035029827e-02 = 6.714423400000000e-02 * 1.025187812110542
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.742772786975482e+00 = 0.1888 / 6.883545035029827e-02
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -     Final value: 2.239652836778920e-01 = 2.742772786975482e+00 * 8.165652100000000e-02
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.239652836778920e-01 = 0.1888 * (8.165652100000000e-02 / 6.883545035029827e-02)
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.952380485380125e-02 = 6.714423400000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.715616620767804e+00 = 0.1888 / 6.952380485380125e-02
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -     Final value: 2.217478056216752e-01 = 2.715616620767804e+00 * 8.165652100000000e-02
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.217478056216752e-01 = 0.1888 * (8.165652100000000e-02 / 6.952380485380125e-02)
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.021904290233925e-02 = 6.714423400000000e-02 * 1.045794087133964
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.688729327492875e+00 = 0.1888 / 7.021904290233925e-02
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -     Final value: 2.195522827937378e-01 = 2.688729327492875e+00 * 8.165652100000000e-02
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.195522827937379e-01 = 0.1888 * (8.165652100000000e-02 / 7.021904290233925e-02)
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 14 more bins processed)
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.8527999999999984 = 9.44 - 3.587200000000001
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   Total token value: 3.974929982204036e+00
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.8527999999999984
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   Final asset value: 9.827729982204033e+00
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   PnL from assets: 3.877299822040339e-01
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   initial_price: 6.714423400000000e-02
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   final_price: 8.165652100000000e-02
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   price_ratio: 1.216136012513003
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   active_bin_index: 19
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,357 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 19 bins): 3.8622852195423607
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG - 
Calculating token values for 19 activated bins:
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.28033939393939383
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.747912003754364e-02 = 6.714423400000000e-02 * 1.004987562112089
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.154461317566385e+00 = 0.28033939393939383 / 6.747912003754364e-02
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -     Final value: 3.392388578215472e-01 = 4.154461317566385e+00 * 8.165652100000000e-02
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.392388578215472e-01 = 0.28033939393939383 * (8.165652100000000e-02 / 6.747912003754364e-02)
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2691304885590599
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.815391123791907e-02 = 6.714423400000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.948863442621070e+00 = 0.2691304885590599 / 6.815391123791907e-02
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -     Final value: 3.224504506285197e-01 = 3.948863442621070e+00 * 8.165652100000000e-02
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.224504506285196e-01 = 0.2691304885590599 * (8.165652100000000e-02 / 6.815391123791907e-02)
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2583886209029065
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.883545035029827e-02 = 6.714423400000000e-02 * 1.025187812110542
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.753714395532924e+00 = 0.2583886209029065 / 6.883545035029827e-02
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -     Final value: 3.065152583668365e-01 = 3.753714395532924e+00 * 8.165652100000000e-02
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.065152583668365e-01 = 0.2583886209029065 * (8.165652100000000e-02 / 6.883545035029827e-02)
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.24811379097093378
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.952380485380125e-02 = 6.714423400000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.568760246834621e+00 = 0.24811379097093378 / 6.952380485380125e-02
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -     Final value: 2.914125460396164e-01 = 3.568760246834621e+00 * 8.165652100000000e-02
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.914125460396165e-01 = 0.24811379097093378 * (8.165652100000000e-02 / 6.952380485380125e-02)
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23830599876314157
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.021904290233925e-02 = 6.714423400000000e-02 * 1.045794087133964
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.393751736186121e+00 = 0.23830599876314157 / 7.021904290233925e-02
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -     Final value: 2.771219599146684e-01 = 3.393751736186121e+00 * 8.165652100000000e-02
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.771219599146685e-01 = 0.23830599876314157 * (8.165652100000000e-02 / 7.021904290233925e-02)
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 14 more bins processed)
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.577714780457638 = 9.44 - 3.8622852195423607
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -   Total token value: 4.325390491135971e+00
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.577714780457638
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -   Final asset value: 9.903105271593610e+00
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -   PnL from assets: 4.631052715936104e-01
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,358 - DEEP_DEBUG - DEBUG -     PnL: 3.971699822040339e-01
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG -     PnL from IL: 3.877299822040339e-01
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG -     PnL: 4.725452715936104e-01
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG -     PnL from IL: 4.631052715936104e-01
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for catwifmask-SOL
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG -   position_id: pos_06-14-02-49-26_28433510
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG -   investment_sol: 8.8788 (from CSV: 8.8788)
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG -   Total points: 4
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749861600, 'close': 0.018495221, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749863400, 'close': 0.019156785, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG -   Valid prices: 4
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG -   Min price: 1.849522100000000e-02
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG -   Max price: 1.915678500000000e-02
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0357694563368558
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG -   investment_sol: 8.8788 (type: <class 'float'>)
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-14 02:49:26
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-14 03:10:53
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG -   price_history length: 4
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.018495221, 0.019134707, 0.019134707, 0.019156785]
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.018495221, 0.019134707, 0.019134707, 0.019156785]
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG -   Initial price: 1.849522100000000e-02
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG -   Final price: 1.915678500000000e-02
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0357694563368558
2025-07-15 17:58:05,359 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,360 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,360 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,360 - DEEP_DEBUG - DEBUG -   initial_sol: 8.8788
2025-07-15 17:58:05,360 - DEEP_DEBUG - DEBUG -   initial_price: 1.849522100000000e-02
2025-07-15 17:58:05,360 - DEEP_DEBUG - DEBUG -   final_price: 1.915678500000000e-02
2025-07-15 17:58:05,360 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0357694563368558
2025-07-15 17:58:05,360 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:05,360 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,360 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,360 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,360 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.5327280000000001
2025-07-15 17:58:05,360 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:05,360 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.177576
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.858746706351431e-02 = 1.849522100000000e-02 * 1.004987562112089
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     Tokens bought: 9.553534077193728e+00 = 0.177576 / 1.858746706351431e-02
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     Final value: 1.830149983069736e-01 = 9.553534077193728e+00 * 1.915678500000000e-02
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.830149983069736e-01 = 0.177576 * (1.915678500000000e-02 / 1.858746706351431e-02)
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.177576
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.877334173414946e-02 = 1.849522100000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     Tokens bought: 9.458944630884879e+00 = 0.177576 / 1.877334173414946e-02
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     Final value: 1.812029686207660e-01 = 9.458944630884879e+00 * 1.915678500000000e-02
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.812029686207660e-01 = 0.177576 * (1.915678500000000e-02 / 1.877334173414946e-02)
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.177576
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.896107515149095e-02 = 1.849522100000000e-02 * 1.025187812110542
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     Tokens bought: 9.365291713747405e+00 = 0.177576 / 1.896107515149095e-02
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     Final value: 1.794088798225406e-01 = 9.365291713747405e+00 * 1.915678500000000e-02
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.794088798225406e-01 = 0.177576 * (1.915678500000000e-02 / 1.896107515149095e-02)
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.346072 = 8.8788 - 0.5327280000000001
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -   Total token value: 5.436268467502802e-01
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.346072
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -   Final asset value: 8.889698846750280e+00
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.8788
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.089884675027974e-02
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -   initial_sol: 8.8788
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -   initial_price: 1.849522100000000e-02
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -   final_price: 1.915678500000000e-02
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0357694563368558
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.7598319999999998
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2636734545454545
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.858746706351431e-02 = 1.849522100000000e-02 * 1.004987562112089
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.418555059946947e+01 = 0.2636734545454545 / 1.858746706351431e-02
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     Final value: 2.717495429406577e-01 = 1.418555059946947e+01 * 1.915678500000000e-02
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.717495429406577e-01 = 0.2636734545454545 * (1.915678500000000e-02 / 1.858746706351431e-02)
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.253130909090909
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.877334173414946e-02 = 1.849522100000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.348352960679631e+01 = 0.253130909090909 / 1.877334173414946e-02
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     Final value: 2.583010777185315e-01 = 1.348352960679631e+01 * 1.915678500000000e-02
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.583010777185315e-01 = 0.253130909090909 * (1.915678500000000e-02 / 1.877334173414946e-02)
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.24302763636363628
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.896107515149095e-02 = 1.849522100000000e-02 * 1.025187812110542
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.281718649506679e+01 = 0.24302763636363628 / 1.896107515149095e-02
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     Final value: 2.455360859908980e-01 = 1.281718649506679e+01 * 1.915678500000000e-02
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.455360859908980e-01 = 0.24302763636363628 * (1.915678500000000e-02 / 1.896107515149095e-02)
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.118968 = 8.8788 - 0.7598319999999998
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -   Total token value: 7.755867066500873e-01
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.118968
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -   Final asset value: 8.894554706650087e+00
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.8788
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.575470665008716e-02
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     PnL: 1.977764675027974e-02
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.878800000000001e-03
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.089884675027974e-02
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     PnL: 2.463350665008716e-02
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.878800000000001e-03
2025-07-15 17:58:05,361 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.575470665008716e-02
2025-07-15 17:58:05,362 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,362 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,362 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,362 - DEEP_DEBUG - DEBUG -   position_id: pos_06-14-05-41-41_28442304
2025-07-15 17:58:05,362 - DEEP_DEBUG - DEBUG -   investment_sol: 8.88 (from CSV: 8.88)
2025-07-15 17:58:05,362 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03953 (from CSV: 0.03953)
2025-07-15 17:58:05,362 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,362 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,362 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,362 - DEEP_DEBUG - DEBUG -   Total points: 18
2025-07-15 17:58:05,362 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749871800, 'close': 0.072086934, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,362 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749902400, 'close': 0.069846907, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,362 - DEEP_DEBUG - DEBUG -   Valid prices: 18
2025-07-15 17:58:05,362 - DEEP_DEBUG - DEBUG -   Min price: 6.288410500000000e-02
2025-07-15 17:58:05,362 - DEEP_DEBUG - DEBUG -   Max price: 7.370324900000000e-02
2025-07-15 17:58:05,362 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1720489462321202
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG -   investment_sol: 8.88 (type: <class 'float'>)
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03953 (type: <class 'float'>)
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-14 05:41:41
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-14 14:10:24
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG -   price_history length: 18
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.072086934, 0.071373134, 0.072924099, 0.073703249, 0.070992337]
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.062884105, 0.064765483, 0.067663143, 0.070257064, 0.069846907]
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG -   Initial price: 7.208693400000001e-02
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG -   Final price: 6.984690700000000e-02
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG -   Price ratio: 0.968926033114406
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG -   initial_sol: 8.88
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG -   initial_price: 7.208693400000001e-02
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG -   final_price: 6.984690700000000e-02
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG -   price_ratio: 0.968926033114406
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.88 = 8.88 - 0
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.88
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG -   Final asset value: 8.880000000000001e+00
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.88
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG -   initial_sol: 8.88
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG -   initial_price: 7.208693400000001e-02
2025-07-15 17:58:05,363 - DEEP_DEBUG - DEBUG -   final_price: 6.984690700000000e-02
2025-07-15 17:58:05,364 - DEEP_DEBUG - DEBUG -   price_ratio: 0.968926033114406
2025-07-15 17:58:05,364 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,364 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,364 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,364 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,364 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,364 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.88 = 8.88 - 0
2025-07-15 17:58:05,364 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,364 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,364 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.88
2025-07-15 17:58:05,364 - DEEP_DEBUG - DEBUG -   Final asset value: 8.880000000000001e+00
2025-07-15 17:58:05,364 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.88
2025-07-15 17:58:05,364 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,364 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,364 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,364 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,364 - DEEP_DEBUG - DEBUG -     PnL: 8.880000000000001e-03
2025-07-15 17:58:05,364 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.880000000000001e-03
2025-07-15 17:58:05,364 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,364 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,364 - DEEP_DEBUG - DEBUG -     PnL: 6.216000000000000e-03
2025-07-15 17:58:05,364 - DEEP_DEBUG - DEBUG -     PnL from fees: 6.216000000000000e-03
2025-07-15 17:58:05,364 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Brainlet-SOL
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   position_id: pos_06-14-14-17-37_28468413
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   investment_sol: 8.88 (from CSV: 8.88)
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.21248 (from CSV: -0.21248)
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   Total points: 11
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749902400, 'close': 0.010001224, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749920400, 'close': 0.0116123, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   Valid prices: 11
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   Min price: 1.000122400000000e-02
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   Max price: 1.410825800000000e-02
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   Price ratio: 1.4106531360561467
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   investment_sol: 8.88 (type: <class 'float'>)
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.21248 (type: <class 'float'>)
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-14 14:17:37
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-14 19:24:02
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   price_history length: 11
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.010001224, 0.01160245, 0.013455225, 0.014108258, 0.013126531]
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.011125645, 0.011390814, 0.012411862, 0.011340859, 0.0116123]
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   Initial price: 1.000122400000000e-02
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   Final price: 1.161230000000000e-02
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1610878828431401
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   initial_sol: 8.88
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   initial_price: 1.000122400000000e-02
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   final_price: 1.161230000000000e-02
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1610878828431401
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   active_bin_index: 15
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 15 bins): 2.664
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG - 
Calculating token values for 15 activated bins:
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1776
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.005110572589691e-02 = 1.000122400000000e-02 * 1.004987562112089
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.766969772712761e+01 = 0.1776 / 1.005110572589691e-02
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -     Final value: 2.051858309167240e-01 = 1.766969772712761e+01 * 1.161230000000000e-02
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.051858309167239e-01 = 0.1776 * (1.161230000000000e-02 / 1.005110572589691e-02)
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1776
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.015161678315588e-02 = 1.000122400000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.749475022487882e+01 = 0.1776 / 1.015161678315588e-02
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -     Final value: 2.031542880363603e-01 = 1.749475022487882e+01 * 1.161230000000000e-02
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.031542880363603e-01 = 0.1776 * (1.161230000000000e-02 / 1.015161678315588e-02)
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1776
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.025313295098744e-02 = 1.000122400000000e-02 * 1.025187812110542
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.732153487611764e+01 = 0.1776 / 1.025313295098744e-02
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -     Final value: 2.011428594419409e-01 = 1.732153487611764e+01 * 1.161230000000000e-02
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.011428594419409e-01 = 0.1776 * (1.161230000000000e-02 / 1.025313295098744e-02)
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1776
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.035566428049732e-02 = 1.000122400000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.715003453080955e+01 = 0.1776 / 1.035566428049732e-02
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -     Final value: 1.991513459821197e-01 = 1.715003453080955e+01 * 1.161230000000000e-02
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.991513459821198e-01 = 0.1776 * (1.161230000000000e-02 / 1.035566428049732e-02)
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1776
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.045922092330229e-02 = 1.000122400000000e-02 * 1.045794087133964
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.698023220872232e+01 = 0.1776 / 1.045922092330229e-02
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -     Final value: 1.971795504773463e-01 = 1.698023220872232e+01 * 1.161230000000000e-02
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.971795504773463e-01 = 0.1776 * (1.161230000000000e-02 / 1.045922092330229e-02)
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 10 more bins processed)
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 6.216000000000001 = 8.88 - 2.664
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   Total token value: 2.873361444652299e+00
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   Remaining SOL: 6.216000000000001
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   Final asset value: 9.089361444652301e+00
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.88
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.093614446523002e-01
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   initial_sol: 8.88
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   initial_price: 1.000122400000000e-02
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   final_price: 1.161230000000000e-02
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1610878828431401
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   active_bin_index: 15
2025-07-15 17:58:05,365 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 15 bins): 3.048415584415584
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG - 
Calculating token values for 15 activated bins:
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.26370909090909084
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.005110572589691e-02 = 1.000122400000000e-02 * 1.004987562112089
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.623682389785614e+01 = 0.26370909090909084 / 1.005110572589691e-02
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -     Final value: 3.046698701490748e-01 = 2.623682389785614e+01 * 1.161230000000000e-02
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.046698701490748e-01 = 0.26370909090909084 * (1.161230000000000e-02 / 1.005110572589691e-02)
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.25316512059369195
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.015161678315588e-02 = 1.000122400000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.493840400021377e+01 = 0.25316512059369195 / 1.015161678315588e-02
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -     Final value: 2.895922287716824e-01 = 2.493840400021377e+01 * 1.161230000000000e-02
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.895922287716824e-01 = 0.25316512059369195 * (1.161230000000000e-02 / 1.015161678315588e-02)
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.24306048237476802
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.025313295098744e-02 = 1.000122400000000e-02 * 1.025187812110542
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.370597197331375e+01 = 0.24306048237476802 / 1.025313295098744e-02
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -     Final value: 2.752808583457113e-01 = 2.370597197331375e+01 * 1.161230000000000e-02
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.752808583457113e-01 = 0.24306048237476802 * (1.161230000000000e-02 / 1.025313295098744e-02)
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2333951762523191
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.035566428049732e-02 = 1.000122400000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.253792416695751e+01 = 0.2333951762523191 / 1.035566428049732e-02
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -     Final value: 2.617171368039606e-01 = 2.253792416695751e+01 * 1.161230000000000e-02
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.617171368039607e-01 = 0.2333951762523191 * (1.161230000000000e-02 / 1.035566428049732e-02)
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.22416920222634504
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.045922092330229e-02 = 1.000122400000000e-02 * 1.045794087133964
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.143268641805953e+01 = 0.22416920222634504 / 1.045922092330229e-02
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -     Final value: 2.488827844924327e-01 = 2.143268641805953e+01 * 1.161230000000000e-02
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.488827844924327e-01 = 0.22416920222634504 * (1.161230000000000e-02 / 1.045922092330229e-02)
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 10 more bins processed)
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.831584415584417 = 8.88 - 3.048415584415584
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -   Total token value: 3.311131419860686e+00
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.831584415584417
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -   Final asset value: 9.142715835445102e+00
2025-07-15 17:58:05,366 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.88
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.627158354451016e-01
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -     PnL: 2.182414446523002e-01
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.880000000000001e-03
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.093614446523002e-01
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -     PnL: 2.711021460426087e-01
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.386310597507128e-03
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.627158354451016e-01
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   position_id: pos_06-14-14-57-39_5576326
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1079 (from CSV: 11.1079)
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.08014 (from CSV: 0.08014)
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   Total points: 19
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749904200, 'close': 0.06647871, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749936600, 'close': 0.068529461, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   Valid prices: 19
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   Min price: 6.298178500000000e-02
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   Max price: 7.643332899999999e-02
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2135783226848842
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1079 (type: <class 'float'>)
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.08014 (type: <class 'float'>)
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-14 14:57:39
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-14 23:54:09
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   price_history length: 19
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.06647871, 0.068969937, 0.074739704, 0.073563934, 0.076433329]
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.065626698, 0.062981785, 0.067963237, 0.071101105, 0.068529461]
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   Initial price: 6.647871000000000e-02
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   Final price: 6.852946100000000e-02
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   Price ratio: 1.030848236976921
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1079
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   initial_price: 6.647871000000000e-02
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   final_price: 6.852946100000000e-02
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   price_ratio: 1.030848236976921
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.4829521739130435
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1609840579710145
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.681027669525655e-02 = 6.647871000000000e-02 * 1.004987562112089
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.409570292685888e+00 = 0.1609840579710145 / 6.681027669525655e-02
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -     Final value: 1.651265533993762e-01 = 2.409570292685888e+00 * 6.852946100000000e-02
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.651265533993762e-01 = 0.1609840579710145 * (6.852946100000000e-02 / 6.681027669525655e-02)
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1609840579710145
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.747837946220911e-02 = 6.647871000000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.385713161075137e+00 = 0.1609840579710145 / 6.747837946220911e-02
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -     Final value: 1.634916370290853e-01 = 2.385713161075137e+00 * 6.852946100000000e-02
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.634916370290853e-01 = 0.1609840579710145 * (6.852946100000000e-02 / 6.747837946220911e-02)
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1609840579710145
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.815316325683121e-02 = 6.647871000000000e-02 * 1.025187812110542
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.362092238688254e+00 = 0.1609840579710145 / 6.815316325683121e-02
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -     Final value: 1.618729079495894e-01 = 2.362092238688254e+00 * 6.852946100000000e-02
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.618729079495894e-01 = 0.1609840579710145 * (6.852946100000000e-02 / 6.815316325683121e-02)
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.624947826086958 = 11.1079 - 0.4829521739130435
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   Total token value: 4.904910983780509e-01
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.624947826086958
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111543892446501e+01
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1079
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG -   PnL from assets: 7.538924465007923e-03
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,367 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1079
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG -   initial_price: 6.647871000000000e-02
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG -   final_price: 6.852946100000000e-02
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG -   price_ratio: 1.030848236976921
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.6985076847686077
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2397134877816567
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.681027669525655e-02 = 6.647871000000000e-02 * 1.004987562112089
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.587973282539572e+00 = 0.2397134877816567 / 6.681027669525655e-02
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG -     Final value: 2.458818751348376e-01 = 3.587973282539572e+00 * 6.852946100000000e-02
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.458818751348375e-01 = 0.2397134877816567 * (6.852946100000000e-02 / 6.681027669525655e-02)
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23276677338660007
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.747837946220911e-02 = 6.647871000000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.449501532812592e+00 = 0.23276677338660007 / 6.747837946220911e-02
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG -     Final value: 2.363924807623208e-01 = 3.449501532812592e+00 * 6.852946100000000e-02
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.363924807623208e-01 = 0.23276677338660007 * (6.852946100000000e-02 / 6.747837946220911e-02)
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.22602742360035097
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.815316325683121e-02 = 6.647871000000000e-02 * 1.025187812110542
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.316462696655471e+00 = 0.22602742360035097 / 6.815316325683121e-02
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG -     Final value: 2.272754010284059e-01 = 3.316462696655471e+00 * 6.852946100000000e-02
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.272754010284059e-01 = 0.22602742360035097 * (6.852946100000000e-02 / 6.815316325683121e-02)
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.409392315231393 = 11.1079 - 0.6985076847686077
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG -   Total token value: 7.095497569255642e-01
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.409392315231393
2025-07-15 17:58:05,368 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111894207215696e+01
2025-07-15 17:58:05,369 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1079
2025-07-15 17:58:05,369 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.104207215695752e-02
2025-07-15 17:58:05,369 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,369 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,369 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,369 - DEEP_DEBUG - DEBUG -     PnL: 1.864682446500792e-02
2025-07-15 17:58:05,369 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110790000000000e-02
2025-07-15 17:58:05,369 - DEEP_DEBUG - DEBUG -     PnL from IL: 7.538924465007923e-03
2025-07-15 17:58:05,369 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,369 - DEEP_DEBUG - DEBUG -     PnL: 2.102466474264359e-02
2025-07-15 17:58:05,369 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.982592585686078e-03
2025-07-15 17:58:05,369 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.104207215695752e-02
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   position_id: pos_06-15-06-18-00_5677029
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   investment_sol: 11.11 (from CSV: 11.11)
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.04854 (from CSV: -0.04854)
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   Total points: 15
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749960600, 'close': 0.070811117, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749969000, 'close': 0.078544202, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   Valid prices: 15
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   Min price: 7.081111700000001e-02
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   Max price: 8.256003600000000e-02
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1659191310313604
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   investment_sol: 11.11 (type: <class 'float'>)
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.04854 (type: <class 'float'>)
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-15 06:18:00
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-15 08:32:30
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   price_history length: 15
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.070811117, 0.070811117, 0.070811117, 0.070811117, 0.070811117]
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.073887497, 0.077151002, 0.082560036, 0.078544202, 0.078544202]
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   Initial price: 7.081111700000001e-02
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   Final price: 7.854420199999999e-02
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1092072167142906
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   initial_sol: 11.11
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   initial_price: 7.081111700000001e-02
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   final_price: 7.854420199999999e-02
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1092072167142906
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   active_bin_index: 10
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 10 bins): 1.610144927536232
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG - 
Calculating token values for 10 activated bins:
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.116429184426390e-02 = 7.081111700000001e-02 * 1.004987562112089
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.262574229024687e+00 = 0.16101449275362317 / 7.116429184426390e-02
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Final value: 1.777120872845092e-01 = 2.262574229024687e+00 * 7.854420199999999e-02
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.777120872845092e-01 = 0.16101449275362317 * (7.854420199999999e-02 / 7.116429184426390e-02)
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.187593476270654e-02 = 7.081111700000001e-02 * 1.0150374377332099
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.240172503984838e+00 = 0.16101449275362317 / 7.187593476270654e-02
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Final value: 1.759525616678309e-01 = 2.240172503984838e+00 * 7.854420199999999e-02
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.759525616678309e-01 = 0.16101449275362317 * (7.854420199999999e-02 / 7.187593476270654e-02)
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.259469411033362e-02 = 7.081111700000001e-02 * 1.025187812110542
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.217992578202809e+00 = 0.16101449275362317 / 7.259469411033362e-02
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Final value: 1.742104570968623e-01 = 2.217992578202809e+00 * 7.854420199999999e-02
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.742104570968623e-01 = 0.16101449275362317 * (7.854420199999999e-02 / 7.259469411033362e-02)
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.332064105143694e-02 = 7.081111700000001e-02 * 1.0354396902316474
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.196032255646347e+00 = 0.16101449275362317 / 7.332064105143694e-02
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Final value: 1.724856010860023e-01 = 2.196032255646347e+00 * 7.854420199999999e-02
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.724856010860023e-01 = 0.16101449275362317 * (7.854420199999999e-02 / 7.332064105143694e-02)
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.405384746195132e-02 = 7.081111700000001e-02 * 1.045794087133964
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.174289362026085e+00 = 0.16101449275362317 / 7.405384746195132e-02
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Final value: 1.707778228574280e-01 = 2.174289362026085e+00 * 7.854420199999999e-02
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.707778228574280e-01 = 0.16101449275362317 * (7.854420199999999e-02 / 7.405384746195132e-02)
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 5 more bins processed)
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.499855072463767 = 11.11 - 1.610144927536232
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   Total token value: 1.699996950432805e+00
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.499855072463767
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   Final asset value: 1.119985202289657e+01
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.11
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   PnL from assets: 8.985202289657224e-02
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   initial_sol: 11.11
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   initial_price: 7.081111700000001e-02
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   final_price: 7.854420199999999e-02
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1092072167142906
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   active_bin_index: 10
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 10 bins): 2.1098152780629866
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG - 
Calculating token values for 10 activated bins:
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23975880672802288
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.116429184426390e-02 = 7.081111700000001e-02 * 1.004987562112089
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.369088633000264e+00 = 0.23975880672802288 / 7.116429184426390e-02
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Final value: 2.646223781462766e-01 = 3.369088633000264e+00 * 7.854420199999999e-02
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.646223781462766e-01 = 0.23975880672802288 * (7.854420199999999e-02 / 7.116429184426390e-02)
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23281077902439942
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.187593476270654e-02 = 7.081111700000001e-02 * 1.0150374377332099
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.239064365465412e+00 = 0.23281077902439942 / 7.187593476270654e-02
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Final value: 2.544097258121171e-01 = 3.239064365465412e+00 * 7.854420199999999e-02
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.544097258121172e-01 = 0.23281077902439942 * (7.854420199999999e-02 / 7.187593476270654e-02)
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,370 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2260701551328243
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.259469411033362e-02 = 7.081111700000001e-02 * 1.025187812110542
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.114141576094112e+00 = 0.2260701551328243 / 7.259469411033362e-02
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -     Final value: 2.445977650093343e-01 = 3.114141576094112e+00 * 7.854420199999999e-02
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.445977650093343e-01 = 0.2260701551328243 * (7.854420199999999e-02 / 7.259469411033362e-02)
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21953693505329777
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.332064105143694e-02 = 7.081111700000001e-02 * 1.0354396902316474
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.994203704510509e+00 = 0.21953693505329777 / 7.332064105143694e-02
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -     Final value: 2.351773405962217e-01 = 2.994203704510509e+00 * 7.854420199999999e-02
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.351773405962217e-01 = 0.21953693505329777 * (7.854420199999999e-02 / 7.332064105143694e-02)
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2132111187858197
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.405384746195132e-02 = 7.081111700000001e-02 * 1.045794087133964
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.879136278440726e+00 = 0.2132111187858197 / 7.405384746195132e-02
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -     Final value: 2.261394614393766e-01 = 2.879136278440726e+00 * 7.854420199999999e-02
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.261394614393766e-01 = 0.2132111187858197 * (7.854420199999999e-02 / 7.405384746195132e-02)
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 5 more bins processed)
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.000184721937012 = 11.11 - 2.1098152780629866
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -   Total token value: 2.232855625650855e+00
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.000184721937012
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -   Final asset value: 1.123304034758787e+01
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.11
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.230403475878674e-01
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -     PnL: 1.009620228965722e-01
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.111000000000000e-02
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -     PnL from IL: 8.985202289657224e-02
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -     PnL: 1.327723155879754e-01
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.731968000108004e-03
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.230403475878674e-01
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Brainlet-SOL
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -   position_id: pos_06-15-06-18-28_28546312
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -   investment_sol: 8.8711 (from CSV: 8.8711)
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02717 (from CSV: 0.02717)
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -   Total points: 12
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749960600, 'close': 0.015464076, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749967200, 'close': 0.020165503, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -   Valid prices: 12
2025-07-15 17:58:05,371 - DEEP_DEBUG - DEBUG -   Min price: 1.546407600000000e-02
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -   Max price: 2.016550300000000e-02
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -   Price ratio: 1.304022497044117
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -   investment_sol: 8.8711 (type: <class 'float'>)
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02717 (type: <class 'float'>)
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-15 06:18:28
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-15 08:03:34
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -   price_history length: 12
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.015464076, 0.015464076, 0.015464076, 0.015464076, 0.015787843]
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.017770602, 0.019256721, 0.018000846, 0.018000846, 0.020165503]
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -   Initial price: 1.546407600000000e-02
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -   Final price: 2.016550300000000e-02
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -   Price ratio: 1.304022497044117
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -   initial_sol: 8.8711
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -   initial_price: 1.546407600000000e-02
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -   final_price: 2.016550300000000e-02
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -   price_ratio: 1.304022497044117
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -   active_bin_index: 26
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 26 bins): 4.612972
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG - 
Calculating token values for 26 activated bins:
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.177422
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.554120403955606e-02 = 1.546407600000000e-02 * 1.004987562112089
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.141623258715469e+01 = 0.177422 / 1.554120403955606e-02
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -     Final value: 2.302140724849656e-01 = 1.141623258715469e+01 * 2.016550300000000e-02
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.302140724849656e-01 = 0.177422 * (2.016550300000000e-02 / 1.554120403955606e-02)
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.177422
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.569661607995163e-02 = 1.546407600000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.130320058134127e+01 = 0.177422 / 1.569661607995163e-02
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -     Final value: 2.279347252326392e-01 = 1.130320058134127e+01 * 2.016550300000000e-02
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.279347252326392e-01 = 0.177422 * (2.016550300000000e-02 / 1.569661607995163e-02)
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.177422
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.585358224075114e-02 = 1.546407600000000e-02 * 1.025187812110542
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.119128770429829e+01 = 0.177422 / 1.585358224075114e-02
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -     Final value: 2.256779457748903e-01 = 1.119128770429829e+01 * 2.016550300000000e-02
2025-07-15 17:58:05,372 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.256779457748903e-01 = 0.177422 * (2.016550300000000e-02 / 1.585358224075114e-02)
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.177422
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.601211806315865e-02 = 1.546407600000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.108048287554286e+01 = 0.177422 / 1.601211806315865e-02
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Final value: 2.234435106682082e-01 = 1.108048287554286e+01 * 2.016550300000000e-02
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.234435106682082e-01 = 0.177422 * (2.016550300000000e-02 / 1.601211806315865e-02)
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.177422
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.617223924379024e-02 = 1.546407600000000e-02 * 1.045794087133964
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.097077512429986e+01 = 0.177422 / 1.617223924379024e-02
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Final value: 2.212311986813943e-01 = 1.097077512429986e+01 * 2.016550300000000e-02
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.212311986813943e-01 = 0.177422 * (2.016550300000000e-02 / 1.617223924379024e-02)
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 21 more bins processed)
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.258128 = 8.8711 - 4.612972
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -   Total token value: 5.300254435295558e+00
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.258128
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -   Final asset value: 9.558382435295558e+00
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.8711
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -   PnL from assets: 6.872824352955575e-01
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -   initial_sol: 8.8711
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -   initial_price: 1.546407600000000e-02
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -   final_price: 2.016550300000000e-02
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -   price_ratio: 1.304022497044117
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -   active_bin_index: 26
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 26 bins): 4.567327255411253
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG - 
Calculating token values for 26 activated bins:
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2634447878787878
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.554120403955606e-02 = 1.546407600000000e-02 * 1.004987562112089
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.695137565971453e+01 = 0.2634447878787878 / 1.554120403955606e-02
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Final value: 3.418330167201004e-01 = 1.695137565971453e+01 * 2.016550300000000e-02
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.418330167201003e-01 = 0.2634447878787878 * (2.016550300000000e-02 / 1.554120403955606e-02)
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.25291138528138524
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.569661607995163e-02 = 1.546407600000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.611247825602451e+01 = 0.25291138528138524 / 1.569661607995163e-02
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Final value: 3.249162286092970e-01 = 1.611247825602451e+01 * 2.016550300000000e-02
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.249162286092970e-01 = 0.25291138528138524 * (2.016550300000000e-02 / 1.569661607995163e-02)
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.24281687445887437
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.585358224075114e-02 = 1.546407600000000e-02 * 1.025187812110542
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.531621502140514e+01 = 0.24281687445887437 / 1.585358224075114e-02
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Final value: 3.088591799627904e-01 = 1.531621502140514e+01 * 2.016550300000000e-02
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.088591799627904e-01 = 0.24281687445887437 * (2.016550300000000e-02 / 1.585358224075114e-02)
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23316125541125537
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.601211806315865e-02 = 1.546407600000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.456154985190388e+01 = 0.23316125541125537 / 1.601211806315865e-02
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Final value: 2.936409772232173e-01 = 1.456154985190388e+01 * 2.016550300000000e-02
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.936409772232173e-01 = 0.23316125541125537 * (2.016550300000000e-02 / 1.601211806315865e-02)
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.22394452813852808
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.617223924379024e-02 = 1.546407600000000e-02 * 1.045794087133964
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.384746569492642e+01 = 0.22394452813852808 / 1.617223924379024e-02
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Final value: 2.792411110134357e-01 = 1.384746569492642e+01 * 2.016550300000000e-02
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.792411110134357e-01 = 0.22394452813852808 * (2.016550300000000e-02 / 1.617223924379024e-02)
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 21 more bins processed)
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.3037727445887475 = 8.8711 - 4.567327255411253
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -   Total token value: 5.336589311240522e+00
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.3037727445887475
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -   Final asset value: 9.640362055829270e+00
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.8711
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -   PnL from assets: 7.692620558292695e-01
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     PnL: 6.961535352955576e-01
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.871100000000000e-03
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     PnL from IL: 6.872824352955575e-01
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     PnL: 7.780217363386085e-01
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.759680509338976e-03
2025-07-15 17:58:05,373 - DEEP_DEBUG - DEBUG -     PnL from IL: 7.692620558292695e-01
2025-07-15 17:58:05,374 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,374 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,374 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,374 - DEEP_DEBUG - DEBUG -   position_id: pos_06-15-11-12-06_14703844
2025-07-15 17:58:05,374 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (from CSV: 9.44)
2025-07-15 17:58:05,374 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,374 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,374 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,374 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,374 - DEEP_DEBUG - DEBUG -   Total points: 1
2025-07-15 17:58:05,374 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749978600, 'close': 0.075735471, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,374 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749978600, 'close': 0.075735471, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,374 - DEEP_DEBUG - DEBUG -   Valid prices: 1
2025-07-15 17:58:05,374 - DEEP_DEBUG - DEBUG -   Min price: 7.573547100000000e-02
2025-07-15 17:58:05,374 - DEEP_DEBUG - DEBUG -   Max price: 7.573547100000000e-02
2025-07-15 17:58:05,374 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0
2025-07-15 17:58:05,374 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,374 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,374 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,374 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (type: <class 'float'>)
2025-07-15 17:58:05,374 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,374 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-15 11:12:06
2025-07-15 17:58:05,374 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-15 11:15:28
2025-07-15 17:58:05,374 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,374 - DEEP_DEBUG - DEBUG -   price_history length: 1
2025-07-15 17:58:05,374 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,374 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,374 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,374 - DEEP_DEBUG - DEBUG -   position_id: pos_06-15-11-15-28_14703952
2025-07-15 17:58:05,374 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (from CSV: 9.44)
2025-07-15 17:58:05,374 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,374 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   Total points: 9
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749978000, 'close': 0.075735471, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749992400, 'close': 0.082688033, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   Valid prices: 9
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   Min price: 7.573547100000000e-02
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   Max price: 8.536433800000000e-02
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1271381411228036
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (type: <class 'float'>)
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-15 11:15:28
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-15 15:18:40
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   price_history length: 9
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.075735471, 0.081656521, 0.081973953, 0.081790975, 0.082285582]
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.082285582, 0.085364338, 0.084926071, 0.080414115, 0.082688033]
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   Initial price: 7.573547100000000e-02
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   Final price: 8.268803299999999e-02
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   Price ratio: 1.091800604237346
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   initial_price: 7.573547100000000e-02
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   final_price: 8.268803299999999e-02
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   price_ratio: 1.091800604237346
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   active_bin_index: 8
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 8 bins): 1.5104000000000002
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG - 
Calculating token values for 8 activated bins:
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.611320636570081e-02 = 7.573547100000000e-02 * 1.004987562112089
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.480515655757208e+00 = 0.1888 / 7.611320636570081e-02
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Final value: 2.051089604002686e-01 = 2.480515655757208e+00 * 8.268803299999999e-02
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.051089604002686e-01 = 0.1888 * (8.268803299999999e-02 / 7.611320636570081e-02)
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.687433842935781e-02 = 7.573547100000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.455956094809116e+00 = 0.1888 / 7.687433842935781e-02
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Final value: 2.030781786141273e-01 = 2.455956094809116e+00 * 8.268803299999999e-02
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.030781786141273e-01 = 0.1888 * (8.268803299999999e-02 / 7.687433842935781e-02)
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.764308181365140e-02 = 7.573547100000000e-02 * 1.025187812110542
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.431639697830808e+00 = 0.1888 / 7.764308181365140e-02
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Final value: 2.010675035783439e-01 = 2.431639697830808e+00 * 8.268803299999999e-02
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.010675035783439e-01 = 0.1888 * (8.268803299999999e-02 / 7.764308181365140e-02)
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.841951263178791e-02 = 7.573547100000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.407564057258226e+00 = 0.1888 / 7.841951263178791e-02
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Final value: 1.990767362161821e-01 = 2.407564057258226e+00 * 8.268803299999999e-02
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.990767362161820e-01 = 0.1888 * (8.268803299999999e-02 / 7.841951263178791e-02)
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.920370775810580e-02 = 7.573547100000000e-02 * 1.045794087133964
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.383726789364580e+00 = 0.1888 / 7.920370775810580e-02
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Final value: 1.971056794219624e-01 = 2.383726789364580e+00 * 8.268803299999999e-02
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.971056794219624e-01 = 0.1888 * (8.268803299999999e-02 / 7.920370775810580e-02)
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 3 more bins processed)
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 7.929599999999999 = 9.44 - 1.5104000000000002
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   Total token value: 1.585121945672989e+00
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   Remaining SOL: 7.929599999999999
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   Final asset value: 9.514721945672989e+00
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   PnL from assets: 7.472194567298907e-02
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   initial_price: 7.573547100000000e-02
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   final_price: 8.268803299999999e-02
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   price_ratio: 1.091800604237346
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   active_bin_index: 8
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 8 bins): 1.9550199134199124
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG - 
Calculating token values for 8 activated bins:
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.28033939393939383
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.611320636570081e-02 = 7.573547100000000e-02 * 1.004987562112089
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.683189913094034e+00 = 0.28033939393939383 / 7.611320636570081e-02
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Final value: 3.045557290791866e-01 = 3.683189913094034e+00 * 8.268803299999999e-02
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.045557290791866e-01 = 0.28033939393939383 * (8.268803299999999e-02 / 7.611320636570081e-02)
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2691304885590599
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.687433842935781e-02 = 7.573547100000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.500914532179970e+00 = 0.2691304885590599 / 7.687433842935781e-02
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Final value: 2.894837363670769e-01 = 3.500914532179970e+00 * 8.268803299999999e-02
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.894837363670769e-01 = 0.2691304885590599 * (8.268803299999999e-02 / 7.687433842935781e-02)
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2583886209029065
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.764308181365140e-02 = 7.573547100000000e-02 * 1.025187812110542
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.327902690970671e+00 = 0.2583886209029065 / 7.764308181365140e-02
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Final value: 2.751777275317717e-01 = 3.327902690970671e+00 * 8.268803299999999e-02
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.751777275317716e-01 = 0.2583886209029065 * (8.268803299999999e-02 / 7.764308181365140e-02)
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.24811379097093378
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.841951263178791e-02 = 7.573547100000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.163929265104347e+00 = 0.24811379097093378 / 7.841951263178791e-02
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Final value: 2.616190874826140e-01 = 3.163929265104347e+00 * 8.268803299999999e-02
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.616190874826140e-01 = 0.24811379097093378 * (8.268803299999999e-02 / 7.841951263178791e-02)
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23830599876314157
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.920370775810580e-02 = 7.573547100000000e-02 * 1.045794087133964
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.008773269692707e+00 = 0.23830599876314157 / 7.920370775810580e-02
2025-07-15 17:58:05,375 - DEEP_DEBUG - DEBUG -     Final value: 2.487895434138684e-01 = 3.008773269692707e+00 * 8.268803299999999e-02
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.487895434138684e-01 = 0.23830599876314157 * (8.268803299999999e-02 / 7.920370775810580e-02)
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 3 more bins processed)
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 7.484980086580087 = 9.44 - 1.9550199134199124
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   Total token value: 2.056041093831291e+00
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   Remaining SOL: 7.484980086580087
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   Final asset value: 9.541021180411379e+00
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.010211804113794e-01
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -     PnL: 8.416194567298907e-02
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -     PnL from IL: 7.472194567298907e-02
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -     PnL: 1.104611804113794e-01
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.010211804113794e-01
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   position_id: pos_06-15-11-23-12_5697388
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1099 (from CSV: 11.1099)
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01709 (from CSV: 0.01709)
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   Total points: 4
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749979200, 'close': 0.077272445, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749981000, 'close': 0.081656521, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   Valid prices: 4
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   Min price: 7.727244500000000e-02
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   Max price: 8.165652100000000e-02
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0567353084272149
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1099 (type: <class 'float'>)
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01709 (type: <class 'float'>)
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-15 11:23:12
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-15 11:51:22
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   price_history length: 4
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.077272445, 0.077272445, 0.077272445, 0.081656521]
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.077272445, 0.077272445, 0.077272445, 0.081656521]
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   Initial price: 7.727244500000000e-02
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   Final price: 8.165652100000000e-02
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0567353084272149
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1099
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   initial_price: 7.727244500000000e-02
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   final_price: 8.165652100000000e-02
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0567353084272149
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   active_bin_index: 5
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 5 bins): 0.8050652173913043
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG - 
Calculating token values for 5 activated bins:
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101304347826087
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.765784611899047e-02 = 7.727244500000000e-02 * 1.004987562112089
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.073364785723650e+00 = 0.16101304347826087 / 7.765784611899047e-02
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -     Final value: 1.693037551661037e-01 = 2.073364785723650e+00 * 8.165652100000000e-02
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.693037551661037e-01 = 0.16101304347826087 * (8.165652100000000e-02 / 7.765784611899047e-02)
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101304347826087
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.843442458018038e-02 = 7.727244500000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.052836421508564e+00 = 0.16101304347826087 / 7.843442458018038e-02
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -     Final value: 1.676274803624789e-01 = 2.052836421508564e+00 * 8.165652100000000e-02
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.676274803624789e-01 = 0.16101304347826087 * (8.165652100000000e-02 / 7.843442458018038e-02)
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101304347826087
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.921876882598218e-02 = 7.727244500000000e-02 * 1.025187812110542
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.032511308424321e+00 = 0.16101304347826087 / 7.921876882598218e-02
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -     Final value: 1.659678023390881e-01 = 2.032511308424321e+00 * 8.165652100000000e-02
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.659678023390880e-01 = 0.16101304347826087 * (8.165652100000000e-02 / 7.921876882598218e-02)
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101304347826087
2025-07-15 17:58:05,376 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.001095651424200e-02 = 7.727244500000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.012387434083486e+00 = 0.16101304347826087 / 8.001095651424200e-02
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Final value: 1.643245567713743e-01 = 2.012387434083486e+00 * 8.165652100000000e-02
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.643245567713743e-01 = 0.16101304347826087 * (8.165652100000000e-02 / 8.001095651424200e-02)
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101304347826087
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.081106607938443e-02 = 7.727244500000000e-02 * 1.045794087133964
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.992462806023254e+00 = 0.16101304347826087 / 8.081106607938443e-02
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Final value: 1.626975809617567e-01 = 1.992462806023254e+00 * 8.165652100000000e-02
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.626975809617567e-01 = 0.16101304347826087 * (8.165652100000000e-02 / 8.081106607938443e-02)
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.304834782608696 = 11.1099 - 0.8050652173913043
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -   Total token value: 8.299211756008018e-01
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.304834782608696
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -   Final asset value: 1.113475595820950e+01
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1099
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.485595820949804e-02
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1099
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -   initial_price: 7.727244500000000e-02
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -   final_price: 8.165652100000000e-02
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0567353084272149
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -   active_bin_index: 5
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 5 bins): 1.131377611215861
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG - 
Calculating token values for 5 activated bins:
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23975664868295782
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.765784611899047e-02 = 7.727244500000000e-02 * 1.004987562112089
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.087346104289231e+00 = 0.23975664868295782 / 7.765784611899047e-02
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Final value: 2.521019419991618e-01 = 3.087346104289231e+00 * 8.165652100000000e-02
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.521019419991618e-01 = 0.23975664868295782 * (8.165652100000000e-02 / 7.765784611899047e-02)
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23280868351783757
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.843442458018038e-02 = 7.727244500000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.968195212292870e+00 = 0.23280868351783757 / 7.843442458018038e-02
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Final value: 2.423724946846922e-01 = 2.968195212292870e+00 * 8.165652100000000e-02
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.423724946846922e-01 = 0.23280868351783757 * (8.165652100000000e-02 / 7.843442458018038e-02)
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.22606812029794465
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.921876882598218e-02 = 7.727244500000000e-02 * 1.025187812110542
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.853719183575582e+00 = 0.22606812029794465 / 7.921876882598218e-02
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Final value: 2.330247804417424e-01 = 2.853719183575582e+00 * 8.165652100000000e-02
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.330247804417424e-01 = 0.22606812029794465 * (8.165652100000000e-02 / 7.921876882598218e-02)
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2195349590232793
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.001095651424200e-02 = 7.727244500000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.743811205209151e+00 = 0.2195349590232793 / 8.001095651424200e-02
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Final value: 2.240500772981963e-01 = 2.743811205209151e+00 * 8.165652100000000e-02
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.240500772981963e-01 = 0.2195349590232793 * (8.165652100000000e-02 / 8.001095651424200e-02)
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2132091996938414
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.081106607938443e-02 = 7.727244500000000e-02 * 1.045794087133964
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.638366377748267e+00 = 0.2132091996938414 / 8.081106607938443e-02
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Final value: 2.154398195302953e-01 = 2.638366377748267e+00 * 8.165652100000000e-02
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.154398195302953e-01 = 0.2132091996938414 * (8.165652100000000e-02 / 8.081106607938443e-02)
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.978522388784139 = 11.1099 - 1.131377611215861
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -   Total token value: 1.166989113954088e+00
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.978522388784139
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -   Final asset value: 1.114551150273823e+01
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1099
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -   PnL from assets: 3.561150273822733e-02
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     PnL: 3.596585820949804e-02
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110990000000000e-02
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.485595820949804e-02
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     PnL: 4.338843273822733e-02
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     PnL from fees: 7.776930000000000e-03
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG -     PnL from IL: 3.561150273822733e-02
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,377 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   position_id: pos_06-15-11-53-12_5698959
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1099 (from CSV: 11.1099)
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.09105 (from CSV: 0.09105)
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   Total points: 21
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749981000, 'close': 0.081656521, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749993000, 'close': 0.083632651, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   Valid prices: 21
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   Min price: 7.865776900000000e-02
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   Max price: 8.728069800000000e-02
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   Price ratio: 1.109625903577306
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1099 (type: <class 'float'>)
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.09105 (type: <class 'float'>)
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-15 11:53:12
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-15 15:18:10
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   price_history length: 21
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.081656521, 0.079495455, 0.079695178, 0.081973953, 0.085491473]
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.085505274, 0.083884836, 0.080414115, 0.082018401, 0.083632651]
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   Initial price: 8.165652100000000e-02
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   Final price: 8.363265100000000e-02
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0242005166984767
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1099
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   initial_price: 8.165652100000000e-02
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   final_price: 8.363265100000000e-02
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0242005166984767
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   active_bin_index: 2
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 2 bins): 0.32202608695652174
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG - 
Calculating token values for 2 activated bins:
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101304347826087
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.206378797034460e-02 = 8.165652100000000e-02 * 1.004987562112089
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.962047420190330e+00 = 0.16101304347826087 / 8.206378797034460e-02
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -     Final value: 1.640912271382282e-01 = 1.962047420190330e+00 * 8.363265100000000e-02
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.640912271382282e-01 = 0.16101304347826087 * (8.363265100000000e-02 / 8.206378797034460e-02)
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101304347826087
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.288442585004804e-02 = 8.165652100000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.942621208109238e+00 = 0.16101304347826087 / 8.288442585004804e-02
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -     Final value: 1.624665615229983e-01 = 1.942621208109238e+00 * 8.363265100000000e-02
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.624665615229983e-01 = 0.16101304347826087 * (8.363265100000000e-02 / 8.288442585004804e-02)
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.787873913043478 = 11.1099 - 0.32202608695652174
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   Total token value: 3.265577886612265e-01
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.787873913043478
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111443170170470e+01
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1099
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   PnL from assets: 4.531701704705071e-03
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1099
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   initial_price: 8.165652100000000e-02
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   final_price: 8.363265100000000e-02
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0242005166984767
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   active_bin_index: 2
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 2 bins): 0.4725653322007954
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG - 
Calculating token values for 2 activated bins:
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23975664868295782
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.206378797034460e-02 = 8.165652100000000e-02 * 1.004987562112089
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.921588859261514e+00 = 0.23975664868295782 / 8.206378797034460e-02
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -     Final value: 2.443402214321063e-01 = 2.921588859261514e+00 * 8.363265100000000e-02
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.443402214321063e-01 = 0.23975664868295782 * (8.363265100000000e-02 / 8.206378797034460e-02)
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23280868351783757
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.288442585004804e-02 = 8.165652100000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.808835087294058e+00 = 0.23280868351783757 / 8.288442585004804e-02
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -     Final value: 2.349103245722185e-01 = 2.808835087294058e+00 * 8.363265100000000e-02
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.349103245722185e-01 = 0.23280868351783757 * (8.363265100000000e-02 / 8.288442585004804e-02)
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.637334667799204 = 11.1099 - 0.4725653322007954
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   Total token value: 4.792505460043248e-01
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.637334667799204
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111658521380353e+01
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1099
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   PnL from assets: 6.685213803528711e-03
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -     PnL: 1.564160170470507e-02
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110990000000000e-02
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -     PnL from IL: 4.531701704705071e-03
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -     PnL: 1.446214380352871e-02
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -     PnL from fees: 7.776930000000000e-03
2025-07-15 17:58:05,378 - DEEP_DEBUG - DEBUG -     PnL from IL: 6.685213803528711e-03
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   position_id: pos_06-15-15-18-40_14725341
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (from CSV: 9.44)
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   Total points: 10
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749993000, 'close': 0.083632651, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749998400, 'close': 0.087434176, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   Valid prices: 10
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   Min price: 7.943393300000000e-02
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   Max price: 8.743417600000000e-02
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   Price ratio: 1.100715685323047
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (type: <class 'float'>)
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-15 15:18:40
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-15 16:40:12
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   price_history length: 10
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.083632651, 0.082688033, 0.079433933, 0.080507211, 0.081770758]
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.083087227, 0.085281996, 0.08431809, 0.085238737, 0.087434176]
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   Initial price: 8.363265100000000e-02
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   Final price: 8.743417600000000e-02
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0454550340631914
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   initial_price: 8.363265100000000e-02
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   final_price: 8.743417600000000e-02
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0454550340631914
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   active_bin_index: 4
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 4 bins): 0.7552
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG - 
Calculating token values for 4 activated bins:
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.404977404146116e-02 = 8.363265100000000e-02 * 1.004987562112089
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.246288013895984e+00 = 0.1888 / 8.404977404146116e-02
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -     Final value: 1.964023415536719e-01 = 2.246288013895984e+00 * 8.743417600000000e-02
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.964023415536719e-01 = 0.1888 * (8.743417600000000e-02 / 8.404977404146116e-02)
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.489027178187578e-02 = 8.363265100000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.224047538510875e+00 = 0.1888 / 8.489027178187578e-02
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -     Final value: 1.944577639145266e-01 = 2.224047538510875e+00 * 8.743417600000000e-02
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.944577639145266e-01 = 0.1888 * (8.743417600000000e-02 / 8.489027178187578e-02)
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.573917449969454e-02 = 8.363265100000000e-02 * 1.025187812110542
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.202027265852351e+00 = 0.1888 / 8.573917449969454e-02
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -     Final value: 1.925324395193333e-01 = 2.202027265852351e+00 * 8.743417600000000e-02
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.925324395193333e-01 = 0.1888 * (8.743417600000000e-02 / 8.573917449969454e-02)
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.659656624469148e-02 = 8.363265100000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.180225015695398e+00 = 0.1888 / 8.659656624469148e-02
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -     Final value: 1.906261777419141e-01 = 2.180225015695398e+00 * 8.743417600000000e-02
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.906261777419141e-01 = 0.1888 * (8.743417600000000e-02 / 8.659656624469148e-02)
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.6848 = 9.44 - 0.7552
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   Total token value: 7.740187227294459e-01
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.6848
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   Final asset value: 9.458818722729445e+00
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.881872272944562e-02
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   initial_price: 8.363265100000000e-02
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   final_price: 8.743417600000000e-02
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0454550340631914
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   active_bin_index: 4
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 4 bins): 1.055972294372294
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG - 
Calculating token values for 4 activated bins:
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.28033939393939383
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.404977404146116e-02 = 8.363265100000000e-02 * 1.004987562112089
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.335397353966763e+00 = 0.28033939393939383 / 8.404977404146116e-02
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -     Final value: 2.916277192766642e-01 = 3.335397353966763e+00 * 8.743417600000000e-02
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.916277192766642e-01 = 0.28033939393939383 * (8.743417600000000e-02 / 8.404977404146116e-02)
2025-07-15 17:58:05,379 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2691304885590599
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.489027178187578e-02 = 8.363265100000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.170333689714017e+00 = 0.2691304885590599 / 8.489027178187578e-02
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -     Final value: 2.771955138051848e-01 = 3.170333689714017e+00 * 8.743417600000000e-02
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.771955138051848e-01 = 0.2691304885590599 * (8.743417600000000e-02 / 8.489027178187578e-02)
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2583886209029065
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.573917449969454e-02 = 8.363265100000000e-02 * 1.025187812110542
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.013658836939549e+00 = 0.2583886209029065 / 8.573917449969454e-02
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -     Final value: 2.634967771529279e-01 = 3.013658836939549e+00 * 8.743417600000000e-02
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.634967771529279e-01 = 0.2583886209029065 * (8.743417600000000e-02 / 8.573917449969454e-02)
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.24811379097093378
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.659656624469148e-02 = 8.363265100000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.865168929098775e+00 = 0.24811379097093378 / 8.659656624469148e-02
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -     Final value: 2.505136844165538e-01 = 2.865168929098775e+00 * 8.743417600000000e-02
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.505136844165538e-01 = 0.24811379097093378 * (8.743417600000000e-02 / 8.659656624469148e-02)
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.384027705627705 = 9.44 - 1.055972294372294
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -   Total token value: 1.082833694651331e+00
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.384027705627705
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -   Final asset value: 9.466861400279036e+00
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.686140027903683e-02
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -     PnL: 2.825872272944563e-02
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.881872272944562e-02
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -     PnL: 3.630140027903683e-02
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.686140027903683e-02
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -   position_id: pos_06-15-15-20-12_5709796
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -   investment_sol: 11.11 (from CSV: 11.11)
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -   Total points: 9
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749993600, 'close': 0.082688033, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749998400, 'close': 0.087434176, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -   Valid prices: 9
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -   Min price: 7.943393300000000e-02
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -   Max price: 8.743417600000000e-02
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -   Price ratio: 1.100715685323047
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -   investment_sol: 11.11 (type: <class 'float'>)
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,380 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-15 15:20:12
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-15 16:43:20
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -   price_history length: 9
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.082688033, 0.079433933, 0.080507211, 0.081770758, 0.083087227]
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.083087227, 0.085281996, 0.08431809, 0.085238737, 0.087434176]
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -   Initial price: 8.268803299999999e-02
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -   Final price: 8.743417600000000e-02
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0573981848135148
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -   initial_sol: 11.11
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -   initial_price: 8.268803299999999e-02
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -   final_price: 8.743417600000000e-02
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0573981848135148
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -   active_bin_index: 5
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 5 bins): 0.8050724637681159
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG - 
Calculating token values for 5 activated bins:
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.310044470051396e-02 = 8.268803299999999e-02 * 1.004987562112089
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.937588821984094e+00 = 0.16101449275362317 / 8.310044470051396e-02
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -     Final value: 1.694114820769899e-01 = 1.937588821984094e+00 * 8.743417600000000e-02
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.694114820769899e-01 = 0.16101449275362317 * (8.743417600000000e-02 / 8.310044470051396e-02)
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.393144914751910e-02 = 8.268803299999999e-02 * 1.0150374377332099
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.918404774241677e+00 = 0.16101449275362317 / 8.393144914751910e-02
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -     Final value: 1.677341406702871e-01 = 1.918404774241677e+00 * 8.743417600000000e-02
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.677341406702871e-01 = 0.16101449275362317 * (8.743417600000000e-02 / 8.393144914751910e-02)
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.477076363899429e-02 = 8.268803299999999e-02 * 1.025187812110542
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.899410667566017e+00 = 0.16101449275362317 / 8.477076363899429e-02
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -     Final value: 1.660734066042446e-01 = 1.899410667566017e+00 * 8.743417600000000e-02
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.660734066042446e-01 = 0.16101449275362317 * (8.743417600000000e-02 / 8.477076363899429e-02)
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.561847127538423e-02 = 8.268803299999999e-02 * 1.0354396902316474
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.880604621352492e+00 = 0.16101449275362317 / 8.561847127538423e-02
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -     Final value: 1.644291154497471e-01 = 1.880604621352492e+00 * 8.743417600000000e-02
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.644291154497471e-01 = 0.16101449275362317 * (8.743417600000000e-02 / 8.561847127538423e-02)
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.647465598813808e-02 = 8.268803299999999e-02 * 1.045794087133964
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.861984773616328e+00 = 0.16101449275362317 / 8.647465598813808e-02
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -     Final value: 1.628011044056902e-01 = 1.861984773616328e+00 * 8.743417600000000e-02
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.628011044056902e-01 = 0.16101449275362317 * (8.743417600000000e-02 / 8.647465598813808e-02)
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.304927536231883 = 11.11 - 0.8050724637681159
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -   Total token value: 8.304492492069590e-01
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.304927536231883
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -   Final asset value: 1.113537678543884e+01
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.11
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.537678543884248e-02
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -   initial_sol: 11.11
2025-07-15 17:58:05,381 - DEEP_DEBUG - DEBUG -   initial_price: 8.268803299999999e-02
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -   final_price: 8.743417600000000e-02
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0573981848135148
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -   active_bin_index: 5
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 5 bins): 1.131387794724364
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG - 
Calculating token values for 5 activated bins:
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23975880672802288
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.310044470051396e-02 = 8.268803299999999e-02 * 1.004987562112089
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.885168756823031e+00 = 0.23975880672802288 / 8.310044470051396e-02
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -     Final value: 2.522623528737661e-01 = 2.885168756823031e+00 * 8.743417600000000e-02
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.522623528737661e-01 = 0.23975880672802288 * (8.743417600000000e-02 / 8.310044470051396e-02)
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23281077902439942
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.393144914751910e-02 = 8.268803299999999e-02 * 1.0150374377332099
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.773820557002512e+00 = 0.23281077902439942 / 8.393144914751910e-02
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -     Final value: 2.425267147733756e-01 = 2.773820557002512e+00 * 8.743417600000000e-02
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.425267147733756e-01 = 0.23281077902439942 * (8.743417600000000e-02 / 8.393144914751910e-02)
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2260701551328243
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.477076363899429e-02 = 8.268803299999999e-02 * 1.025187812110542
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.666841083272166e+00 = 0.2260701551328243 / 8.477076363899429e-02
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -     Final value: 2.331730526388492e-01 = 2.666841083272166e+00 * 8.743417600000000e-02
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.331730526388493e-01 = 0.2260701551328243 * (8.743417600000000e-02 / 8.477076363899429e-02)
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21953693505329777
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.561847127538423e-02 = 8.268803299999999e-02 * 1.0354396902316474
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.564130517434453e+00 = 0.21953693505329777 / 8.561847127538423e-02
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -     Final value: 2.241926389483350e-01 = 2.564130517434453e+00 * 8.743417600000000e-02
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.241926389483350e-01 = 0.21953693505329777 * (8.743417600000000e-02 / 8.561847127538423e-02)
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2132111187858197
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.647465598813808e-02 = 8.268803299999999e-02 * 1.045794087133964
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.465590829468768e+00 = 0.2132111187858197 / 8.647465598813808e-02
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -     Final value: 2.155769025277582e-01 = 2.465590829468768e+00 * 8.743417600000000e-02
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.155769025277582e-01 = 0.2132111187858197 * (8.743417600000000e-02 / 8.647465598813808e-02)
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.978612205275635 = 11.11 - 1.131387794724364
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -   Total token value: 1.167731661762084e+00
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.978612205275635
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -   Final asset value: 1.114634386703772e+01
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.11
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -   PnL from assets: 3.634386703771852e-02
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,382 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,383 - DEEP_DEBUG - DEBUG -     PnL: 3.648678543884248e-02
2025-07-15 17:58:05,383 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.111000000000000e-02
2025-07-15 17:58:05,383 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.537678543884248e-02
2025-07-15 17:58:05,383 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,383 - DEEP_DEBUG - DEBUG -     PnL: 4.745386703771853e-02
2025-07-15 17:58:05,383 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.111000000000000e-02
2025-07-15 17:58:05,383 - DEEP_DEBUG - DEBUG -     PnL from IL: 3.634386703771852e-02
2025-07-15 17:58:05,383 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG -   position_id: pos_06-15-16-40-12_14735974
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (from CSV: 9.44)
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG -   Total points: 22
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749996000, 'close': 0.088952893, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750071600, 'close': 0.08155361, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG -   Valid prices: 22
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG -   Min price: 7.657622900000000e-02
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG -   Max price: 9.486903200000001e-02
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2388835705137689
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (type: <class 'float'>)
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-15 16:40:12
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-16 13:34:41
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG -   price_history length: 22
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.088952893, 0.084744888, 0.09245484, 0.093194113, 0.089887391]
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.083324532, 0.086707898, 0.082587892, 0.081119465, 0.08155361]
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG -   Initial price: 8.895289300000001e-02
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG -   Final price: 8.155361000000000e-02
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9168179611651304
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG -   initial_price: 8.895289300000001e-02
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG -   final_price: 8.155361000000000e-02
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9168179611651304
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.44 = 9.44 - 0
2025-07-15 17:58:05,384 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.44
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG -   Final asset value: 9.440000000000000e+00
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG -   initial_price: 8.895289300000001e-02
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG -   final_price: 8.155361000000000e-02
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9168179611651304
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.44 = 9.44 - 0
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.44
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG -   Final asset value: 9.440000000000000e+00
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG -     PnL: 9.440000000000000e-03
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG -     PnL: 9.440000000000000e-03
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,385 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,386 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,386 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,386 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,386 - DEEP_DEBUG - DEBUG -   position_id: pos_06-15-16-43-20_5714639
2025-07-15 17:58:05,386 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1087 (from CSV: 11.1087)
2025-07-15 17:58:05,386 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.1517 (from CSV: 0.1517)
2025-07-15 17:58:05,386 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,386 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,386 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,386 - DEEP_DEBUG - DEBUG -   Total points: 18
2025-07-15 17:58:05,386 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749996000, 'close': 0.088952893, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,386 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750057200, 'close': 0.083324532, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,386 - DEEP_DEBUG - DEBUG -   Valid prices: 18
2025-07-15 17:58:05,386 - DEEP_DEBUG - DEBUG -   Min price: 7.657622900000000e-02
2025-07-15 17:58:05,386 - DEEP_DEBUG - DEBUG -   Max price: 9.486903200000001e-02
2025-07-15 17:58:05,386 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2388835705137689
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1087 (type: <class 'float'>)
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.1517 (type: <class 'float'>)
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-15 16:43:20
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-16 09:17:22
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG -   price_history length: 18
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.088952893, 0.084744888, 0.09245484, 0.093194113, 0.089887391]
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.082773643, 0.081467814, 0.078338159, 0.082320975, 0.083324532]
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG -   Initial price: 8.895289300000001e-02
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG -   Final price: 8.332453200000001e-02
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9367264985974093
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1087
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG -   initial_price: 8.895289300000001e-02
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG -   final_price: 8.332453200000001e-02
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9367264985974093
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.1087 = 11.1087 - 0
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.1087
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG -   Final asset value: 1.110870000000000e+01
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1087
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1087
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG -   initial_price: 8.895289300000001e-02
2025-07-15 17:58:05,387 - DEEP_DEBUG - DEBUG -   final_price: 8.332453200000001e-02
2025-07-15 17:58:05,388 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9367264985974093
2025-07-15 17:58:05,388 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,388 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,388 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,388 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,388 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,388 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.1087 = 11.1087 - 0
2025-07-15 17:58:05,388 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,388 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,388 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.1087
2025-07-15 17:58:05,388 - DEEP_DEBUG - DEBUG -   Final asset value: 1.110870000000000e+01
2025-07-15 17:58:05,388 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1087
2025-07-15 17:58:05,388 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,388 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,388 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,388 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,388 - DEEP_DEBUG - DEBUG -     PnL: 1.110870000000000e-02
2025-07-15 17:58:05,388 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110870000000000e-02
2025-07-15 17:58:05,388 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,388 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,388 - DEEP_DEBUG - DEBUG -     PnL: 1.110870000000000e-02
2025-07-15 17:58:05,388 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110870000000000e-02
2025-07-15 17:58:05,388 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,389 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,389 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for catwifmask-SOL
2025-07-15 17:58:05,389 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,389 - DEEP_DEBUG - DEBUG -   position_id: pos_06-16-14-56-22_28651007
2025-07-15 17:58:05,389 - DEEP_DEBUG - DEBUG -   investment_sol: 8.8788 (from CSV: 8.8788)
2025-07-15 17:58:05,389 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01067 (from CSV: 0.01067)
2025-07-15 17:58:05,389 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,389 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:05,389 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,389 - DEEP_DEBUG - DEBUG -   Total points: 12
2025-07-15 17:58:05,389 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750078200, 'close': 0.014117468, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,389 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750084800, 'close': 0.015139868, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,389 - DEEP_DEBUG - DEBUG -   Valid prices: 12
2025-07-15 17:58:05,389 - DEEP_DEBUG - DEBUG -   Min price: 1.260043700000000e-02
2025-07-15 17:58:05,389 - DEEP_DEBUG - DEBUG -   Max price: 1.513986800000000e-02
2025-07-15 17:58:05,389 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2015351531061977
2025-07-15 17:58:05,389 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,389 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,389 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,389 - DEEP_DEBUG - DEBUG -   investment_sol: 8.8788 (type: <class 'float'>)
2025-07-15 17:58:05,389 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01067 (type: <class 'float'>)
2025-07-15 17:58:05,389 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-16 14:56:22
2025-07-15 17:58:05,389 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-16 16:45:53
2025-07-15 17:58:05,389 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:05,389 - DEEP_DEBUG - DEBUG -   price_history length: 12
2025-07-15 17:58:05,389 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,389 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.014117468, 0.013296846, 0.013281533, 0.013464095, 0.012956045]
2025-07-15 17:58:05,389 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.012600437, 0.014001586, 0.013965364, 0.014869141, 0.015139868]
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -   Initial price: 1.411746800000000e-02
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -   Final price: 1.513986800000000e-02
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0724209185386502
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -   initial_sol: 8.8788
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -   initial_price: 1.411746800000000e-02
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -   final_price: 1.513986800000000e-02
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0724209185386502
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -   active_bin_index: 7
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 7 bins): 1.243032
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG - 
Calculating token values for 7 activated bins:
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.177576
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.418787974851543e-02 = 1.411746800000000e-02 * 1.004987562112089
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.251603503466267e+01 = 0.177576 / 1.418787974851543e-02
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Final value: 1.894911183081682e-01 = 1.251603503466267e+01 * 1.513986800000000e-02
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.894911183081682e-01 = 0.177576 * (1.513986800000000e-02 / 1.418787974851543e-02)
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.177576
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.432975854600058e-02 = 1.411746800000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.239211389570561e+01 = 0.177576 / 1.432975854600058e-02
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Final value: 1.876149686219487e-01 = 1.239211389570561e+01 * 1.513986800000000e-02
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.876149686219487e-01 = 0.177576 * (1.513986800000000e-02 / 1.432975854600058e-02)
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.177576
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.447305613146059e-02 = 1.411746800000000e-02 * 1.025187812110542
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.226941969871842e+01 = 0.177576 / 1.447305613146059e-02
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Final value: 1.857573946751967e-01 = 1.226941969871842e+01 * 1.513986800000000e-02
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.857573946751967e-01 = 0.177576 * (1.513986800000000e-02 / 1.447305613146059e-02)
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.177576
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.461778669277519e-02 = 1.411746800000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.214794029576082e+01 = 0.177576 / 1.461778669277519e-02
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Final value: 1.839182125496997e-01 = 1.214794029576082e+01 * 1.513986800000000e-02
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.839182125496997e-01 = 0.177576 * (1.513986800000000e-02 / 1.461778669277519e-02)
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.177576
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.476396455970295e-02 = 1.411746800000000e-02 * 1.045794087133964
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.202766365916913e+01 = 0.177576 / 1.476396455970295e-02
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Final value: 1.820972401482175e-01 = 1.202766365916913e+01 * 1.513986800000000e-02
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.820972401482175e-01 = 0.177576 * (1.513986800000000e-02 / 1.476396455970295e-02)
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 2 more bins processed)
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 7.6357680000000006 = 8.8788 - 1.243032
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -   Total token value: 1.287682436604885e+00
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -   Remaining SOL: 7.6357680000000006
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -   Final asset value: 8.923450436604885e+00
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.8788
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -   PnL from assets: 4.465043660488455e-02
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -   initial_sol: 8.8788
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -   initial_price: 1.411746800000000e-02
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -   final_price: 1.513986800000000e-02
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0724209185386502
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -   active_bin_index: 7
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 7 bins): 1.6396952727272724
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG - 
Calculating token values for 7 activated bins:
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2636734545454545
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.418787974851543e-02 = 1.411746800000000e-02 * 1.004987562112089
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.858441565752941e+01 = 0.2636734545454545 / 1.418787974851543e-02
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Final value: 2.813655999121285e-01 = 1.858441565752941e+01 * 1.513986800000000e-02
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.813655999121284e-01 = 0.2636734545454545 * (1.513986800000000e-02 / 1.418787974851543e-02)
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.253130909090909
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.432975854600058e-02 = 1.411746800000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.766470162622227e+01 = 0.253130909090909 / 1.432975854600058e-02
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Final value: 2.674412508803906e-01 = 1.766470162622227e+01 * 1.513986800000000e-02
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.674412508803906e-01 = 0.253130909090909 * (1.513986800000000e-02 / 1.432975854600058e-02)
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.24302763636363628
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.447305613146059e-02 = 1.411746800000000e-02 * 1.025187812110542
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.679172900016318e+01 = 0.24302763636363628 / 1.447305613146059e-02
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Final value: 2.542245605542425e-01 = 1.679172900016318e+01 * 1.513986800000000e-02
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.542245605542425e-01 = 0.24302763636363628 * (1.513986800000000e-02 / 1.447305613146059e-02)
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2333636363636363
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.461778669277519e-02 = 1.411746800000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.596436186053910e+01 = 0.2333636363636363 / 1.461778669277519e-02
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Final value: 2.416983312727964e-01 = 1.596436186053910e+01 * 1.513986800000000e-02
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.416983312727964e-01 = 0.2333636363636363 * (1.513986800000000e-02 / 1.461778669277519e-02)
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.22413890909090903
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.476396455970295e-02 = 1.411746800000000e-02 * 1.045794087133964
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.518148517524068e+01 = 0.22413890909090903 / 1.476396455970295e-02
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Final value: 2.298456815971007e-01 = 1.518148517524068e+01 * 1.513986800000000e-02
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.298456815971007e-01 = 0.22413890909090903 * (1.513986800000000e-02 / 1.476396455970295e-02)
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 2 more bins processed)
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 7.239104727272728 = 8.8788 - 1.6396952727272724
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -   Total token value: 1.701320611862934e+00
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -   Remaining SOL: 7.239104727272728
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -   Final asset value: 8.940425339135661e+00
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.8788
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -   PnL from assets: 6.162533913566115e-02
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,390 - DEEP_DEBUG - DEBUG -     PnL: 5.352923660488455e-02
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.878800000000001e-03
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -     PnL from IL: 4.465043660488455e-02
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -     PnL: 7.050413913566116e-02
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.878800000000001e-03
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -     PnL from IL: 6.162533913566115e-02
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for catwifmask-SOL
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   position_id: pos_06-16-17-05-40_28657713
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   investment_sol: 8.88 (from CSV: 8.88)
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.06953 (from CSV: -0.06953)
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   Total points: 21
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750086000, 'close': 0.014140234, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750122000, 'close': 0.010477906, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   Valid prices: 21
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   Min price: 1.020633400000000e-02
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   Max price: 1.664670600000000e-02
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   Price ratio: 1.6310171703179617
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   investment_sol: 8.88 (type: <class 'float'>)
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.06953 (type: <class 'float'>)
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-16 17:05:40
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-17 03:04:39
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   price_history length: 21
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.014140234, 0.014712086, 0.014980752, 0.016646706, 0.015852106]
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.011930464, 0.010987153, 0.010206334, 0.010324286, 0.010477906]
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   Initial price: 1.414023400000000e-02
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   Final price: 1.047790600000000e-02
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   Price ratio: 0.7409994770949335
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   initial_sol: 8.88
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   initial_price: 1.414023400000000e-02
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   final_price: 1.047790600000000e-02
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   price_ratio: 0.7409994770949335
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.88 = 8.88 - 0
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.88
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   Final asset value: 8.880000000000001e+00
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.88
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   initial_sol: 8.88
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   initial_price: 1.414023400000000e-02
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   final_price: 1.047790600000000e-02
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   price_ratio: 0.7409994770949335
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.88 = 8.88 - 0
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.88
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   Final asset value: 8.880000000000001e+00
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.88
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -     PnL: 8.880000000000001e-03
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.880000000000001e-03
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -     PnL: 8.880000000000001e-03
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.880000000000001e-03
2025-07-15 17:58:05,391 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   position_id: pos_06-16-22-20-17_5884242
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   investment_sol: 11.11 (from CSV: 11.11)
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   Total points: 8
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750105200, 'close': 0.077467175, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750109400, 'close': 0.071561055, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   Valid prices: 8
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   Min price: 7.156105500000000e-02
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   Max price: 7.746717500000000e-02
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   Price ratio: 1.082532601007629
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   investment_sol: 11.11 (type: <class 'float'>)
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-16 22:20:17
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-16 23:37:38
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   price_history length: 8
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.077467175, 0.077467175, 0.077467175, 0.077467175, 0.075376891]
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.077467175, 0.075376891, 0.075376891, 0.072935139, 0.071561055]
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   Initial price: 7.746717500000000e-02
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   Final price: 7.156105500000000e-02
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9237597085475235
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   initial_sol: 11.11
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   initial_price: 7.746717500000000e-02
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   final_price: 7.156105500000000e-02
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9237597085475235
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.11 = 11.11 - 0
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.11
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111000000000000e+01
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.11
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   initial_sol: 11.11
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   initial_price: 7.746717500000000e-02
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   final_price: 7.156105500000000e-02
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9237597085475235
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.11 = 11.11 - 0
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.11
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111000000000000e+01
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.11
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,392 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -     PnL: 1.111000000000000e-02
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.111000000000000e-02
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -     PnL: 1.111000000000000e-02
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.111000000000000e-02
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   position_id: pos_06-16-23-33-57_14954656
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (from CSV: 9.44)
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   Total points: 17
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750107600, 'close': 0.072476329, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750165200, 'close': 0.07746934, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   Valid prices: 17
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   Min price: 6.606621800000000e-02
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   Max price: 8.932987700000000e-02
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   Price ratio: 1.3521263923416957
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (type: <class 'float'>)
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-16 23:33:57
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-17 15:12:30
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   price_history length: 17
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.072476329, 0.066066218, 0.073766215, 0.075981107, 0.07985168]
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.079425311, 0.073338832, 0.074745566, 0.078725248, 0.07746934]
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   Initial price: 7.247632900000001e-02
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   Final price: 7.746934000000000e-02
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0688916101145243
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   initial_price: 7.247632900000001e-02
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   final_price: 7.746934000000000e-02
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0688916101145243
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   active_bin_index: 6
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 6 bins): 1.1328
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG - 
Calculating token values for 6 activated bins:
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.283780919254371e-02 = 7.247632900000001e-02 * 1.004987562112089
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.592060388594543e+00 = 0.1888 / 7.283780919254371e-02
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -     Final value: 2.008052075445627e-01 = 2.592060388594543e+00 * 7.746934000000000e-02
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.008052075445627e-01 = 0.1888 * (7.746934000000000e-02 / 7.283780919254371e-02)
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.356618728446913e-02 = 7.247632900000001e-02 * 1.0150374377332099
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.566396424351033e+00 = 0.1888 / 7.356618728446913e-02
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -     Final value: 1.988170371728344e-01 = 2.566396424351033e+00 * 7.746934000000000e-02
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.988170371728344e-01 = 0.1888 * (7.746934000000000e-02 / 7.356618728446913e-02)
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.430184915731383e-02 = 7.247632900000001e-02 * 1.025187812110542
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.540986558763398e+00 = 0.1888 / 7.430184915731383e-02
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -     Final value: 1.968485516562717e-01 = 2.540986558763398e+00 * 7.746934000000000e-02
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.968485516562717e-01 = 0.1888 * (7.746934000000000e-02 / 7.430184915731383e-02)
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.504486764888697e-02 = 7.247632900000001e-02 * 1.0354396902316474
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.515828276003365e+00 = 0.1888 / 7.504486764888697e-02
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -     Final value: 1.948995560953185e-01 = 2.515828276003365e+00 * 7.746934000000000e-02
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.948995560953185e-01 = 0.1888 * (7.746934000000000e-02 / 7.504486764888697e-02)
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,393 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.579531632537584e-02 = 7.247632900000001e-02 * 1.045794087133964
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.490919085151846e+00 = 0.1888 / 7.579531632537584e-02
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG -     Final value: 1.929698575201173e-01 = 2.490919085151846e+00 * 7.746934000000000e-02
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.929698575201173e-01 = 0.1888 * (7.746934000000000e-02 / 7.579531632537584e-02)
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 1 more bins processed)
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.3072 = 9.44 - 1.1328
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG -   Total token value: 1.175399474860508e+00
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.3072
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG -   Final asset value: 9.482599474860507e+00
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG -   PnL from assets: 4.259947486050741e-02
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG -   initial_price: 7.247632900000001e-02
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG -   final_price: 7.746934000000000e-02
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0688916101145243
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG -   active_bin_index: 6
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 6 bins): 1.5232435374149653
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG - 
Calculating token values for 6 activated bins:
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.28033939393939383
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.283780919254371e-02 = 7.247632900000001e-02 * 1.004987562112089
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.848816940640380e+00 = 0.28033939393939383 / 7.283780919254371e-02
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG -     Final value: 2.981653081722294e-01 = 3.848816940640380e+00 * 7.746934000000000e-02
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.981653081722294e-01 = 0.28033939393939383 * (7.746934000000000e-02 / 7.283780919254371e-02)
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2691304885590599
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.356618728446913e-02 = 7.247632900000001e-02 * 1.0150374377332099
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.658344933907934e+00 = 0.2691304885590599 / 7.356618728446913e-02
2025-07-15 17:58:05,394 - DEEP_DEBUG - DEBUG -     Final value: 2.834095675221912e-01 = 3.658344933907934e+00 * 7.746934000000000e-02
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.834095675221913e-01 = 0.2691304885590599 * (7.746934000000000e-02 / 7.356618728446913e-02)
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2583886209029065
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.430184915731383e-02 = 7.247632900000001e-02 * 1.025187812110542
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.477553033112800e+00 = 0.2583886209029065 / 7.430184915731383e-02
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG -     Final value: 2.694037382902468e-01 = 3.477553033112800e+00 * 7.746934000000000e-02
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.694037382902468e-01 = 0.2583886209029065 * (7.746934000000000e-02 / 7.430184915731383e-02)
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.24811379097093378
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.504486764888697e-02 = 7.247632900000001e-02 * 1.0354396902316474
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.306205990418769e+00 = 0.24811379097093378 / 7.504486764888697e-02
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG -     Final value: 2.561295959817883e-01 = 3.306205990418769e+00 * 7.746934000000000e-02
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.561295959817883e-01 = 0.24811379097093378 * (7.746934000000000e-02 / 7.504486764888697e-02)
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23830599876314157
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.579531632537584e-02 = 7.247632900000001e-02 * 1.045794087133964
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.144072883608483e+00 = 0.23830599876314157 / 7.579531632537584e-02
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG -     Final value: 2.435692512050460e-01 = 3.144072883608483e+00 * 7.746934000000000e-02
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.435692512050460e-01 = 0.23830599876314157 * (7.746934000000000e-02 / 7.579531632537584e-02)
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 1 more bins processed)
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 7.916756462585035 = 9.44 - 1.5232435374149653
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG -   Total token value: 1.582382605520804e+00
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG -   Remaining SOL: 7.916756462585035
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG -   Final asset value: 9.499139068105839e+00
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG -   PnL from assets: 5.913906810583924e-02
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG -     PnL: 5.203947486050742e-02
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG -     PnL from IL: 4.259947486050741e-02
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG -     PnL: 6.857906810583925e-02
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,395 - DEEP_DEBUG - DEBUG -     PnL from IL: 5.913906810583924e-02
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG -   position_id: pos_06-16-23-37-38_5888897
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1044 (from CSV: 11.1044)
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.20889 (from CSV: 0.20889)
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG -   Total points: 21
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750109400, 'close': 0.071561055, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750121400, 'close': 0.071561055, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG -   Valid prices: 21
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG -   Min price: 7.156105500000000e-02
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG -   Max price: 7.156105500000000e-02
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1044 (type: <class 'float'>)
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.20889 (type: <class 'float'>)
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-16 23:37:38
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-17 02:51:44
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG -   price_history length: 21
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.071561055, 0.071561055, 0.071561055, 0.071561055, 0.071561055]
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.071561055, 0.071561055, 0.071561055, 0.071561055, 0.071561055]
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG -   Initial price: 7.156105500000000e-02
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG -   Final price: 7.156105500000000e-02
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1044
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG -   initial_price: 7.156105500000000e-02
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG -   final_price: 7.156105500000000e-02
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,397 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.1044 = 11.1044 - 0
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.1044
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG -   Final asset value: 1.110440000000000e+01
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1044
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1044
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG -   initial_price: 7.156105500000000e-02
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG -   final_price: 7.156105500000000e-02
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.1044 = 11.1044 - 0
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.1044
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG -   Final asset value: 1.110440000000000e+01
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1044
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG -     PnL: 1.110440000000000e-02
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110440000000000e-02
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG -     PnL: 7.773080000000000e-03
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG -     PnL from fees: 7.773080000000000e-03
2025-07-15 17:58:05,398 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,399 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,399 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for catwifmask-SOL
2025-07-15 17:58:05,399 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,399 - DEEP_DEBUG - DEBUG -   position_id: pos_06-17-08-02-14_28718840
2025-07-15 17:58:05,399 - DEEP_DEBUG - DEBUG -   investment_sol: 8.8785 (from CSV: 8.8785)
2025-07-15 17:58:05,399 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,399 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,399 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,399 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,399 - DEEP_DEBUG - DEBUG -   Total points: 1
2025-07-15 17:58:05,399 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750140000, 'close': 0.011804381, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,399 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750140000, 'close': 0.011804381, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,399 - DEEP_DEBUG - DEBUG -   Valid prices: 1
2025-07-15 17:58:05,399 - DEEP_DEBUG - DEBUG -   Min price: 1.180438100000000e-02
2025-07-15 17:58:05,399 - DEEP_DEBUG - DEBUG -   Max price: 1.180438100000000e-02
2025-07-15 17:58:05,399 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0
2025-07-15 17:58:05,399 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,399 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,399 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,399 - DEEP_DEBUG - DEBUG -   investment_sol: 8.8785 (type: <class 'float'>)
2025-07-15 17:58:05,399 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,400 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-17 08:02:14
2025-07-15 17:58:05,400 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-17 08:06:01
2025-07-15 17:58:05,400 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,400 - DEEP_DEBUG - DEBUG -   price_history length: 1
2025-07-15 17:58:05,402 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,402 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,402 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,402 - DEEP_DEBUG - DEBUG -   position_id: pos_06-17-16-11-07_6025235
2025-07-15 17:58:05,402 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1096 (from CSV: 11.1096)
2025-07-15 17:58:05,402 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.07439 (from CSV: 0.07439)
2025-07-15 17:58:05,402 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,402 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,402 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,402 - DEEP_DEBUG - DEBUG -   Total points: 13
2025-07-15 17:58:05,402 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750169400, 'close': 0.079281161, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,402 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750176600, 'close': 0.082790106, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,402 - DEEP_DEBUG - DEBUG -   Valid prices: 13
2025-07-15 17:58:05,402 - DEEP_DEBUG - DEBUG -   Min price: 7.928116100000000e-02
2025-07-15 17:58:05,402 - DEEP_DEBUG - DEBUG -   Max price: 8.538580500000000e-02
2025-07-15 17:58:05,402 - DEEP_DEBUG - DEBUG -   Price ratio: 1.07699993192582
2025-07-15 17:58:05,402 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,402 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,402 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,402 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1096 (type: <class 'float'>)
2025-07-15 17:58:05,402 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.07439 (type: <class 'float'>)
2025-07-15 17:58:05,402 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-17 16:11:07
2025-07-15 17:58:05,402 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-17 18:18:30
2025-07-15 17:58:05,402 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,402 - DEEP_DEBUG - DEBUG -   price_history length: 13
2025-07-15 17:58:05,402 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,402 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.079281161, 0.079281161, 0.079281161, 0.079281161, 0.08383189]
2025-07-15 17:58:05,402 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.082298233, 0.082298233, 0.085294414, 0.083574163, 0.082790106]
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -   Initial price: 7.928116100000000e-02
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -   Final price: 8.279010600000000e-02
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0442595057355428
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1096
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -   initial_price: 7.928116100000000e-02
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -   final_price: 8.279010600000000e-02
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0442595057355428
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -   active_bin_index: 4
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 4 bins): 0.6440347826086956
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG - 
Calculating token values for 4 activated bins:
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1610086956521739
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.967658071480603e-02 = 7.928116100000000e-02 * 1.004987562112089
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.020778178577814e+00 = 0.1610086956521739 / 7.967658071480603e-02
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Final value: 1.673004396069441e-01 = 2.020778178577814e+00 * 8.279010600000000e-02
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.673004396069442e-01 = 0.1610086956521739 * (8.279010600000000e-02 / 7.967658071480603e-02)
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1610086956521739
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.047334652195409e-02 = 7.928116100000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.000770473839420e+00 = 0.1610086956521739 / 8.047334652195409e-02
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Final value: 1.656439996108358e-01 = 2.000770473839420e+00 * 8.279010600000000e-02
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.656439996108358e-01 = 0.1610086956521739 * (8.279010600000000e-02 / 8.047334652195409e-02)
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1610086956521739
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.127807998717364e-02 = 7.928116100000000e-02 * 1.025187812110542
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.980960865187544e+00 = 0.1610086956521739 / 8.127807998717364e-02
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Final value: 1.640039600107285e-01 = 1.980960865187544e+00 * 8.279010600000000e-02
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.640039600107285e-01 = 0.1610086956521739 * (8.279010600000000e-02 / 8.127807998717364e-02)
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1610086956521739
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.209086078704536e-02 = 7.928116100000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.961347391274797e+00 = 0.1610086956521739 / 8.209086078704536e-02
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Final value: 1.623801584264639e-01 = 1.961347391274797e+00 * 8.279010600000000e-02
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.623801584264639e-01 = 0.1610086956521739 * (8.279010600000000e-02 / 8.209086078704536e-02)
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.465565217391305 = 11.1096 - 0.6440347826086956
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -   Total token value: 6.593285576549723e-01
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.465565217391305
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -   Final asset value: 1.112489377504628e+01
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1096
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.529377504627760e-02
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1096
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -   initial_price: 7.928116100000000e-02
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -   final_price: 8.279010600000000e-02
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0442595057355428
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -   active_bin_index: 4
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 4 bins): 0.9181436182724441
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG - 
Calculating token values for 4 activated bins:
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23975017454776268
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.967658071480603e-02 = 7.928116100000000e-02 * 1.004987562112089
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.009041959342147e+00 = 0.23975017454776268 / 7.967658071480603e-02
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Final value: 2.491189027723841e-01 = 3.009041959342147e+00 * 8.279010600000000e-02
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.491189027723840e-01 = 0.23975017454776268 * (8.279010600000000e-02 / 7.967658071480603e-02)
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23280239699815194
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.047334652195409e-02 = 7.928116100000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.892913083149098e+00 = 0.23280239699815194 / 8.047334652195409e-02
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Final value: 2.395045808027006e-01 = 2.892913083149098e+00 * 8.279010600000000e-02
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.395045808027006e-01 = 0.23280239699815194 * (8.279010600000000e-02 / 8.047334652195409e-02)
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2260620157933056
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.127807998717364e-02 = 7.928116100000000e-02 * 1.025187812110542
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.781340502002263e+00 = 0.2260620157933056 / 8.127807998717364e-02
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Final value: 2.302674749828605e-01 = 2.781340502002263e+00 * 8.279010600000000e-02
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.302674749828605e-01 = 0.2260620157933056 * (8.279010600000000e-02 / 8.127807998717364e-02)
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21952903093322387
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.209086078704536e-02 = 7.928116100000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.674220112062309e+00 = 0.21952903093322387 / 8.209086078704536e-02
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Final value: 2.213989665449705e-01 = 2.674220112062309e+00 * 8.279010600000000e-02
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.213989665449705e-01 = 0.21952903093322387 * (8.279010600000000e-02 / 8.209086078704536e-02)
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.191456381727557 = 11.1096 - 0.9181436182724441
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -   Total token value: 9.402899251029158e-01
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.191456381727557
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -   Final asset value: 1.113174630683047e+01
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1096
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.214630683047147e-02
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     PnL: 2.640337504627760e-02
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110960000000000e-02
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.529377504627760e-02
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     PnL: 2.992302683047147e-02
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     PnL from fees: 7.776720000000000e-03
2025-07-15 17:58:05,403 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.214630683047147e-02
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -   position_id: pos_06-17-19-35-55_6047694
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1096 (from CSV: 11.1096)
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03135 (from CSV: 0.03135)
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -   Total points: 8
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750181400, 'close': 0.080938544, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750185600, 'close': 0.084450769, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -   Valid prices: 8
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -   Min price: 8.093854400000000e-02
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -   Max price: 8.617712499999999e-02
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0647229458439478
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1096 (type: <class 'float'>)
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03135 (type: <class 'float'>)
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-17 19:35:55
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-17 20:47:32
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -   price_history length: 8
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.080938544, 0.081288472, 0.081308971, 0.084285191, 0.086177125]
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.084285191, 0.086177125, 0.086026062, 0.084363339, 0.084450769]
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -   Initial price: 8.093854400000000e-02
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -   Final price: 8.445076899999999e-02
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0433937259854835
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1096
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -   initial_price: 8.093854400000000e-02
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -   final_price: 8.445076899999999e-02
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0433937259854835
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -   active_bin_index: 4
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 4 bins): 0.6440347826086956
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG - 
Calculating token values for 4 activated bins:
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1610086956521739
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.134223001546205e-02 = 8.093854400000000e-02 * 1.004987562112089
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.979398593099407e+00 = 0.1610086956521739 / 8.134223001546205e-02
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -     Final value: 1.671617333447630e-01 = 1.979398593099407e+00 * 8.445076899999999e-02
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.671617333447630e-01 = 0.1610086956521739 * (8.445076899999999e-02 / 8.134223001546205e-02)
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1610086956521739
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.215565231561667e-02 = 8.093854400000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.959800587227135e+00 = 0.1610086956521739 / 8.215565231561667e-02
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -     Final value: 1.655066666779831e-01 = 1.959800587227135e+00 * 8.445076899999999e-02
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.655066666779831e-01 = 0.1610086956521739 * (8.445076899999999e-02 / 8.215565231561667e-02)
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1610086956521739
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.297720883877284e-02 = 8.093854400000000e-02 * 1.025187812110542
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.940396621016966e+00 = 0.1610086956521739 / 8.297720883877284e-02
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -     Final value: 1.638679868098843e-01 = 1.940396621016966e+00 * 8.445076899999999e-02
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.638679868098843e-01 = 0.1610086956521739 * (8.445076899999999e-02 / 8.297720883877284e-02)
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1610086956521739
2025-07-15 17:58:05,404 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.380698092716056e-02 = 8.093854400000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.921184773284125e+00 = 0.1610086956521739 / 8.380698092716056e-02
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     Final value: 1.622455314949350e-01 = 1.921184773284125e+00 * 8.445076899999999e-02
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.622455314949350e-01 = 0.1610086956521739 * (8.445076899999999e-02 / 8.380698092716056e-02)
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.465565217391305 = 11.1096 - 0.6440347826086956
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -   Total token value: 6.587819183275654e-01
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.465565217391305
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -   Final asset value: 1.112434713571887e+01
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1096
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.474713571887065e-02
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1096
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -   initial_price: 8.093854400000000e-02
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -   final_price: 8.445076899999999e-02
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0433937259854835
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -   active_bin_index: 4
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 4 bins): 0.9181436182724441
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG - 
Calculating token values for 4 activated bins:
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23975017454776268
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.134223001546205e-02 = 8.093854400000000e-02 * 1.004987562112089
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.947425642279409e+00 = 0.23975017454776268 / 8.134223001546205e-02
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     Final value: 2.489123620608150e-01 = 2.947425642279409e+00 * 8.445076899999999e-02
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.489123620608150e-01 = 0.23975017454776268 * (8.445076899999999e-02 / 8.134223001546205e-02)
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23280239699815194
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.215565231561667e-02 = 8.093854400000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.833674743446707e+00 = 0.23280239699815194 / 8.215565231561667e-02
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     Final value: 2.393060111799521e-01 = 2.833674743446707e+00 * 8.445076899999999e-02
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.393060111799521e-01 = 0.23280239699815194 * (8.445076899999999e-02 / 8.215565231561667e-02)
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2260620157933056
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.297720883877284e-02 = 8.093854400000000e-02 * 1.025187812110542
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.724386840156925e+00 = 0.2260620157933056 / 8.297720883877284e-02
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     Final value: 2.300765637047324e-01 = 2.724386840156925e+00 * 8.445076899999999e-02
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.300765637047324e-01 = 0.2260620157933056 * (8.445076899999999e-02 / 8.297720883877284e-02)
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21952903093322387
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.380698092716056e-02 = 8.093854400000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.619459960310751e+00 = 0.21952903093322387 / 8.380698092716056e-02
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     Final value: 2.212154080129524e-01 = 2.619459960310751e+00 * 8.445076899999999e-02
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.212154080129524e-01 = 0.21952903093322387 * (8.445076899999999e-02 / 8.380698092716056e-02)
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.191456381727557 = 11.1096 - 0.9181436182724441
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -   Total token value: 9.395103449584519e-01
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.191456381727557
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -   Final asset value: 1.113096672668601e+01
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1096
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.136672668600781e-02
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     PnL: 2.585673571887065e-02
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110960000000000e-02
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.474713571887065e-02
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     PnL: 2.914344668600781e-02
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     PnL from fees: 7.776720000000000e-03
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.136672668600781e-02
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for unstable coin-SOL
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -   position_id: pos_06-17-20-48-49_28757001
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -   investment_sol: 8.88 (from CSV: 8.88)
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02346 (from CSV: 0.02346)
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -   Total points: 8
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750185600, 'close': 0.009760772, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750189800, 'close': 0.009395066, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -   Valid prices: 8
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -   Min price: 9.382880999999999e-03
2025-07-15 17:58:05,405 - DEEP_DEBUG - DEBUG -   Max price: 9.835208000000000e-03
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0482076880224742
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   investment_sol: 8.88 (type: <class 'float'>)
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02346 (type: <class 'float'>)
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-17 20:48:49
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-17 21:56:40
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   price_history length: 8
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.009760772, 0.009835208, 0.009464844, 0.009446923, 0.009453411]
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.009446923, 0.009453411, 0.009382881, 0.009629702, 0.009395066]
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   Initial price: 9.760771999999999e-03
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   Final price: 9.395066000000001e-03
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9625330865222548
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   initial_sol: 8.88
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   initial_price: 9.760771999999999e-03
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   final_price: 9.395066000000001e-03
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9625330865222548
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.88 = 8.88 - 0
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.88
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   Final asset value: 8.880000000000001e+00
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.88
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   initial_sol: 8.88
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   initial_price: 9.760771999999999e-03
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   final_price: 9.395066000000001e-03
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9625330865222548
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.88 = 8.88 - 0
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.88
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   Final asset value: 8.880000000000001e+00
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.88
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -     PnL: 8.880000000000001e-03
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.880000000000001e-03
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -     PnL: 6.216000000000000e-03
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -     PnL from fees: 6.216000000000000e-03
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   position_id: pos_06-17-20-50-52_15125400
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (from CSV: 9.44)
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   Total points: 2
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750186200, 'close': 0.084655636, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750186800, 'close': 0.087637813, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   Valid prices: 2
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   Min price: 8.465563600000001e-02
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   Max price: 8.763781299999999e-02
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0352271525076013
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (type: <class 'float'>)
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-17 20:50:52
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-17 21:06:37
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,406 - DEEP_DEBUG - DEBUG -   price_history length: 2
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.084655636, 0.087637813]
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.084655636, 0.087637813]
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   Initial price: 8.465563600000001e-02
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   Final price: 8.763781299999999e-02
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0352271525076013
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   initial_price: 8.465563600000001e-02
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   final_price: 8.763781299999999e-02
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0352271525076013
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.5664
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.507786124268840e-02 = 8.465563600000001e-02 * 1.004987562112089
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.219143702513155e+00 = 0.1888 / 8.507786124268840e-02
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     Final value: 1.944809008209755e-01 = 2.219143702513155e+00 * 8.763781299999999e-02
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.944809008209755e-01 = 0.1888 * (8.763781299999999e-02 / 8.507786124268840e-02)
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.592863985511529e-02 = 8.465563600000001e-02 * 1.0150374377332099
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.197171982686292e+00 = 0.1888 / 8.592863985511529e-02
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     Final value: 1.925553473475005e-01 = 2.197171982686292e+00 * 8.763781299999999e-02
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.925553473475005e-01 = 0.1888 * (8.763781299999999e-02 / 8.592863985511529e-02)
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.678792625366644e-02 = 8.465563600000001e-02 * 1.025187812110542
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.175417804639893e+00 = 0.1888 / 8.678792625366644e-02
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     Final value: 1.906488587599015e-01 = 2.175417804639893e+00 * 8.763781299999999e-02
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.906488587599015e-01 = 0.1888 * (8.763781299999999e-02 / 8.678792625366644e-02)
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.8736 = 9.44 - 0.5664
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   Total token value: 5.776851069283775e-01
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.8736
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   Final asset value: 9.451285106928378e+00
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.128510692837814e-02
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   initial_price: 8.465563600000001e-02
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   final_price: 8.763781299999999e-02
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0352271525076013
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.8078585034013602
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.28033939393939383
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.507786124268840e-02 = 8.465563600000001e-02 * 1.004987562112089
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.295092164337714e+00 = 0.28033939393939383 / 8.507786124268840e-02
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     Final value: 2.887746709159938e-01 = 3.295092164337714e+00 * 8.763781299999999e-02
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.887746709159938e-01 = 0.28033939393939383 * (8.763781299999999e-02 / 8.507786124268840e-02)
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2691304885590599
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.592863985511529e-02 = 8.465563600000001e-02 * 1.0150374377332099
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.132023141677120e+00 = 0.2691304885590599 / 8.592863985511529e-02
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     Final value: 2.744836584019719e-01 = 3.132023141677120e+00 * 8.763781299999999e-02
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.744836584019719e-01 = 0.2691304885590599 * (8.763781299999999e-02 / 8.592863985511529e-02)
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2583886209029065
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.678792625366644e-02 = 8.465563600000001e-02 * 1.025187812110542
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.977241559473149e+00 = 0.2583886209029065 / 8.678792625366644e-02
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     Final value: 2.609189390449361e-01 = 2.977241559473149e+00 * 8.763781299999999e-02
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.609189390449362e-01 = 0.2583886209029065 * (8.763781299999999e-02 / 8.678792625366644e-02)
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.632141496598638 = 9.44 - 0.8078585034013602
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   Total token value: 8.241772683629019e-01
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.632141496598638
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   Final asset value: 9.456318764961541e+00
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.631876496154128e-02
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     PnL: 2.072510692837814e-02
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.128510692837814e-02
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     PnL: 2.575876496154128e-02
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,407 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.631876496154128e-02
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -   position_id: pos_06-17-21-06-37_15125766
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (from CSV: 9.44)
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -   Total points: 14
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750186800, 'close': 0.087637813, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750194600, 'close': 0.091649472, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -   Valid prices: 14
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -   Min price: 8.497180700000000e-02
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -   Max price: 9.563580300000001e-02
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -   Price ratio: 1.125500402739464
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (type: <class 'float'>)
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-17 21:06:37
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-17 23:11:13
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -   price_history length: 14
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.087637813, 0.087504791, 0.085927718, 0.089378895, 0.092285249]
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.093242732, 0.090301815, 0.089560446, 0.095635803, 0.091649472]
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -   Initial price: 8.763781299999999e-02
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -   Final price: 9.164947200000000e-02
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0457754348570976
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -   initial_price: 8.763781299999999e-02
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -   final_price: 9.164947200000000e-02
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0457754348570976
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -   active_bin_index: 4
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 4 bins): 0.7552
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG - 
Calculating token values for 4 activated bins:
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.807491203570512e-02 = 8.763781299999999e-02 * 1.004987562112089
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.143629731057369e+00 = 0.1888 / 8.807491203570512e-02
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -     Final value: 1.964625330149098e-01 = 2.143629731057369e+00 * 9.164947200000000e-02
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.964625330149098e-01 = 0.1888 * (9.164947200000000e-02 / 8.807491203570512e-02)
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.895566115606218e-02 = 8.763781299999999e-02 * 1.0150374377332099
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.122405674314226e+00 = 0.1888 / 8.895566115606218e-02
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -     Final value: 1.945173594207028e-01 = 2.122405674314226e+00 * 9.164947200000000e-02
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.945173594207028e-01 = 0.1888 * (9.164947200000000e-02 / 8.895566115606218e-02)
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.984521776762280e-02 = 8.763781299999999e-02 * 1.025187812110542
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.101391756746759e+00 = 0.1888 / 8.984521776762280e-02
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -     Final value: 1.925914449709929e-01 = 2.101391756746759e+00 * 9.164947200000000e-02
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.925914449709929e-01 = 0.1888 * (9.164947200000000e-02 / 8.984521776762280e-02)
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.074366994529903e-02 = 8.763781299999999e-02 * 1.0354396902316474
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.080585897769068e+00 = 0.1888 / 9.074366994529903e-02
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -     Final value: 1.906845989811811e-01 = 2.080585897769068e+00 * 9.164947200000000e-02
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.906845989811811e-01 = 0.1888 * (9.164947200000000e-02 / 9.074366994529903e-02)
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.6848 = 9.44 - 0.7552
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,408 - DEEP_DEBUG - DEBUG -   Total token value: 7.742559363877866e-01
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.6848
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -   Final asset value: 9.459055936387786e+00
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.905593638778669e-02
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -   initial_price: 8.763781299999999e-02
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -   final_price: 9.164947200000000e-02
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0457754348570976
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -   active_bin_index: 4
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 4 bins): 1.055972294372294
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG - 
Calculating token values for 4 activated bins:
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.28033939393939383
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.807491203570512e-02 = 8.763781299999999e-02 * 1.004987562112089
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.182965358236698e+00 = 0.28033939393939383 / 8.807491203570512e-02
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -     Final value: 2.917170944766842e-01 = 3.182965358236698e+00 * 9.164947200000000e-02
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.917170944766842e-01 = 0.28033939393939383 * (9.164947200000000e-02 / 8.807491203570512e-02)
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2691304885590599
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.895566115606218e-02 = 8.763781299999999e-02 * 1.0150374377332099
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.025445318054602e+00 = 0.2691304885590599 / 8.895566115606218e-02
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -     Final value: 2.772804659645763e-01 = 3.025445318054602e+00 * 9.164947200000000e-02
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.772804659645763e-01 = 0.2691304885590599 * (9.164947200000000e-02 / 8.895566115606218e-02)
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2583886209029065
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.984521776762280e-02 = 8.763781299999999e-02 * 1.025187812110542
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.875930709759168e+00 = 0.2583886209029065 / 8.984521776762280e-02
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -     Final value: 2.635775310580130e-01 = 2.875930709759168e+00 * 9.164947200000000e-02
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.635775310580130e-01 = 0.2583886209029065 * (9.164947200000000e-02 / 8.984521776762280e-02)
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.24811379097093378
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.074366994529903e-02 = 8.763781299999999e-02 * 1.0354396902316474
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.734226983771966e+00 = 0.24811379097093378 / 9.074366994529903e-02
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -     Final value: 2.505904593908533e-01 = 2.734226983771966e+00 * 9.164947200000000e-02
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.505904593908532e-01 = 0.24811379097093378 * (9.164947200000000e-02 / 9.074366994529903e-02)
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.384027705627705 = 9.44 - 1.055972294372294
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -   Total token value: 1.083165550890127e+00
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.384027705627705
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -   Final asset value: 9.467193256517833e+00
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.719325651783322e-02
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -     PnL: 2.849593638778669e-02
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.905593638778669e-02
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -     PnL: 3.663325651783322e-02
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,409 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.719325651783322e-02
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   position_id: pos_06-17-21-09-38_6053169
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   investment_sol: 11.11 (from CSV: 11.11)
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   Total points: 2
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750186800, 'close': 0.087637813, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750187400, 'close': 0.087504791, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   Valid prices: 2
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   Min price: 8.750479100000000e-02
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   Max price: 8.763781299999999e-02
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0015201681928478
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   investment_sol: 11.11 (type: <class 'float'>)
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-17 21:09:38
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-17 21:18:46
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   price_history length: 2
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.087637813, 0.087504791]
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.087637813, 0.087504791]
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   Initial price: 8.763781299999999e-02
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   Final price: 8.750479100000000e-02
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   Price ratio: 0.998482139210845
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   initial_sol: 11.11
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   initial_price: 8.763781299999999e-02
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   final_price: 8.750479100000000e-02
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   price_ratio: 0.998482139210845
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.11 = 11.11 - 0
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.11
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111000000000000e+01
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.11
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   initial_sol: 11.11
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   initial_price: 8.763781299999999e-02
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   final_price: 8.750479100000000e-02
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   price_ratio: 0.998482139210845
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.11 = 11.11 - 0
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.11
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111000000000000e+01
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.11
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -     PnL: 1.111000000000000e-02
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.111000000000000e-02
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -     PnL: 1.111000000000000e-02
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.111000000000000e-02
2025-07-15 17:58:05,410 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   position_id: pos_06-17-21-18-46_6054367
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1098 (from CSV: 11.1098)
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   Total points: 14
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750187400, 'close': 0.087504791, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750195200, 'close': 0.087049089, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   Valid prices: 14
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   Min price: 8.497180700000000e-02
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   Max price: 9.563580300000001e-02
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   Price ratio: 1.125500402739464
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1098 (type: <class 'float'>)
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-17 21:18:46
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-17 23:22:17
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   price_history length: 14
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.087504791, 0.085927718, 0.089378895, 0.092285249, 0.09111325]
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.090301815, 0.089560446, 0.095635803, 0.091649472, 0.087049089]
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   Initial price: 8.750479100000000e-02
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   Final price: 8.704908900000000e-02
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9947922622888157
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1098
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   initial_price: 8.750479100000000e-02
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   final_price: 8.704908900000000e-02
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9947922622888157
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.1098 = 11.1098 - 0
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.1098
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   Final asset value: 1.110980000000000e+01
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1098
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1098
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   initial_price: 8.750479100000000e-02
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   final_price: 8.704908900000000e-02
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9947922622888157
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.1098 = 11.1098 - 0
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.1098
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   Final asset value: 1.110980000000000e+01
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1098
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -     PnL: 1.110980000000000e-02
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110980000000000e-02
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -     PnL: 1.110980000000000e-02
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110980000000000e-02
2025-07-15 17:58:05,411 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for unstable coin-SOL
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   position_id: pos_06-17-22-19-01_28762337
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   investment_sol: 8.8789 (from CSV: 8.8789)
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.0141 (from CSV: 0.0141)
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   Total points: 50
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750190400, 'close': 0.011230322, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750366800, 'close': 0.009002816, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   Valid prices: 50
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   Min price: 7.584855000000000e-03
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   Max price: 1.264711300000000e-02
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   Price ratio: 1.6674165821231917
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   investment_sol: 8.8789 (type: <class 'float'>)
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.0141 (type: <class 'float'>)
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-17 22:19:01
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-19 23:28:02
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   price_history length: 50
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.011230322, 0.011482864, 0.011482864, 0.011482864, 0.010615046]
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.008671355, 0.00824943, 0.007584855, 0.008301017, 0.009002816]
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   Initial price: 1.123032200000000e-02
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   Final price: 9.002816000000000e-03
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   Price ratio: 0.8016525260807305
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   initial_sol: 8.8789
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   initial_price: 1.123032200000000e-02
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   final_price: 9.002816000000000e-03
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8016525260807305
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.8789 = 8.8789 - 0
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.8789
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   Final asset value: 8.878900000000000e+00
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.8789
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   initial_sol: 8.8789
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   initial_price: 1.123032200000000e-02
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   final_price: 9.002816000000000e-03
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8016525260807305
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.8789 = 8.8789 - 0
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.8789
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   Final asset value: 8.878900000000000e+00
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.8789
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,412 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -     PnL: 8.878900000000000e-03
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.878900000000000e-03
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -     PnL: 8.878900000000000e-03
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.878900000000000e-03
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   position_id: pos_06-17-23-11-13_15149792
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (from CSV: 9.44)
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   Total points: 12
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750194600, 'close': 0.091649472, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750201200, 'close': 0.087049089, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   Valid prices: 12
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   Min price: 8.704908900000000e-02
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   Max price: 9.164947200000000e-02
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0528481464062192
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (type: <class 'float'>)
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-17 23:11:13
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-18 01:06:38
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   price_history length: 12
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.091649472, 0.087049089, 0.087049089, 0.087049089, 0.087049089]
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.087049089, 0.087049089, 0.087049089, 0.087049089, 0.087049089]
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   Initial price: 9.164947200000000e-02
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   Final price: 8.704908900000000e-02
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9498045880722586
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   initial_price: 9.164947200000000e-02
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   final_price: 8.704908900000000e-02
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9498045880722586
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.44 = 9.44 - 0
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.44
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   Final asset value: 9.440000000000000e+00
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   initial_price: 9.164947200000000e-02
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   final_price: 8.704908900000000e-02
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9498045880722586
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.44 = 9.44 - 0
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.44
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   Final asset value: 9.440000000000000e+00
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,413 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG -     PnL: 9.440000000000000e-03
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG -     PnL: 9.440000000000000e-03
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG -   position_id: pos_06-18-01-17-37_15166369
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (from CSV: 9.44)
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG -   Total points: 9
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750201200, 'close': 0.086683547, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750215600, 'close': 0.087065448, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG -   Valid prices: 9
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG -   Min price: 8.349184300000000e-02
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG -   Max price: 8.813385000000000e-02
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG -   Price ratio: 1.055598329527832
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (type: <class 'float'>)
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-18 01:17:37
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-18 05:23:52
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG -   price_history length: 9
2025-07-15 17:58:05,414 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.086683547, 0.086683547, 0.086683547, 0.086683547, 0.08813385]
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.08813385, 0.084458325, 0.083491843, 0.08621048, 0.087065448]
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   Initial price: 8.668354700000000e-02
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   Final price: 8.706544800000000e-02
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0044056918898348
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   initial_price: 8.668354700000000e-02
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   final_price: 8.706544800000000e-02
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0044056918898348
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.44 = 9.44 - 0
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.44
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   Final asset value: 9.440000000000000e+00
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   initial_price: 8.668354700000000e-02
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   final_price: 8.706544800000000e-02
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0044056918898348
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.44 = 9.44 - 0
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.44
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   Final asset value: 9.440000000000000e+00
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -     PnL: 9.440000000000000e-03
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -     PnL: 9.440000000000000e-03
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,415 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,416 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,416 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,416 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,416 - DEEP_DEBUG - DEBUG -   position_id: pos_06-18-05-23-52_15192574
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (from CSV: 9.44)
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG -   Total points: 19
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750215600, 'close': 0.08944672, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750280400, 'close': 0.095888306, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG -   Valid prices: 19
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG -   Min price: 8.537246400000000e-02
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG -   Max price: 1.050034240000000e-01
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2299448684062815
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (type: <class 'float'>)
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-18 05:23:52
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-18 23:09:19
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG -   price_history length: 19
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.08944672, 0.093950057, 0.086787948, 0.088775043, 0.085372464]
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.101866233, 0.105003424, 0.10220919, 0.095965965, 0.095888306]
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG -   Initial price: 8.944671999999999e-02
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG -   Final price: 9.588830600000001e-02
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0720158995209663
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG -   initial_price: 8.944671999999999e-02
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG -   final_price: 9.588830600000001e-02
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0720158995209663
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG -   active_bin_index: 6
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 6 bins): 1.1328
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG - 
Calculating token values for 6 activated bins:
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,417 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.989284107172263e-02 = 8.944671999999999e-02 * 1.004987562112089
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.100278484349632e+00 = 0.1888 / 8.989284107172263e-02
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG -     Final value: 2.013921459925338e-01 = 2.100278484349632e+00 * 9.588830600000001e-02
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.013921459925338e-01 = 0.1888 * (9.588830600000001e-02 / 8.989284107172263e-02)
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.079176948243985e-02 = 8.944671999999999e-02 * 1.0150374377332099
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.079483647870923e+00 = 0.1888 / 9.079176948243985e-02
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG -     Final value: 1.993981643490434e-01 = 2.079483647870923e+00 * 9.588830600000001e-02
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.993981643490434e-01 = 0.1888 * (9.588830600000001e-02 / 9.079176948243985e-02)
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.169968717726425e-02 = 8.944671999999999e-02 * 1.025187812110542
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.058894700862300e+00 = 0.1888 / 9.169968717726425e-02
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG -     Final value: 1.974239250980627e-01 = 2.058894700862300e+00 * 9.588830600000001e-02
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.974239250980628e-01 = 0.1888 * (9.588830600000001e-02 / 9.169968717726425e-02)
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.261668404903689e-02 = 8.944671999999999e-02 * 1.0354396902316474
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.038509604814159e+00 = 0.1888 / 9.261668404903689e-02
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG -     Final value: 1.954692327703591e-01 = 2.038509604814159e+00 * 9.588830600000001e-02
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.954692327703592e-01 = 0.1888 * (9.588830600000001e-02 / 9.261668404903689e-02)
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.354285088952727e-02 = 8.944671999999999e-02 * 1.045794087133964
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.018326341400157e+00 = 0.1888 / 9.354285088952727e-02
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG -     Final value: 1.935338938320388e-01 = 2.018326341400157e+00 * 9.588830600000001e-02
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.935338938320387e-01 = 0.1888 * (9.588830600000001e-02 / 9.354285088952727e-02)
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 1 more bins processed)
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.3072 = 9.44 - 1.1328
2025-07-15 17:58:05,418 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -   Total token value: 1.178835078707423e+00
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.3072
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -   Final asset value: 9.486035078707422e+00
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -   PnL from assets: 4.603507870742263e-02
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -   initial_price: 8.944671999999999e-02
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -   final_price: 9.588830600000001e-02
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0720158995209663
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -   active_bin_index: 6
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 6 bins): 1.5232435374149653
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG - 
Calculating token values for 6 activated bins:
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.28033939393939383
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.989284107172263e-02 = 8.944671999999999e-02 * 1.004987562112089
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.118595325246423e+00 = 0.28033939393939383 / 8.989284107172263e-02
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -     Final value: 2.990368228373985e-01 = 3.118595325246423e+00 * 9.588830600000001e-02
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.990368228373986e-01 = 0.28033939393939383 * (9.588830600000001e-02 / 8.989284107172263e-02)
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2691304885590599
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.079176948243985e-02 = 8.944671999999999e-02 * 1.0150374377332099
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.964260858591513e+00 = 0.2691304885590599 / 9.079176948243985e-02
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -     Final value: 2.842379522724458e-01 = 2.964260858591513e+00 * 9.588830600000001e-02
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.842379522724458e-01 = 0.2691304885590599 * (9.588830600000001e-02 / 9.079176948243985e-02)
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2583886209029065
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.169968717726425e-02 = 8.944671999999999e-02 * 1.025187812110542
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.817769927648898e+00 = 0.2583886209029065 / 9.169968717726425e-02
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -     Final value: 2.701911850599955e-01 = 2.817769927648898e+00 * 9.588830600000001e-02
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.701911850599955e-01 = 0.2583886209029065 * (9.588830600000001e-02 / 9.169968717726425e-02)
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.24811379097093378
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.261668404903689e-02 = 8.944671999999999e-02 * 1.0354396902316474
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.678931917272781e+00 = 0.24811379097093378 / 9.261668404903689e-02
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -     Final value: 2.568782434366191e-01 = 2.678931917272781e+00 * 9.588830600000001e-02
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.568782434366191e-01 = 0.24811379097093378 * (9.588830600000001e-02 / 9.261668404903689e-02)
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23830599876314157
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.354285088952727e-02 = 8.944671999999999e-02 * 1.045794087133964
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.547559717252764e+00 = 0.23830599876314157 / 9.354285088952727e-02
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -     Final value: 2.442811857212065e-01 = 2.547559717252764e+00 * 9.588830600000001e-02
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.442811857212065e-01 = 0.23830599876314157 * (9.588830600000001e-02 / 9.354285088952727e-02)
2025-07-15 17:58:05,419 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 1 more bins processed)
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 7.916756462585035 = 9.44 - 1.5232435374149653
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   Total token value: 1.587007790305290e+00
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   Remaining SOL: 7.916756462585035
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   Final asset value: 9.503764252890324e+00
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   PnL from assets: 6.376425289032461e-02
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -     PnL: 5.547507870742263e-02
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -     PnL from IL: 4.603507870742263e-02
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -     PnL: 7.320425289032462e-02
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -     PnL from IL: 6.376425289032461e-02
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   position_id: pos_06-18-12-59-53_6151224
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   investment_sol: 11.11 (from CSV: 11.11)
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.12008 (from CSV: 0.12008)
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   Total points: 12
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750242600, 'close': 0.088585116, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750262400, 'close': 0.101411442, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   Valid prices: 12
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   Min price: 8.858511600000001e-02
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   Max price: 1.029062540000000e-01
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1616652847189362
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   investment_sol: 11.11 (type: <class 'float'>)
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.12008 (type: <class 'float'>)
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-18 12:59:53
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-18 18:24:52
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   price_history length: 12
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.088585116, 0.091889021, 0.096205897, 0.09853181, 0.102905887]
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.102042314, 0.101040527, 0.10065682, 0.096967712, 0.101411442]
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   Initial price: 8.858511600000001e-02
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   Final price: 1.014114420000000e-01
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1447909827199414
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   initial_sol: 11.11
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   initial_price: 8.858511600000001e-02
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   final_price: 1.014114420000000e-01
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1447909827199414
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   active_bin_index: 13
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 13 bins): 2.0931884057971017
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG - 
Calculating token values for 13 activated bins:
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.902693976825661e-02 = 8.858511600000001e-02 * 1.004987562112089
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.808604150302765e+00 = 0.16101449275362317 / 8.902693976825661e-02
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -     Final value: 1.834131548893881e-01 = 1.808604150302765e+00 * 1.014114420000000e-01
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.834131548893881e-01 = 0.16101449275362317 * (1.014114420000000e-01 / 8.902693976825661e-02)
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.991720916593918e-02 = 8.858511600000001e-02 * 1.0150374377332099
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.790697178517589e+00 = 0.16101449275362317 / 8.991720916593918e-02
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -     Final value: 1.815971830588001e-01 = 1.790697178517589e+00 * 1.014114420000000e-01
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.815971830588001e-01 = 0.16101449275362317 * (1.014114420000000e-01 / 8.991720916593918e-02)
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.081638125759857e-02 = 8.858511600000001e-02 * 1.025187812110542
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.772967503482761e+00 = 0.16101449275362317 / 9.081638125759857e-02
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -     Final value: 1.797991911473269e-01 = 1.772967503482761e+00 * 1.014114420000000e-01
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.797991911473269e-01 = 0.16101449275362317 * (1.014114420000000e-01 / 9.081638125759857e-02)
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.172454507017455e-02 = 8.858511600000001e-02 * 1.0354396902316474
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.755413369784912e+00 = 0.16101449275362317 / 9.172454507017455e-02
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -     Final value: 1.780190011359672e-01 = 1.755413369784912e+00 * 1.014114420000000e-01
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.780190011359672e-01 = 0.16101449275362317 * (1.014114420000000e-01 / 9.172454507017455e-02)
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:05,420 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.264179052087630e-02 = 8.858511600000001e-02 * 1.045794087133964
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.738033039391002e+00 = 0.16101449275362317 / 9.264179052087630e-02
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     Final value: 1.762564367682843e-01 = 1.738033039391002e+00 * 1.014114420000000e-01
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.762564367682843e-01 = 0.16101449275362317 * (1.014114420000000e-01 / 9.264179052087630e-02)
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 8 more bins processed)
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.016811594202897 = 11.11 - 2.0931884057971017
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -   Total token value: 2.247742422825687e+00
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.016811594202897
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -   Final asset value: 1.126455401702859e+01
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.11
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.545540170285857e-01
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -   initial_sol: 11.11
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -   initial_price: 8.858511600000001e-02
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -   final_price: 1.014114420000000e-01
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1447909827199414
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -   active_bin_index: 13
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 13 bins): 2.6342358168275246
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG - 
Calculating token values for 13 activated bins:
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23975880672802288
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.902693976825661e-02 = 8.858511600000001e-02 * 1.004987562112089
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.693103990231855e+00 = 0.23975880672802288 / 8.902693976825661e-02
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     Final value: 2.731115591053663e-01 = 2.693103990231855e+00 * 1.014114420000000e-01
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.731115591053663e-01 = 0.23975880672802288 * (1.014114420000000e-01 / 8.902693976825661e-02)
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23281077902439942
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.991720916593918e-02 = 8.858511600000001e-02 * 1.0150374377332099
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.589168204662080e+00 = 0.23281077902439942 / 8.991720916593918e-02
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     Final value: 2.625712812153326e-01 = 2.589168204662080e+00 * 1.014114420000000e-01
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.625712812153326e-01 = 0.23281077902439942 * (1.014114420000000e-01 / 8.991720916593918e-02)
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2260701551328243
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.081638125759857e-02 = 8.858511600000001e-02 * 1.025187812110542
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.489310320476011e+00 = 0.2260701551328243 / 9.081638125759857e-02
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     Final value: 2.524445491849545e-01 = 2.489310320476011e+00 * 1.014114420000000e-01
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.524445491849545e-01 = 0.2260701551328243 * (1.014114420000000e-01 / 9.081638125759857e-02)
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21953693505329777
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.172454507017455e-02 = 8.858511600000001e-02 * 1.0354396902316474
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.393437164341774e+00 = 0.21953693505329777 / 9.172454507017455e-02
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     Final value: 2.427219141722902e-01 = 2.393437164341774e+00 * 1.014114420000000e-01
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.427219141722902e-01 = 0.21953693505329777 * (1.014114420000000e-01 / 9.172454507017455e-02)
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2132111187858197
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.264179052087630e-02 = 8.858511600000001e-02 * 1.045794087133964
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.301457232066060e+00 = 0.2132111187858197 / 9.264179052087630e-02
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     Final value: 2.333940966051478e-01 = 2.301457232066060e+00 * 1.014114420000000e-01
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.333940966051478e-01 = 0.2132111187858197 * (1.014114420000000e-01 / 9.264179052087630e-02)
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 8 more bins processed)
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.475764183172474 = 11.11 - 2.6342358168275246
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -   Total token value: 2.840040153648498e+00
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.475764183172474
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -   Final asset value: 1.131580433682097e+01
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.11
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.058043368209734e-01
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     PnL: 1.656640170285857e-01
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.111000000000000e-02
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.545540170285857e-01
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     PnL: 2.144562219399005e-01
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.651885118927028e-03
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.058043368209734e-01
2025-07-15 17:58:05,421 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Hosico cat-SOL
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   position_id: pos_06-18-15-07-19_15276858
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (from CSV: 9.44)
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   Total points: 69
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750248000, 'close': 0.023439107, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1751227200, 'close': 0.030263188, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   Valid prices: 69
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   Min price: 1.384045200000000e-02
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   Max price: 3.047109800000000e-02
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   Price ratio: 2.2015970287675577
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (type: <class 'float'>)
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-18 15:07:19
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-30 00:30:37
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   price_history length: 69
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.023439107, 0.022398052, 0.022769123, 0.023226636, 0.02302224]
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.027170578, 0.027106474, 0.030471098, 0.028272585, 0.030263188]
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   Initial price: 2.343910700000000e-02
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   Final price: 3.026318800000000e-02
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2911408271654718
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   initial_price: 2.343910700000000e-02
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   final_price: 3.026318800000000e-02
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   price_ratio: 1.2911408271654718
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   active_bin_index: 25
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 25 bins): 4.72
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG - 
Calculating token values for 25 activated bins:
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.355601100201440e-02 = 2.343910700000000e-02 * 1.004987562112089
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Tokens bought: 8.014939370840619e+00 = 0.1888 / 2.355601100201440e-02
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Final value: 2.425576169883513e-01 = 8.014939370840619e+00 * 3.026318800000000e-02
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.425576169883513e-01 = 0.1888 * (3.026318800000000e-02 / 2.355601100201440e-02)
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.379157111203455e-02 = 2.343910700000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Tokens bought: 7.935583535485761e+00 = 0.1888 / 2.379157111203455e-02
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Final value: 2.401560564241103e-01 = 7.935583535485761e+00 * 3.026318800000000e-02
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.401560564241102e-01 = 0.1888 * (3.026318800000000e-02 / 2.379157111203455e-02)
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.402948682315489e-02 = 2.343910700000000e-02 * 1.025187812110542
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Tokens bought: 7.857013401471050e+00 = 0.1888 / 2.402948682315489e-02
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Final value: 2.377782736872379e-01 = 7.857013401471050e+00 * 3.026318800000000e-02
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.377782736872379e-01 = 0.1888 * (3.026318800000000e-02 / 2.402948682315489e-02)
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.426978169138644e-02 = 2.343910700000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Tokens bought: 7.779221189575298e+00 = 0.1888 / 2.426978169138644e-02
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Final value: 2.354240333537009e-01 = 7.779221189575298e+00 * 3.026318800000000e-02
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.354240333537009e-01 = 0.1888 * (3.026318800000000e-02 / 2.426978169138644e-02)
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.451247950830030e-02 = 2.343910700000000e-02 * 1.045794087133964
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Tokens bought: 7.702199197599304e+00 = 0.1888 / 2.451247950830030e-02
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Final value: 2.330931023303969e-01 = 7.702199197599304e+00 * 3.026318800000000e-02
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.330931023303969e-01 = 0.1888 * (3.026318800000000e-02 / 2.451247950830030e-02)
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 20 more bins processed)
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.72 = 9.44 - 4.72
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   Total token value: 5.395303006959270e+00
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.72
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   Final asset value: 1.011530300695927e+01
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   PnL from assets: 6.753030069592700e-01
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   initial_price: 2.343910700000000e-02
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   final_price: 3.026318800000000e-02
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   price_ratio: 1.2911408271654718
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   active_bin_index: 25
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 25 bins): 4.719999999999998
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG - 
Calculating token values for 25 activated bins:
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.28033939393939383
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.355601100201440e-02 = 2.343910700000000e-02 * 1.004987562112089
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.190097058094516e+01 = 0.28033939393939383 / 2.355601100201440e-02
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Final value: 3.601613100736125e-01 = 1.190097058094516e+01 * 3.026318800000000e-02
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.601613100736125e-01 = 0.28033939393939383 * (3.026318800000000e-02 / 2.355601100201440e-02)
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2691304885590599
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.379157111203455e-02 = 2.343910700000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.131200992535230e+01 = 0.2691304885590599 / 2.379157111203455e-02
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Final value: 3.423374830288027e-01 = 1.131200992535230e+01 * 3.026318800000000e-02
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.423374830288027e-01 = 0.2691304885590599 * (3.026318800000000e-02 / 2.379157111203455e-02)
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2583886209029065
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.402948682315489e-02 = 2.343910700000000e-02 * 1.025187812110542
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.075298123528474e+01 = 0.2583886209029065 / 2.402948682315489e-02
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Final value: 3.254194926838944e-01 = 1.075298123528474e+01 * 3.026318800000000e-02
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.254194926838943e-01 = 0.2583886209029065 * (3.026318800000000e-02 / 2.402948682315489e-02)
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.24811379097093378
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.426978169138644e-02 = 2.343910700000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,422 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.022315709823593e+01 = 0.24811379097093378 / 2.426978169138644e-02
2025-07-15 17:58:05,423 - DEEP_DEBUG - DEBUG -     Final value: 3.093853252174485e-01 = 1.022315709823593e+01 * 3.026318800000000e-02
2025-07-15 17:58:05,423 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.093853252174485e-01 = 0.24811379097093378 * (3.026318800000000e-02 / 2.426978169138644e-02)
2025-07-15 17:58:05,423 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,423 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23830599876314157
2025-07-15 17:58:05,423 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,423 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.451247950830030e-02 = 2.343910700000000e-02 * 1.045794087133964
2025-07-15 17:58:05,423 - DEEP_DEBUG - DEBUG -     Tokens bought: 9.721823476994544e+00 = 0.23830599876314157 / 2.451247950830030e-02
2025-07-15 17:58:05,423 - DEEP_DEBUG - DEBUG -     Final value: 2.942133715870995e-01 = 9.721823476994544e+00 * 3.026318800000000e-02
2025-07-15 17:58:05,423 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.942133715870995e-01 = 0.23830599876314157 * (3.026318800000000e-02 / 2.451247950830030e-02)
2025-07-15 17:58:05,423 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 20 more bins processed)
2025-07-15 17:58:05,423 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.7200000000000015 = 9.44 - 4.719999999999998
2025-07-15 17:58:05,423 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,423 - DEEP_DEBUG - DEBUG -   Total token value: 5.482245153534901e+00
2025-07-15 17:58:05,423 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.7200000000000015
2025-07-15 17:58:05,423 - DEEP_DEBUG - DEBUG -   Final asset value: 1.020224515353490e+01
2025-07-15 17:58:05,423 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,423 - DEEP_DEBUG - DEBUG -   PnL from assets: 7.622451535349040e-01
2025-07-15 17:58:05,423 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,423 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,423 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,423 - DEEP_DEBUG - DEBUG -     PnL: 6.847430069592700e-01
2025-07-15 17:58:05,423 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,423 - DEEP_DEBUG - DEBUG -     PnL from IL: 6.753030069592700e-01
2025-07-15 17:58:05,423 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,423 - DEEP_DEBUG - DEBUG -     PnL: 7.716851535349040e-01
2025-07-15 17:58:05,423 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,423 - DEEP_DEBUG - DEBUG -     PnL from IL: 7.622451535349040e-01
2025-07-15 17:58:05,425 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,425 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,425 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,425 - DEEP_DEBUG - DEBUG -   position_id: pos_06-18-23-09-19_15336727
2025-07-15 17:58:05,425 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (from CSV: 9.44)
2025-07-15 17:58:05,425 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,425 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,425 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,425 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,425 - DEEP_DEBUG - DEBUG -   Total points: 2
2025-07-15 17:58:05,425 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750280400, 'close': 0.097833833, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,425 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750281000, 'close': 0.098963349, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,425 - DEEP_DEBUG - DEBUG -   Valid prices: 2
2025-07-15 17:58:05,425 - DEEP_DEBUG - DEBUG -   Min price: 9.783383300000000e-02
2025-07-15 17:58:05,425 - DEEP_DEBUG - DEBUG -   Max price: 9.896334900000001e-02
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0115452493821846
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (type: <class 'float'>)
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-18 23:09:19
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-18 23:13:14
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG -   price_history length: 2
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.097833833, 0.098963349]
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.097833833, 0.098963349]
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG -   Initial price: 9.783383300000000e-02
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG -   Final price: 9.896334900000001e-02
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0115452493821846
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG -   initial_price: 9.783383300000000e-02
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG -   final_price: 9.896334900000001e-02
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0115452493821846
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG -   active_bin_index: 1
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 1 bins): 0.1888
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG - 
Calculating token values for 1 activated bins:
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.832178531875123e-02 = 9.783383300000000e-02 * 1.004987562112089
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.920225506360831e+00 = 0.1888 / 9.832178531875123e-02
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG -     Final value: 1.900319469446886e-01 = 1.920225506360831e+00 * 9.896334900000001e-02
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.900319469446887e-01 = 0.1888 * (9.896334900000001e-02 / 9.832178531875123e-02)
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.251199999999999 = 9.44 - 0.1888
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG -   Total token value: 1.900319469446886e-01
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.251199999999999
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG -   Final asset value: 9.441231946944688e+00
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.231946944688644e-03
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,426 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG -   initial_price: 9.783383300000000e-02
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG -   final_price: 9.896334900000001e-02
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0115452493821846
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG -   active_bin_index: 1
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 1 bins): 0.28033939393939383
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG - 
Calculating token values for 1 activated bins:
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.28033939393939383
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.832178531875123e-02 = 9.783383300000000e-02 * 1.004987562112089
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.851243933687293e+00 = 0.28033939393939383 / 9.832178531875123e-02
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG -     Final value: 2.821686484936285e-01 = 2.851243933687293e+00 * 9.896334900000001e-02
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.821686484936285e-01 = 0.28033939393939383 * (9.896334900000001e-02 / 9.832178531875123e-02)
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.159660606060605 = 9.44 - 0.28033939393939383
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG -   Total token value: 2.821686484936285e-01
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.159660606060605
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG -   Final asset value: 9.441829254554234e+00
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.829254554234439e-03
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG -     PnL: 1.067194694468864e-02
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.231946944688644e-03
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG -     PnL: 1.126925455423444e-02
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,427 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.829254554234439e-03
2025-07-15 17:58:05,428 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,428 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,428 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,428 - DEEP_DEBUG - DEBUG -   position_id: pos_06-18-23-13-14_15336899
2025-07-15 17:58:05,428 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (from CSV: 9.44)
2025-07-15 17:58:05,428 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,428 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,428 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   Total points: 2
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750281000, 'close': 0.098963349, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750281600, 'close': 0.097519363, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   Valid prices: 2
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   Min price: 9.751936300000000e-02
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   Max price: 9.896334900000001e-02
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0148071721920497
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (type: <class 'float'>)
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-18 23:13:14
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-18 23:21:01
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   price_history length: 2
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.098963349, 0.097519363]
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.098963349, 0.097519363]
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   Initial price: 9.896334900000001e-02
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   Final price: 9.751936300000000e-02
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   Price ratio: 0.985408881019174
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   initial_price: 9.896334900000001e-02
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   final_price: 9.751936300000000e-02
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   price_ratio: 0.985408881019174
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.44 = 9.44 - 0
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.44
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   Final asset value: 9.440000000000000e+00
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   initial_price: 9.896334900000001e-02
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   final_price: 9.751936300000000e-02
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   price_ratio: 0.985408881019174
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.44 = 9.44 - 0
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.44
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   Final asset value: 9.440000000000000e+00
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -     PnL: 9.440000000000000e-03
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -     PnL: 9.440000000000000e-03
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,429 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   position_id: pos_06-18-23-21-01_15337096
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (from CSV: 9.44)
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   Total points: 14
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750280400, 'close': 0.095888306, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750327200, 'close': 0.090941422, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   Valid prices: 14
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   Min price: 8.427283800000000e-02
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   Max price: 9.863473100000000e-02
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   Price ratio: 1.170421375864902
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (type: <class 'float'>)
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-18 23:21:01
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-19 12:07:28
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   price_history length: 14
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.095888306, 0.093723171, 0.095177773, 0.098634731, 0.095064699]
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.084272838, 0.084886088, 0.093221131, 0.090013396, 0.090941422]
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   Initial price: 9.588830600000001e-02
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   Final price: 9.094142199999999e-02
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   Price ratio: 0.948409934366762
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   initial_price: 9.588830600000001e-02
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   final_price: 9.094142199999999e-02
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   price_ratio: 0.948409934366762
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.44 = 9.44 - 0
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.44
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   Final asset value: 9.440000000000000e+00
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   initial_price: 9.588830600000001e-02
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   final_price: 9.094142199999999e-02
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   price_ratio: 0.948409934366762
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.44 = 9.44 - 0
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.44
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   Final asset value: 9.440000000000000e+00
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -     PnL: 9.440000000000000e-03
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -     PnL: 9.440000000000000e-03
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,430 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG -   position_id: pos_06-19-06-01-58_6261330
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1099 (from CSV: 11.1099)
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.05913 (from CSV: 0.05913)
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG -   Total points: 19
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750305600, 'close': 0.091629035, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750316400, 'close': 0.083228833, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG -   Valid prices: 19
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG -   Min price: 8.322883300000000e-02
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG -   Max price: 9.375162600000000e-02
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1264320623118673
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1099 (type: <class 'float'>)
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.05913 (type: <class 'float'>)
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-19 06:01:58
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-19 09:04:33
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG -   price_history length: 19
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.091629035, 0.092304514, 0.093646979, 0.093493675, 0.093493675]
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.086060443, 0.086058154, 0.086058154, 0.084272838, 0.083228833]
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG -   Initial price: 9.162903500000000e-02
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG -   Final price: 8.322883300000000e-02
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9083237971457411
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,431 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1099
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG -   initial_price: 9.162903500000000e-02
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG -   final_price: 8.322883300000000e-02
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9083237971457411
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.1099 = 11.1099 - 0
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.1099
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG -   Final asset value: 1.110990000000000e+01
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1099
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1099
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG -   initial_price: 9.162903500000000e-02
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG -   final_price: 8.322883300000000e-02
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9083237971457411
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.1099 = 11.1099 - 0
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.1099
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG -   Final asset value: 1.110990000000000e+01
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1099
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG -     PnL: 1.110990000000000e-02
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110990000000000e-02
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,432 - DEEP_DEBUG - DEBUG -     PnL: 7.776930000000000e-03
2025-07-15 17:58:05,433 - DEEP_DEBUG - DEBUG -     PnL from fees: 7.776930000000000e-03
2025-07-15 17:58:05,433 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,433 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG -   position_id: pos_06-19-09-10-56_6276149
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG -   investment_sol: 11.11 (from CSV: 11.11)
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.011 (from CSV: 0.011)
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG -   Total points: 10
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750317000, 'close': 0.08236889, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750322400, 'close': 0.090750221, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG -   Valid prices: 10
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG -   Min price: 8.101630700000000e-02
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG -   Max price: 9.075022100000001e-02
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1201475895463862
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG -   investment_sol: 11.11 (type: <class 'float'>)
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.011 (type: <class 'float'>)
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-19 09:10:56
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-19 10:44:24
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG -   price_history length: 10
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.08236889, 0.082108347, 0.081796405, 0.081016307, 0.084886088]
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.084438379, 0.083815898, 0.08488016, 0.085813995, 0.090750221]
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG -   Initial price: 8.236889000000000e-02
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG -   Final price: 9.075022100000001e-02
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1017535989619383
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG -   initial_sol: 11.11
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG -   initial_price: 8.236889000000000e-02
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG -   final_price: 9.075022100000001e-02
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1017535989619383
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG -   active_bin_index: 9
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,434 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 9 bins): 1.4491304347826088
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG - 
Calculating token values for 9 activated bins:
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.277970995497883e-02 = 8.236889000000000e-02 * 1.004987562112089
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.945096121274086e+00 = 0.16101449275362317 / 8.277970995497883e-02
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Final value: 1.765179028718661e-01 = 1.945096121274086e+00 * 9.075022100000001e-02
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.765179028718661e-01 = 0.16101449275362317 * (9.075022100000001e-02 / 8.277970995497883e-02)
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.360750705452862e-02 = 8.236889000000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.925837743835729e+00 = 0.16101449275362317 / 8.360750705452862e-02
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Final value: 1.747702008632338e-01 = 1.925837743835729e+00 * 9.075022100000001e-02
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.747702008632338e-01 = 0.16101449275362317 * (9.075022100000001e-02 / 8.360750705452862e-02)
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.444358212507390e-02 = 8.236889000000000e-02 * 1.025187812110542
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.906770043401712e+00 = 0.16101449275362317 / 8.444358212507390e-02
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Final value: 1.730398028348850e-01 = 1.906770043401712e+00 * 9.075022100000001e-02
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.730398028348849e-01 = 0.16101449275362317 * (9.075022100000001e-02 / 8.444358212507390e-02)
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.528801794632464e-02 = 8.236889000000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.887891132080903e+00 = 0.16101449275362317 / 8.528801794632464e-02
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Final value: 1.713265374602821e-01 = 1.887891132080903e+00 * 9.075022100000001e-02
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.713265374602821e-01 = 0.16101449275362317 * (9.075022100000001e-02 / 8.528801794632464e-02)
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.614089812578789e-02 = 8.236889000000000e-02 * 1.045794087133964
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.869199140674161e+00 = 0.16101449275362317 / 8.614089812578789e-02
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Final value: 1.696302351091902e-01 = 1.869199140674161e+00 * 9.075022100000001e-02
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.696302351091902e-01 = 0.16101449275362317 * (9.075022100000001e-02 / 8.614089812578789e-02)
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 4 more bins processed)
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.660869565217391 = 11.11 - 1.4491304347826088
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -   Total token value: 1.527176013065406e+00
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.660869565217391
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -   Final asset value: 1.118804557828280e+01
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.11
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -   PnL from assets: 7.804557828279712e-02
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -   initial_sol: 11.11
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -   initial_price: 8.236889000000000e-02
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -   final_price: 9.075022100000001e-02
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1017535989619383
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -   active_bin_index: 9
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 9 bins): 1.9251221834338308
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG - 
Calculating token values for 9 activated bins:
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23975880672802288
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.277970995497883e-02 = 8.236889000000000e-02 * 1.004987562112089
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.896347509050465e+00 = 0.23975880672802288 / 8.277970995497883e-02
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Final value: 2.628441765391292e-01 = 2.896347509050465e+00 * 9.075022100000001e-02
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.628441765391292e-01 = 0.23975880672802288 * (9.075022100000001e-02 / 8.277970995497883e-02)
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23281077902439942
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.360750705452862e-02 = 8.236889000000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.784567884227918e+00 = 0.23281077902439942 / 8.360750705452862e-02
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Final value: 2.527001508831859e-01 = 2.784567884227918e+00 * 9.075022100000001e-02
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.527001508831859e-01 = 0.23281077902439942 * (9.075022100000001e-02 / 8.360750705452862e-02)
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2260701551328243
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.444358212507390e-02 = 8.236889000000000e-02 * 1.025187812110542
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.677173912375955e+00 = 0.2260701551328243 / 8.444358212507390e-02
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Final value: 2.429541242035525e-01 = 2.677173912375955e+00 * 9.075022100000001e-02
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.429541242035525e-01 = 0.2260701551328243 * (9.075022100000001e-02 / 8.444358212507390e-02)
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21953693505329777
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.528801794632464e-02 = 8.236889000000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.574065388545689e+00 = 0.21953693505329777 / 8.528801794632464e-02
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Final value: 2.335970028789721e-01 = 2.574065388545689e+00 * 9.075022100000001e-02
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.335970028789721e-01 = 0.21953693505329777 * (9.075022100000001e-02 / 8.528801794632464e-02)
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2132111187858197
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.614089812578789e-02 = 8.236889000000000e-02 * 1.045794087133964
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.475143902893566e+00 = 0.2132111187858197 / 8.614089812578789e-02
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Final value: 2.246198561943936e-01 = 2.475143902893566e+00 * 9.075022100000001e-02
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.246198561943936e-01 = 0.2132111187858197 * (9.075022100000001e-02 / 8.614089812578789e-02)
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 4 more bins processed)
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.184877816566168 = 11.11 - 1.9251221834338308
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -   Total token value: 2.032719096204104e+00
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.184877816566168
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -   Final asset value: 1.121759691277027e+01
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.11
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.075969127702727e-01
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     PnL: 8.915557828279712e-02
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.111000000000000e-02
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     PnL from IL: 7.804557828279712e-02
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     PnL: 1.170063576941595e-01
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.409444923886822e-03
2025-07-15 17:58:05,435 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.075969127702727e-01
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   position_id: pos_06-19-12-07-28_15470716
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (from CSV: 9.44)
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   Total points: 21
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750327200, 'close': 0.09011721, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750339200, 'close': 0.085664515, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   Valid prices: 21
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   Min price: 8.566451500000000e-02
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   Max price: 9.187770100000001e-02
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0725292847335914
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (type: <class 'float'>)
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-19 12:07:28
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-19 15:28:12
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   price_history length: 21
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.09011721, 0.09011721, 0.09011721, 0.09011721, 0.09011721]
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.086864776, 0.086864776, 0.086347527, 0.086347527, 0.085664515]
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   Initial price: 9.011721000000000e-02
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   Final price: 8.566451500000000e-02
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9505899594539156
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   initial_price: 9.011721000000000e-02
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   final_price: 8.566451500000000e-02
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9505899594539156
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.44 = 9.44 - 0
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.44
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   Final asset value: 9.440000000000000e+00
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   initial_price: 9.011721000000000e-02
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   final_price: 8.566451500000000e-02
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9505899594539156
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.44 = 9.44 - 0
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.44
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   Final asset value: 9.440000000000000e+00
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,436 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -     PnL: 9.440000000000000e-03
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -     PnL: 9.440000000000000e-03
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   position_id: pos_06-19-15-28-12_15507243
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (from CSV: 9.44)
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   Total points: 13
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750338000, 'close': 0.084162416, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750381200, 'close': 0.08108016, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   Valid prices: 13
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   Min price: 7.753931800000000e-02
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   Max price: 8.613622899999999e-02
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1108716354714392
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (type: <class 'float'>)
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-19 15:28:12
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-20 03:40:57
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   price_history length: 13
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.084162416, 0.081589553, 0.079589409, 0.077539318, 0.083758307]
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.084083051, 0.08422971, 0.08444717, 0.083936087, 0.08108016]
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   Initial price: 8.416241600000000e-02
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   Final price: 8.108016000000000e-02
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9633772870778804
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   initial_price: 8.416241600000000e-02
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   final_price: 8.108016000000000e-02
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9633772870778804
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.44 = 9.44 - 0
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.44
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   Final asset value: 9.440000000000000e+00
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   initial_price: 8.416241600000000e-02
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   final_price: 8.108016000000000e-02
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9633772870778804
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.44 = 9.44 - 0
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.44
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   Final asset value: 9.440000000000000e+00
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -     PnL: 9.440000000000000e-03
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -     PnL: 9.440000000000000e-03
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,437 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   position_id: pos_06-19-15-29-25_6330475
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   investment_sol: 11.11 (from CSV: 11.11)
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.04899 (from CSV: 0.04899)
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   Total points: 21
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750339200, 'close': 0.085664515, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750351200, 'close': 0.07828289, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   Valid prices: 21
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   Min price: 7.828288999999999e-02
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   Max price: 8.773407900000001e-02
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1207312223654493
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   investment_sol: 11.11 (type: <class 'float'>)
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.04899 (type: <class 'float'>)
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-19 15:29:25
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-19 18:47:48
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   price_history length: 21
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.085664515, 0.084162416, 0.084162416, 0.084162416, 0.0854128]
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.081909597, 0.079644897, 0.08131903, 0.078301418, 0.07828289]
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   Initial price: 8.566451500000000e-02
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   Final price: 7.828288999999999e-02
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9138310069227614
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   initial_sol: 11.11
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   initial_price: 8.566451500000000e-02
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   final_price: 7.828288999999999e-02
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9138310069227614
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.11 = 11.11 - 0
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.11
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111000000000000e+01
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.11
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   initial_sol: 11.11
2025-07-15 17:58:05,438 - DEEP_DEBUG - DEBUG -   initial_price: 8.566451500000000e-02
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   final_price: 7.828288999999999e-02
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9138310069227614
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.11 = 11.11 - 0
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.11
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111000000000000e+01
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.11
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -     PnL: 1.111000000000000e-02
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.111000000000000e-02
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -     PnL: 7.776999999999999e-03
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -     PnL from fees: 7.776999999999999e-03
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   position_id: pos_06-19-18-56-57_6344600
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1097 (from CSV: 11.1097)
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.08434 (from CSV: 0.08434)
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   Total points: 10
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750350600, 'close': 0.077539318, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750366800, 'close': 0.086840859, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   Valid prices: 10
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   Min price: 7.753931800000000e-02
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   Max price: 8.684085900000001e-02
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1199590251748153
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1097 (type: <class 'float'>)
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.08434 (type: <class 'float'>)
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-19 18:56:57
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-19 23:06:04
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   price_history length: 10
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.077539318, 0.0817786, 0.083758307, 0.084726125, 0.086136229]
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.08183636, 0.077807028, 0.080357086, 0.081629594, 0.086840859]
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   Initial price: 7.753931800000000e-02
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   Final price: 8.684085900000001e-02
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1199590251748153
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1097
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   initial_price: 7.753931800000000e-02
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   final_price: 8.684085900000001e-02
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1199590251748153
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   active_bin_index: 11
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 11 bins): 1.771111594202899
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG - 
Calculating token values for 11 activated bins:
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101014492753624
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.792605016465401e-02 = 7.753931800000000e-02 * 1.004987562112089
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.066191531424081e+00 = 0.16101014492753624 / 7.792605016465401e-02
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -     Final value: 1.794298474473927e-01 = 2.066191531424081e+00 * 8.684085900000001e-02
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.794298474473927e-01 = 0.16101014492753624 * (8.684085900000001e-02 / 7.792605016465401e-02)
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101014492753624
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.870531066630056e-02 = 7.753931800000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.045734189528793e+00 = 0.16101014492753624 / 7.870531066630056e-02
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -     Final value: 1.776533143043492e-01 = 2.045734189528793e+00 * 8.684085900000001e-02
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.776533143043492e-01 = 0.16101014492753624 * (8.684085900000001e-02 / 7.870531066630056e-02)
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101014492753624
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.949236377296356e-02 = 7.753931800000000e-02 * 1.025187812110542
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.025479395573062e+00 = 0.16101014492753624 / 7.949236377296356e-02
2025-07-15 17:58:05,439 - DEEP_DEBUG - DEBUG -     Final value: 1.758943705983655e-01 = 2.025479395573062e+00 * 8.684085900000001e-02
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.758943705983655e-01 = 0.16101014492753624 * (8.684085900000001e-02 / 7.949236377296356e-02)
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101014492753624
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.028728741069320e-02 = 7.753931800000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.005425144131745e+00 = 0.16101014492753624 / 8.028728741069320e-02
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Final value: 1.741528421765996e-01 = 2.005425144131745e+00 * 8.684085900000001e-02
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.741528421765995e-01 = 0.16101014492753624 * (8.684085900000001e-02 / 8.028728741069320e-02)
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101014492753624
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.109016028480014e-02 = 7.753931800000000e-02 * 1.045794087133964
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.985569449635391e+00 = 0.16101014492753624 / 8.109016028480014e-02
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Final value: 1.724285566104946e-01 = 1.985569449635391e+00 * 8.684085900000001e-02
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.724285566104946e-01 = 0.16101014492753624 * (8.684085900000001e-02 / 8.109016028480014e-02)
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 6 more bins processed)
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.3385884057971 = 11.1097 - 1.771111594202899
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -   Total token value: 1.878864574518992e+00
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.3385884057971
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -   Final asset value: 1.121745298031609e+01
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1097
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.077529803160928e-01
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1097
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -   initial_price: 7.753931800000000e-02
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -   final_price: 8.684085900000001e-02
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1199590251748153
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -   active_bin_index: 11
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 11 bins): 2.2893651585864436
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG - 
Calculating token values for 11 activated bins:
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23975233259282772
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.792605016465401e-02 = 7.753931800000000e-02 * 1.004987562112089
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.076664762120530e+00 = 0.23975233259282772 / 7.792605016465401e-02
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Final value: 2.671802107975775e-01 = 3.076664762120530e+00 * 8.684085900000001e-02
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.671802107975775e-01 = 0.23975233259282772 * (8.684085900000001e-02 / 7.792605016465401e-02)
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2328044925047138
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.870531066630056e-02 = 7.753931800000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.957926098427742e+00 = 0.2328044925047138 / 7.870531066630056e-02
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Final value: 2.568688432459837e-01 = 2.957926098427742e+00 * 8.684085900000001e-02
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.568688432459837e-01 = 0.2328044925047138 * (8.684085900000001e-02 / 7.870531066630056e-02)
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2260640506281853
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.949236377296356e-02 = 7.753931800000000e-02 * 1.025187812110542
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.843846124312544e+00 = 0.2260640506281853 / 7.949236377296356e-02
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Final value: 2.469620402991221e-01 = 2.843846124312544e+00 * 8.684085900000001e-02
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.469620402991221e-01 = 0.2260640506281853 * (8.684085900000001e-02 / 7.949236377296356e-02)
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21953100696324232
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.028728741069320e-02 = 7.753931800000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.734318396389161e+00 = 0.21953100696324232 / 8.028728741069320e-02
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Final value: 2.374505583219373e-01 = 2.734318396389161e+00 * 8.684085900000001e-02
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.374505583219373e-01 = 0.21953100696324232 * (8.684085900000001e-02 / 8.028728741069320e-02)
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2132053615098849
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.109016028480014e-02 = 7.753931800000000e-02 * 1.045794087133964
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.629238378134628e+00 = 0.2132053615098849 / 8.109016028480014e-02
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Final value: 2.283253192729779e-01 = 2.629238378134628e+00 * 8.684085900000001e-02
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.283253192729779e-01 = 0.2132053615098849 * (8.684085900000001e-02 / 8.109016028480014e-02)
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 6 more bins processed)
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.820334841413557 = 11.1097 - 2.2893651585864436
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -   Total token value: 2.435635182223662e+00
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.820334841413557
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -   Final asset value: 1.125597002363722e+01
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1097
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.462700236372179e-01
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     PnL: 1.188626803160928e-01
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110970000000000e-02
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.077529803160928e-01
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     PnL: 1.546264628325082e-01
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.356439195290383e-03
2025-07-15 17:58:05,440 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.462700236372179e-01
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Gorbagana-SOL
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -   position_id: pos_06-20-05-55-47_28952732
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -   investment_sol: 8.88 (from CSV: 8.88)
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.46272 (from CSV: 0.46272)
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -   Total points: 30
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750388400, 'close': 0.031405014, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750492800, 'close': 0.038017487, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -   Valid prices: 30
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -   Min price: 2.888887800000000e-02
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -   Max price: 4.039456000000000e-02
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -   Price ratio: 1.3982737578108781
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -   investment_sol: 8.88 (type: <class 'float'>)
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.46272 (type: <class 'float'>)
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-20 05:55:47
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-21 10:04:12
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -   price_history length: 30
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.031405014, 0.031344934, 0.038697242, 0.036451038, 0.035920971]
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.036922347, 0.040123798, 0.036618467, 0.035069363, 0.038017487]
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -   Initial price: 3.140501400000000e-02
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -   Final price: 3.801748700000000e-02
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2105546904070796
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -   initial_sol: 8.88
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -   initial_price: 3.140501400000000e-02
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -   final_price: 3.801748700000000e-02
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -   price_ratio: 1.2105546904070796
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -   active_bin_index: 19
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 19 bins): 3.3744
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG - 
Calculating token values for 19 activated bins:
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1776
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.156164845795602e-02 = 3.140501400000000e-02 * 1.004987562112089
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.627082509222702e+00 = 0.1776 / 3.156164845795602e-02
2025-07-15 17:58:05,442 - DEEP_DEBUG - DEBUG -     Final value: 2.139275361423015e-01 = 5.627082509222702e+00 * 3.801748700000000e-02
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.139275361423015e-01 = 0.1776 * (3.801748700000000e-02 / 3.156164845795602e-02)
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1776
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.187726494253559e-02 = 3.140501400000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.571368821012576e+00 = 0.1776 / 3.187726494253559e-02
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Final value: 2.118094417250510e-01 = 5.571368821012576e+00 * 3.801748700000000e-02
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.118094417250510e-01 = 0.1776 * (3.801748700000000e-02 / 3.187726494253559e-02)
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1776
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.219603759196094e-02 = 3.140501400000000e-02 * 1.025187812110542
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.516206753477798e+00 = 0.1776 / 3.219603759196094e-02
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Final value: 2.097123185396544e-01 = 5.516206753477798e+00 * 3.801748700000000e-02
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.097123185396544e-01 = 0.1776 * (3.801748700000000e-02 / 3.219603759196094e-02)
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1776
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.251799796788055e-02 = 3.140501400000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.461590845027523e+00 = 0.1776 / 3.251799796788055e-02
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Final value: 2.076359589501529e-01 = 5.461590845027523e+00 * 3.801748700000000e-02
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.076359589501529e-01 = 0.1776 * (3.801748700000000e-02 / 3.251799796788055e-02)
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1776
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.284317794755936e-02 = 3.140501400000000e-02 * 1.045794087133964
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.407515688146062e+00 = 0.1776 / 3.284317794755936e-02
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Final value: 2.055801573763890e-01 = 5.407515688146062e+00 * 3.801748700000000e-02
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.055801573763890e-01 = 0.1776 * (3.801748700000000e-02 / 3.284317794755936e-02)
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 14 more bins processed)
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.505600000000001 = 8.88 - 3.3744
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -   Total token value: 3.721968730652343e+00
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.505600000000001
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -   Final asset value: 9.227568730652344e+00
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.88
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -   PnL from assets: 3.475687306523429e-01
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -   initial_sol: 8.88
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -   initial_price: 3.140501400000000e-02
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -   final_price: 3.801748700000000e-02
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -   price_ratio: 1.2105546904070796
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -   active_bin_index: 19
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 19 bins): 3.6331666048237468
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG - 
Calculating token values for 19 activated bins:
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.26370909090909084
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.156164845795602e-02 = 3.140501400000000e-02 * 1.004987562112089
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Tokens bought: 8.355364937936736e+00 = 0.26370909090909084 / 3.156164845795602e-02
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Final value: 3.176499779082657e-01 = 8.355364937936736e+00 * 3.801748700000000e-02
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.176499779082657e-01 = 0.26370909090909084 * (3.801748700000000e-02 / 3.156164845795602e-02)
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.25316512059369195
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.187726494253559e-02 = 3.140501400000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Tokens bought: 7.941870830200361e+00 = 0.25316512059369195 / 3.187726494253559e-02
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Final value: 3.019299710428214e-01 = 7.941870830200361e+00 * 3.801748700000000e-02
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.019299710428214e-01 = 0.25316512059369195 * (3.801748700000000e-02 / 3.187726494253559e-02)
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.24306048237476802
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.219603759196094e-02 = 3.140501400000000e-02 * 1.025187812110542
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Tokens bought: 7.549391184567942e+00 = 0.24306048237476802 / 3.219603759196094e-02
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Final value: 2.870088812172263e-01 = 7.549391184567942e+00 * 3.801748700000000e-02
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.870088812172263e-01 = 0.24306048237476802 * (3.801748700000000e-02 / 3.219603759196094e-02)
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2333951762523191
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.251799796788055e-02 = 3.140501400000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Tokens bought: 7.177415303452990e+00 = 0.2333951762523191 / 3.251799796788055e-02
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Final value: 2.728672929926251e-01 = 7.177415303452990e+00 * 3.801748700000000e-02
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.728672929926251e-01 = 0.2333951762523191 * (3.801748700000000e-02 / 3.251799796788055e-02)
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.22416920222634504
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.284317794755936e-02 = 3.140501400000000e-02 * 1.045794087133964
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.825441879719301e+00 = 0.22416920222634504 / 3.284317794755936e-02
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Final value: 2.594861479314841e-01 = 6.825441879719301e+00 * 3.801748700000000e-02
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.594861479314841e-01 = 0.22416920222634504 * (3.801748700000000e-02 / 3.284317794755936e-02)
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 14 more bins processed)
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.246833395176254 = 8.88 - 3.6331666048237468
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -   Total token value: 4.050126223089454e+00
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.246833395176254
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -   Final asset value: 9.296959618265708e+00
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.88
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -   PnL from assets: 4.169596182657074e-01
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     PnL: 3.564487306523429e-01
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.880000000000001e-03
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     PnL from IL: 3.475687306523429e-01
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     PnL: 4.231756182657074e-01
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     PnL from fees: 6.216000000000000e-03
2025-07-15 17:58:05,443 - DEEP_DEBUG - DEBUG -     PnL from IL: 4.169596182657074e-01
2025-07-15 17:58:05,444 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,444 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,444 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,444 - DEEP_DEBUG - DEBUG -   position_id: pos_06-20-08-29-59_15644804
2025-07-15 17:58:05,444 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (from CSV: 9.44)
2025-07-15 17:58:05,444 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,444 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,444 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,444 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,444 - DEEP_DEBUG - DEBUG -   Total points: 2
2025-07-15 17:58:05,444 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750400400, 'close': 0.076922985, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,444 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750401000, 'close': 0.076922985, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,444 - DEEP_DEBUG - DEBUG -   Valid prices: 2
2025-07-15 17:58:05,444 - DEEP_DEBUG - DEBUG -   Min price: 7.692298500000000e-02
2025-07-15 17:58:05,444 - DEEP_DEBUG - DEBUG -   Max price: 7.692298500000000e-02
2025-07-15 17:58:05,444 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (type: <class 'float'>)
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-20 08:29:59
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-20 08:33:28
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG -   price_history length: 2
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.076922985, 0.076922985]
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.076922985, 0.076922985]
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG -   Initial price: 7.692298500000000e-02
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG -   Final price: 7.692298500000000e-02
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG -   initial_price: 7.692298500000000e-02
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG -   final_price: 7.692298500000000e-02
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.44 = 9.44 - 0
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.44
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG -   Final asset value: 9.440000000000000e+00
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG -   initial_price: 7.692298500000000e-02
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG -   final_price: 7.692298500000000e-02
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,445 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,446 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,446 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,446 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.44 = 9.44 - 0
2025-07-15 17:58:05,446 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,446 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,446 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.44
2025-07-15 17:58:05,446 - DEEP_DEBUG - DEBUG -   Final asset value: 9.440000000000000e+00
2025-07-15 17:58:05,446 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,446 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,446 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,446 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,446 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,446 - DEEP_DEBUG - DEBUG -     PnL: 9.440000000000000e-03
2025-07-15 17:58:05,446 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,446 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,446 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,446 - DEEP_DEBUG - DEBUG -     PnL: 9.440000000000000e-03
2025-07-15 17:58:05,446 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,446 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,447 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,447 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,447 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,447 - DEEP_DEBUG - DEBUG -   position_id: pos_06-20-08-33-28_15644953
2025-07-15 17:58:05,447 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (from CSV: 9.44)
2025-07-15 17:58:05,447 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,447 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,447 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,447 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,447 - DEEP_DEBUG - DEBUG -   Total points: 11
2025-07-15 17:58:05,447 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750401000, 'close': 0.076145971, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,447 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750419000, 'close': 0.095431392, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,447 - DEEP_DEBUG - DEBUG -   Valid prices: 11
2025-07-15 17:58:05,447 - DEEP_DEBUG - DEBUG -   Min price: 7.614597100000001e-02
2025-07-15 17:58:05,447 - DEEP_DEBUG - DEBUG -   Max price: 1.009905380000000e-01
2025-07-15 17:58:05,447 - DEEP_DEBUG - DEBUG -   Price ratio: 1.3262755294039128
2025-07-15 17:58:05,447 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,447 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,447 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,449 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (type: <class 'float'>)
2025-07-15 17:58:05,449 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,449 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-20 08:33:28
2025-07-15 17:58:05,449 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-20 13:58:37
2025-07-15 17:58:05,449 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,449 - DEEP_DEBUG - DEBUG -   price_history length: 11
2025-07-15 17:58:05,449 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,449 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.076145971, 0.082158331, 0.086561821, 0.091517138, 0.088952224]
2025-07-15 17:58:05,449 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.100990538, 0.098860517, 0.09874953, 0.094488886, 0.095431392]
2025-07-15 17:58:05,449 - DEEP_DEBUG - DEBUG -   Initial price: 7.614597100000001e-02
2025-07-15 17:58:05,449 - DEEP_DEBUG - DEBUG -   Final price: 9.543139200000000e-02
2025-07-15 17:58:05,449 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2532690928585046
2025-07-15 17:58:05,449 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,449 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,449 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,449 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,449 - DEEP_DEBUG - DEBUG -   initial_price: 7.614597100000001e-02
2025-07-15 17:58:05,449 - DEEP_DEBUG - DEBUG -   final_price: 9.543139200000000e-02
2025-07-15 17:58:05,449 - DEEP_DEBUG - DEBUG -   price_ratio: 1.2532690928585046
2025-07-15 17:58:05,449 - DEEP_DEBUG - DEBUG -   active_bin_index: 22
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 22 bins): 4.153600000000001
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG - 
Calculating token values for 22 activated bins:
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.652575375994783e-02 = 7.614597100000001e-02 * 1.004987562112089
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.467143291293060e+00 = 0.1888 / 7.652575375994783e-02
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -     Final value: 2.354429185515582e-01 = 2.467143291293060e+00 * 9.543139200000000e-02
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.354429185515583e-01 = 0.1888 * (9.543139200000000e-02 / 7.652575375994783e-02)
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.729101129754731e-02 = 7.614597100000001e-02 * 1.0150374377332099
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.442716129993129e+00 = 0.1888 / 7.729101129754731e-02
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -     Final value: 2.331118005460973e-01 = 2.442716129993129e+00 * 9.543139200000000e-02
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.331118005460973e-01 = 0.1888 * (9.543139200000000e-02 / 7.729101129754731e-02)
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.806392141052279e-02 = 7.614597100000001e-02 * 1.025187812110542
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.418530821775375e+00 = 0.1888 / 7.806392141052279e-02
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -     Final value: 2.308037629169280e-01 = 2.418530821775375e+00 * 9.543139200000000e-02
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.308037629169280e-01 = 0.1888 * (9.543139200000000e-02 / 7.806392141052279e-02)
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.884456062462801e-02 = 7.614597100000001e-02 * 1.0354396902316474
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.394584972054827e+00 = 0.1888 / 7.884456062462801e-02
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -     Final value: 2.285185771454733e-01 = 2.394584972054827e+00 * 9.543139200000000e-02
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.285185771454733e-01 = 0.1888 * (9.543139200000000e-02 / 7.884456062462801e-02)
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.963300623087430e-02 = 7.614597100000001e-02 * 1.045794087133964
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.370876209955274e+00 = 0.1888 / 7.963300623087430e-02
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -     Final value: 2.262560169757161e-01 = 2.370876209955274e+00 * 9.543139200000000e-02
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.262560169757161e-01 = 0.1888 * (9.543139200000000e-02 / 7.963300623087430e-02)
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 17 more bins processed)
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.286399999999999 = 9.44 - 4.153600000000001
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -   Total token value: 4.675186062914924e+00
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.286399999999999
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -   Final asset value: 9.961586062914922e+00
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -   PnL from assets: 5.215860629149223e-01
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -   initial_price: 7.614597100000001e-02
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -   final_price: 9.543139200000000e-02
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -   price_ratio: 1.2532690928585046
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -   active_bin_index: 22
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 22 bins): 4.297447619047617
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG - 
Calculating token values for 22 activated bins:
2025-07-15 17:58:05,450 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.28033939393939383
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.652575375994783e-02 = 7.614597100000001e-02 * 1.004987562112089
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.663333977980604e+00 = 0.28033939393939383 / 7.652575375994783e-02
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     Final value: 3.495970608795864e-01 = 3.663333977980604e+00 * 9.543139200000000e-02
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.495970608795864e-01 = 0.28033939393939383 * (9.543139200000000e-02 / 7.652575375994783e-02)
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2691304885590599
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.729101129754731e-02 = 7.614597100000001e-02 * 1.0150374377332099
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.482041236632134e+00 = 0.2691304885590599 / 7.729101129754731e-02
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     Final value: 3.322960422132060e-01 = 3.482041236632134e+00 * 9.543139200000000e-02
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.322960422132060e-01 = 0.2691304885590599 * (9.543139200000000e-02 / 7.729101129754731e-02)
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2583886209029065
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.806392141052279e-02 = 7.614597100000001e-02 * 1.025187812110542
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.309962095602290e+00 = 0.2583886209029065 / 7.806392141052279e-02
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     Final value: 3.158742902505636e-01 = 3.309962095602290e+00 * 9.543139200000000e-02
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.158742902505636e-01 = 0.2583886209029065 * (9.543139200000000e-02 / 7.806392141052279e-02)
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.24811379097093378
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.884456062462801e-02 = 7.614597100000001e-02 * 1.0354396902316474
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.146872644166053e+00 = 0.24811379097093378 / 7.884456062462801e-02
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     Final value: 3.003104368794871e-01 = 3.146872644166053e+00 * 9.543139200000000e-02
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.003104368794871e-01 = 0.24811379097093378 * (9.543139200000000e-02 / 7.884456062462801e-02)
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23830599876314157
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.963300623087430e-02 = 7.614597100000001e-02 * 1.045794087133964
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.992553088756162e+00 = 0.23830599876314157 / 7.963300623087430e-02
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     Final value: 2.855835068939001e-01 = 2.992553088756162e+00 * 9.543139200000000e-02
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.855835068939001e-01 = 0.23830599876314157 * (9.543139200000000e-02 / 7.963300623087430e-02)
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 17 more bins processed)
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.142552380952383 = 9.44 - 4.297447619047617
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -   Total token value: 4.902259284551799e+00
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.142552380952383
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -   Final asset value: 1.004481166550418e+01
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -   PnL from assets: 6.048116655041813e-01
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     PnL: 5.310260629149223e-01
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     PnL from IL: 5.215860629149223e-01
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     PnL: 6.142516655041813e-01
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,451 - DEEP_DEBUG - DEBUG -     PnL from IL: 6.048116655041813e-01
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -   position_id: pos_06-20-09-43-59_6454677
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1092 (from CSV: 11.1092)
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.02321 (from CSV: -0.02321)
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -   Total points: 16
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750405200, 'close': 0.085694773, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750414200, 'close': 0.098860517, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -   Valid prices: 16
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -   Min price: 8.569477300000000e-02
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -   Max price: 1.009905380000000e-01
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -   Price ratio: 1.178491224896529
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1092 (type: <class 'float'>)
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.02321 (type: <class 'float'>)
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-20 09:43:59
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-20 12:15:10
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -   price_history length: 16
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.085694773, 0.086561821, 0.08569485, 0.092036145, 0.091517138]
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.10071022, 0.100990538, 0.100990538, 0.096613435, 0.098860517]
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -   Initial price: 8.569477300000000e-02
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -   Final price: 9.886051699999999e-02
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1536353214915454
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1092
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -   initial_price: 8.569477300000000e-02
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -   final_price: 9.886051699999999e-02
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1536353214915454
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -   active_bin_index: 14
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 14 bins): 2.2540405797101446
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG - 
Calculating token values for 14 activated bins:
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16100289855072464
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.612218100301887e-02 = 8.569477300000000e-02 * 1.004987562112089
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.869470752779484e+00 = 0.16100289855072464 / 8.612218100301887e-02
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -     Final value: 1.848168451361590e-01 = 1.869470752779484e+00 * 9.886051699999999e-02
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.848168451361589e-01 = 0.16100289855072464 * (9.886051699999999e-02 / 8.612218100301887e-02)
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16100289855072464
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.698340281304906e-02 = 8.569477300000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.850961141365825e+00 = 0.16100289855072464 / 8.698340281304906e-02
2025-07-15 17:58:05,452 - DEEP_DEBUG - DEBUG -     Final value: 1.829869753823356e-01 = 1.850961141365825e+00 * 9.886051699999999e-02
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.829869753823356e-01 = 0.16100289855072464 * (9.886051699999999e-02 / 8.698340281304906e-02)
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16100289855072464
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.785323684117954e-02 = 8.569477300000000e-02 * 1.025187812110542
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.832634793431510e+00 = 0.16100289855072464 / 8.785323684117954e-02
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Final value: 1.811752231508273e-01 = 1.832634793431510e+00 * 9.886051699999999e-02
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.811752231508273e-01 = 0.16100289855072464 * (9.886051699999999e-02 / 8.785323684117954e-02)
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16100289855072464
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.873176920959135e-02 = 8.569477300000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.814489894486644e+00 = 0.16100289855072464 / 8.873176920959135e-02
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Final value: 1.793814090602251e-01 = 1.814489894486644e+00 * 9.886051699999999e-02
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.793814090602250e-01 = 0.16100289855072464 * (9.886051699999999e-02 / 8.873176920959135e-02)
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16100289855072464
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.961908690168727e-02 = 8.569477300000000e-02 * 1.045794087133964
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.796524648006578e+00 = 0.16100289855072464 / 8.961908690168727e-02
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Final value: 1.776053555051733e-01 = 1.796524648006578e+00 * 9.886051699999999e-02
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.776053555051733e-01 = 0.16100289855072464 * (9.886051699999999e-02 / 8.961908690168727e-02)
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 9 more bins processed)
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.855159420289855 = 11.1092 - 2.2540405797101446
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -   Total token value: 2.427336405085307e+00
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.855159420289855
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -   Final asset value: 1.128249582537516e+01
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1092
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.732958253751615e-01
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1092
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -   initial_price: 8.569477300000000e-02
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -   final_price: 9.886051699999999e-02
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1536353214915454
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -   active_bin_index: 14
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 14 bins): 2.799646151548529
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG - 
Calculating token values for 14 activated bins:
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23974154236750242
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.612218100301887e-02 = 8.569477300000000e-02 * 1.004987562112089
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.783737471292079e+00 = 0.23974154236750242 / 8.612218100301887e-02
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Final value: 2.752017256042075e-01 = 2.783737471292079e+00 * 9.886051699999999e-02
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.752017256042075e-01 = 0.23974154236750242 * (9.886051699999999e-02 / 8.612218100301887e-02)
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23279401497190444
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.698340281304906e-02 = 8.569477300000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.676303840081331e+00 = 0.23279401497190444 / 8.698340281304906e-02
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Final value: 2.645807812795257e-01 = 2.676303840081331e+00 * 9.886051699999999e-02
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.645807812795257e-01 = 0.23279401497190444 * (9.886051699999999e-02 / 8.698340281304906e-02)
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.22605387645378688
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.785323684117954e-02 = 8.569477300000000e-02 * 1.025187812110542
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.573085347583100e+00 = 0.22605387645378688 / 8.785323684117954e-02
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Final value: 2.543765477471899e-01 = 2.573085347583100e+00 * 9.886051699999999e-02
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.543765477471899e-01 = 0.22605387645378688 * (9.886051699999999e-02 / 8.785323684117954e-02)
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21952112681314992
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.873176920959135e-02 = 8.569477300000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.473985684818522e+00 = 0.21952112681314992 / 8.873176920959135e-02
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Final value: 2.445795038517581e-01 = 2.473985684818522e+00 * 9.886051699999999e-02
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.445795038517581e-01 = 0.21952112681314992 * (9.886051699999999e-02 / 8.873176920959135e-02)
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21319576604999352
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.961908690168727e-02 = 8.569477300000000e-02 * 1.045794087133964
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.378910268120347e+00 = 0.21319576604999352 / 8.961908690168727e-02
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Final value: 2.351802990029861e-01 = 2.378910268120347e+00 * 9.886051699999999e-02
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.351802990029861e-01 = 0.21319576604999352 * (9.886051699999999e-02 / 8.961908690168727e-02)
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 9 more bins processed)
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.30955384845147 = 11.1092 - 2.799646151548529
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -   Total token value: 3.028803858456616e+00
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.30955384845147
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -   Final asset value: 1.133835770690809e+01
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1092
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.291577069080866e-01
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     PnL: 1.844050253751615e-01
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110920000000000e-02
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.732958253751615e-01
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     PnL: 2.387374343944839e-01
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.579727486397294e-03
2025-07-15 17:58:05,453 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.291577069080866e-01
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   position_id: pos_06-20-13-58-37_15695166
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (from CSV: 9.44)
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   Total points: 47
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750417200, 'close': 0.095431392, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750582800, 'close': 0.086359428, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   Valid prices: 47
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   Min price: 8.225453500000000e-02
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   Max price: 1.112033140000000e-01
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   Price ratio: 1.3519414339890194
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (type: <class 'float'>)
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-20 13:58:37
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-22 11:31:57
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   price_history length: 47
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.095431392, 0.098624688, 0.097396632, 0.092901056, 0.090515929]
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.096156281, 0.096206567, 0.093585917, 0.088178641, 0.086359428]
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   Initial price: 9.543139200000000e-02
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   Final price: 8.635942800000000e-02
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9049373187388904
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   initial_price: 9.543139200000000e-02
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   final_price: 8.635942800000000e-02
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9049373187388904
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.44 = 9.44 - 0
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.44
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   Final asset value: 9.440000000000000e+00
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   initial_price: 9.543139200000000e-02
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   final_price: 8.635942800000000e-02
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9049373187388904
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.44 = 9.44 - 0
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.44
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   Final asset value: 9.440000000000000e+00
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -     PnL: 9.440000000000000e-03
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -     PnL: 9.440000000000000e-03
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   position_id: pos_06-20-14-10-05_6485297
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1095 (from CSV: 11.1095)
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.26245 (from CSV: 0.26245)
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   Total points: 13
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750420800, 'close': 0.096398025, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750442400, 'close': 0.087221494, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   Valid prices: 13
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   Min price: 8.225453500000000e-02
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   Max price: 1.041540560000000e-01
2025-07-15 17:58:05,454 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2662408948029429
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1095 (type: <class 'float'>)
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.26245 (type: <class 'float'>)
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-20 14:10:05
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-20 20:07:38
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   price_history length: 13
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.096398025, 0.098624688, 0.09931743, 0.097396632, 0.104154056]
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.086011088, 0.082254535, 0.084282468, 0.088675753, 0.087221494]
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   Initial price: 9.639802500000000e-02
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   Final price: 8.722149400000000e-02
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9048058194138313
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1095
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   initial_price: 9.639802500000000e-02
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   final_price: 8.722149400000000e-02
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9048058194138313
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.1095 = 11.1095 - 0
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.1095
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   Final asset value: 1.110950000000000e+01
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1095
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1095
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   initial_price: 9.639802500000000e-02
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   final_price: 8.722149400000000e-02
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9048058194138313
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.1095 = 11.1095 - 0
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.1095
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   Final asset value: 1.110950000000000e+01
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1095
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -     PnL: 1.110950000000000e-02
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110950000000000e-02
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -     PnL: 7.776650000000000e-03
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -     PnL from fees: 7.776650000000000e-03
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   position_id: pos_06-20-20-09-31_6504749
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   investment_sol: 11.11 (from CSV: 11.11)
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01014 (from CSV: 0.01014)
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   Total points: 9
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750442400, 'close': 0.087822473, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750447200, 'close': 0.098684889, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   Valid prices: 9
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   Min price: 8.722149400000000e-02
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   Max price: 9.868488900000000e-02
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1314285559015993
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   investment_sol: 11.11 (type: <class 'float'>)
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01014 (type: <class 'float'>)
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-20 20:09:31
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-20 21:26:59
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   price_history length: 9
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,455 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.087822473, 0.089986417, 0.087221494, 0.087437624, 0.090666625]
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.090666625, 0.096178076, 0.096418041, 0.097745435, 0.098684889]
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -   Initial price: 8.782247300000000e-02
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -   Final price: 9.868488900000000e-02
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1236860638164903
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -   initial_sol: 11.11
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -   initial_price: 8.782247300000000e-02
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -   final_price: 9.868488900000000e-02
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1236860638164903
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -   active_bin_index: 11
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 11 bins): 1.7711594202898553
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG - 
Calculating token values for 11 activated bins:
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.826049303892475e-02 = 8.782247300000000e-02 * 1.004987562112089
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.824309917265162e+00 = 0.16101449275362317 / 8.826049303892475e-02
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Final value: 1.800318216869116e-01 = 1.824309917265162e+00 * 9.868488900000000e-02
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.800318216869116e-01 = 0.16101449275362317 * (9.868488900000000e-02 / 8.826049303892475e-02)
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.914309796931401e-02 = 8.782247300000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.806247442836793e+00 = 0.16101449275362317 / 8.914309796931401e-02
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Final value: 1.782493284028828e-01 = 1.806247442836793e+00 * 9.868488900000000e-02
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.782493284028828e-01 = 0.16101449275362317 * (9.868488900000000e-02 / 8.914309796931401e-02)
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.003452894900714e-02 = 8.782247300000000e-02 * 1.025187812110542
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.788363804788905e+00 = 0.16101449275362317 / 9.003452894900714e-02
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Final value: 1.764844835672107e-01 = 1.788363804788905e+00 * 9.868488900000000e-02
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.764844835672107e-01 = 0.16101449275362317 * (9.868488900000000e-02 / 9.003452894900714e-02)
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.093487423849722e-02 = 8.782247300000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.770657232464262e+00 = 0.16101449275362317 / 9.093487423849722e-02
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Final value: 1.747371124427829e-01 = 1.770657232464262e+00 * 9.868488900000000e-02
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.747371124427828e-01 = 0.16101449275362317 * (9.868488900000000e-02 / 9.093487423849722e-02)
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.184422298088220e-02 = 8.782247300000000e-02 * 1.045794087133964
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.753125972736893e+00 = 0.16101449275362317 / 9.184422298088220e-02
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Final value: 1.730070420225573e-01 = 1.753125972736893e+00 * 9.868488900000000e-02
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.730070420225573e-01 = 0.16101449275362317 * (9.868488900000000e-02 / 9.184422298088220e-02)
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 6 more bins processed)
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.338840579710144 = 11.11 - 1.7711594202898553
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -   Total token value: 1.885168030100633e+00
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.338840579710144
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -   Final asset value: 1.122400860981078e+01
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.11
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.140086098107780e-01
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -   initial_sol: 11.11
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -   initial_price: 8.782247300000000e-02
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -   final_price: 9.868488900000000e-02
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1236860638164903
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -   active_bin_index: 11
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 11 bins): 2.2894269792969553
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG - 
Calculating token values for 11 activated bins:
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23975880672802288
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.826049303892475e-02 = 8.782247300000000e-02 * 1.004987562112089
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.716490679723307e+00 = 0.23975880672802288 / 8.826049303892475e-02
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Final value: 2.680765811980291e-01 = 2.716490679723307e+00 * 9.868488900000000e-02
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.680765811980291e-01 = 0.23975880672802288 * (9.868488900000000e-02 / 8.826049303892475e-02)
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23281077902439942
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.914309796931401e-02 = 8.782247300000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.611652324496739e+00 = 0.23281077902439942 / 8.914309796931401e-02
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Final value: 2.577306197495526e-01 = 2.611652324496739e+00 * 9.868488900000000e-02
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.577306197495526e-01 = 0.23281077902439942 * (9.868488900000000e-02 / 8.914309796931401e-02)
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2260701551328243
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.003452894900714e-02 = 8.782247300000000e-02 * 1.025187812110542
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.510927282807951e+00 = 0.2260701551328243 / 9.003452894900714e-02
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Final value: 2.477905801909742e-01 = 2.510927282807951e+00 * 9.868488900000000e-02
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.477905801909742e-01 = 0.2260701551328243 * (9.868488900000000e-02 / 9.003452894900714e-02)
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21953693505329777
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.093487423849722e-02 = 8.782247300000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.414221572215657e+00 = 0.21953693505329777 / 9.093487423849722e-02
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Final value: 2.382471878755076e-01 = 2.414221572215657e+00 * 9.868488900000000e-02
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.382471878755076e-01 = 0.21953693505329777 * (9.868488900000000e-02 / 9.093487423849722e-02)
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2132111187858197
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.184422298088220e-02 = 8.782247300000000e-02 * 1.045794087133964
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.321442893911799e+00 = 0.2132111187858197 / 9.184422298088220e-02
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Final value: 2.290913343055246e-01 = 2.321442893911799e+00 * 9.868488900000000e-02
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.290913343055246e-01 = 0.2132111187858197 * (9.868488900000000e-02 / 9.184422298088220e-02)
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 6 more bins processed)
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.820573020703044 = 11.11 - 2.2894269792969553
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -   Total token value: 2.443806563169602e+00
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.820573020703044
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -   Final asset value: 1.126437958387265e+01
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.11
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.543795838726467e-01
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,456 - DEEP_DEBUG - DEBUG -     PnL: 1.251186098107780e-01
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.111000000000000e-02
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.140086098107780e-01
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     PnL: 1.654895838726467e-01
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.111000000000000e-02
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.543795838726467e-01
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   position_id: pos_06-20-22-14-52_6512538
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1076 (from CSV: 11.1076)
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.07503 (from CSV: 0.07503)
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   Total points: 15
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750449600, 'close': 0.103596117, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750474800, 'close': 0.106835566, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   Valid prices: 15
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   Min price: 8.902423600000001e-02
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   Max price: 1.073732280000000e-01
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2061123220422807
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1076 (type: <class 'float'>)
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.07503 (type: <class 'float'>)
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-20 22:14:52
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-21 05:14:32
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   price_history length: 15
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.103596117, 0.102749398, 0.103327841, 0.107373228, 0.107373228]
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.099935163, 0.100452537, 0.103695885, 0.105726198, 0.106835566]
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   Initial price: 1.035961170000000e-01
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   Final price: 1.068355660000000e-01
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0312699847620737
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1076
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   initial_price: 1.035961170000000e-01
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   final_price: 1.068355660000000e-01
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0312699847620737
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.48293913043478265
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16097971014492754
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.041128090681087e-01 = 1.035961170000000e-01 * 1.004987562112089
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.546204656140029e+00 = 0.16097971014492754 / 1.041128090681087e-01
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     Final value: 1.651896495905553e-01 = 1.546204656140029e+00 * 1.068355660000000e-01
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.651896495905553e-01 = 0.16097971014492754 * (1.068355660000000e-01 / 1.041128090681087e-01)
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16097971014492754
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.051539371587898e-01 = 1.035961170000000e-01 * 1.0150374377332099
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.530895699148543e+00 = 0.16097971014492754 / 1.051539371587898e-01
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     Final value: 1.635541085055003e-01 = 1.530895699148543e+00 * 1.068355660000000e-01
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.635541085055003e-01 = 0.16097971014492754 * (1.068355660000000e-01 / 1.051539371587898e-01)
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16097971014492754
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.062054765303777e-01 = 1.035961170000000e-01 * 1.025187812110542
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.515738315988657e+00 = 0.16097971014492754 / 1.062054765303777e-01
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     Final value: 1.619347608965350e-01 = 1.515738315988657e+00 * 1.068355660000000e-01
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.619347608965350e-01 = 0.16097971014492754 * (1.068355660000000e-01 / 1.062054765303777e-01)
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.624660869565217 = 11.1076 - 0.48293913043478265
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   Total token value: 4.906785189925907e-01
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.624660869565217
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111533938855781e+01
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1076
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   PnL from assets: 7.739388557807203e-03
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1076
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   initial_price: 1.035961170000000e-01
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   final_price: 1.068355660000000e-01
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0312699847620737
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.6984888196090879
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2397070136464615
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.041128090681087e-01 = 1.035961170000000e-01 * 1.004987562112089
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.302377736150116e+00 = 0.2397070136464615 / 1.041128090681087e-01
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     Final value: 2.459758285873964e-01 = 2.302377736150116e+00 * 1.068355660000000e-01
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.459758285873963e-01 = 0.2397070136464615 * (1.068355660000000e-01 / 1.041128090681087e-01)
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23276048686691442
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.051539371587898e-01 = 1.035961170000000e-01 * 1.0150374377332099
2025-07-15 17:58:05,457 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.213521368348098e+00 = 0.23276048686691442 / 1.051539371587898e-01
2025-07-15 17:58:05,458 - DEEP_DEBUG - DEBUG -     Final value: 2.364828082405636e-01 = 2.213521368348098e+00 * 1.068355660000000e-01
2025-07-15 17:58:05,458 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.364828082405636e-01 = 0.23276048686691442 * (1.068355660000000e-01 / 1.051539371587898e-01)
2025-07-15 17:58:05,458 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,458 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.22602131909571194
2025-07-15 17:58:05,458 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,458 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.062054765303777e-01 = 1.035961170000000e-01 * 1.025187812110542
2025-07-15 17:58:05,458 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.128151263753932e+00 = 0.22602131909571194 / 1.062054765303777e-01
2025-07-15 17:58:05,458 - DEEP_DEBUG - DEBUG -     Final value: 2.273622447967667e-01 = 2.128151263753932e+00 * 1.068355660000000e-01
2025-07-15 17:58:05,458 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.273622447967666e-01 = 0.22602131909571194 * (1.068355660000000e-01 / 1.062054765303777e-01)
2025-07-15 17:58:05,458 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.409111180390912 = 11.1076 - 0.6984888196090879
2025-07-15 17:58:05,458 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,458 - DEEP_DEBUG - DEBUG -   Total token value: 7.098208816247267e-01
2025-07-15 17:58:05,458 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.409111180390912
2025-07-15 17:58:05,458 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111893206201564e+01
2025-07-15 17:58:05,458 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1076
2025-07-15 17:58:05,458 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.133206201563830e-02
2025-07-15 17:58:05,458 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,458 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,458 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,458 - DEEP_DEBUG - DEBUG -     PnL: 1.884698855780721e-02
2025-07-15 17:58:05,458 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110760000000000e-02
2025-07-15 17:58:05,458 - DEEP_DEBUG - DEBUG -     PnL from IL: 7.739388557807203e-03
2025-07-15 17:58:05,458 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,458 - DEEP_DEBUG - DEBUG -     PnL: 1.807661603330320e-02
2025-07-15 17:58:05,458 - DEEP_DEBUG - DEBUG -     PnL from fees: 6.744554017664899e-03
2025-07-15 17:58:05,458 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.133206201563830e-02
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Gorbagana-SOL
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   position_id: pos_06-21-12-26-37_29054741
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   investment_sol: 8.8796 (from CSV: 8.8796)
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02674 (from CSV: 0.02674)
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   Total points: 10
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750500000, 'close': 0.041458965, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750516200, 'close': 0.042993273, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   Valid prices: 10
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   Min price: 4.013819700000000e-02
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   Max price: 4.800542100000000e-02
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1960034228742262
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   investment_sol: 8.8796 (type: <class 'float'>)
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02674 (type: <class 'float'>)
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-21 12:26:37
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-21 16:30:58
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   price_history length: 10
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.041458965, 0.044597436, 0.045359566, 0.043483533, 0.048005421]
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.044782503, 0.041743896, 0.043499804, 0.040138197, 0.042993273]
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   Initial price: 4.145896500000000e-02
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   Final price: 4.299327300000000e-02
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0370078703122472
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   initial_sol: 8.8796
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   initial_price: 4.145896500000000e-02
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   final_price: 4.299327300000000e-02
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0370078703122472
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.532776
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.177592
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.166574416304042e-02 = 4.145896500000000e-02 * 1.004987562112089
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.262302367745370e+00 = 0.177592 / 4.166574416304042e-02
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -     Final value: 1.832503293050231e-01 = 4.262302367745370e+00 * 4.299327300000000e-02
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.832503293050231e-01 = 0.177592 * (4.299327300000000e-02 / 4.166574416304042e-02)
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.177592
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.208240160467083e-02 = 4.145896500000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.220101354203337e+00 = 0.177592 / 4.208240160467083e-02
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -     Final value: 1.814359696089337e-01 = 4.220101354203337e+00 * 4.299327300000000e-02
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.814359696089337e-01 = 0.177592 * (4.299327300000000e-02 / 4.208240160467083e-02)
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.177592
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.250322562071754e-02 = 4.145896500000000e-02 * 1.025187812110542
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.178318172478551e+00 = 0.177592 / 4.250322562071754e-02
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -     Final value: 1.796395738702314e-01 = 4.178318172478551e+00 * 4.299327300000000e-02
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.796395738702314e-01 = 0.177592 * (4.299327300000000e-02 / 4.250322562071754e-02)
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.346824 = 8.8796 - 0.532776
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   Total token value: 5.443258727841882e-01
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.346824
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   Final asset value: 8.891149872784188e+00
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.8796
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.154987278418851e-02
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   initial_sol: 8.8796
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   initial_price: 4.145896500000000e-02
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   final_price: 4.299327300000000e-02
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0370078703122472
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,459 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.7599004625850339
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.26369721212121205
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.166574416304042e-02 = 4.145896500000000e-02 * 1.004987562112089
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.328873212712820e+00 = 0.26369721212121205 / 4.166574416304042e-02
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -     Final value: 2.720989738165493e-01 = 6.328873212712820e+00 * 4.299327300000000e-02
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.720989738165493e-01 = 0.26369721212121205 * (4.299327300000000e-02 / 4.166574416304042e-02)
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.253153716759431
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.208240160467083e-02 = 4.145896500000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.015667050982491e+00 = 0.253153716759431 / 4.208240160467083e-02
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -     Final value: 2.586332157999952e-01 = 6.015667050982491e+00 * 4.299327300000000e-02
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.586332157999951e-01 = 0.253153716759431 * (4.299327300000000e-02 / 4.208240160467083e-02)
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.24304953370439072
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.250322562071754e-02 = 4.145896500000000e-02 * 1.025187812110542
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.718378550213375e+00 = 0.24304953370439072 / 4.250322562071754e-02
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -     Final value: 2.458518101266678e-01 = 5.718378550213375e+00 * 4.299327300000000e-02
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.458518101266678e-01 = 0.24304953370439072 * (4.299327300000000e-02 / 4.250322562071754e-02)
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.119699537414967 = 8.8796 - 0.7599004625850339
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   Total token value: 7.765839997432122e-01
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.119699537414967
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   Final asset value: 8.896283537158180e+00
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.8796
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.668353715817972e-02
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -     PnL: 2.042947278418851e-02
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.879600000000000e-03
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.154987278418851e-02
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -     PnL: 2.556313715817972e-02
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.879600000000000e-03
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.668353715817972e-02
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Gorbagana-SOL
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   position_id: pos_06-21-17-08-23_29069972
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   investment_sol: 8.8797 (from CSV: 8.8797)
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.14853 (from CSV: -0.14853)
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   Total points: 72
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750518000, 'close': 0.043810932, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750773600, 'close': 0.02566411, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   Valid prices: 72
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   Min price: 2.075794200000000e-02
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   Max price: 5.472266200000000e-02
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   Price ratio: 2.6362277146742192
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   investment_sol: 8.8797 (type: <class 'float'>)
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.14853 (type: <class 'float'>)
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-21 17:08:23
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-24 16:58:13
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   price_history length: 72
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.043810932, 0.054722662, 0.050775963, 0.048076854, 0.045941939]
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.025269748, 0.027810746, 0.026624946, 0.025193726, 0.02566411]
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   Initial price: 4.381093200000000e-02
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   Final price: 2.566411000000000e-02
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   Price ratio: 0.5857923771171999
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   initial_sol: 8.8797
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   initial_price: 4.381093200000000e-02
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   final_price: 2.566411000000000e-02
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   price_ratio: 0.5857923771171999
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.8797 = 8.8797 - 0
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.8797
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   Final asset value: 8.879700000000000e+00
2025-07-15 17:58:05,460 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.8797
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   initial_sol: 8.8797
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   initial_price: 4.381093200000000e-02
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   final_price: 2.566411000000000e-02
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   price_ratio: 0.5857923771171999
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.8797 = 8.8797 - 0
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.8797
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   Final asset value: 8.879700000000000e+00
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.8797
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -     PnL: 8.879699999999999e-03
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.879699999999999e-03
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -     PnL: 8.879699999999999e-03
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.879699999999999e-03
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   position_id: pos_06-21-17-16-31_6635139
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1094 (from CSV: 11.1094)
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   Total points: 18
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750518000, 'close': 0.110688502, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750579200, 'close': 0.088178641, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   Valid prices: 18
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   Min price: 8.817864100000000e-02
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   Max price: 1.106885020000000e-01
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2552756625042565
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1094 (type: <class 'float'>)
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-21 17:16:31
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-22 10:16:21
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   price_history length: 18
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.110688502, 0.108000871, 0.098375243, 0.100400503, 0.092644504]
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.095808332, 0.096156281, 0.096206567, 0.093585917, 0.088178641]
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   Initial price: 1.106885020000000e-01
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   Final price: 8.817864100000000e-02
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   Price ratio: 0.7966377664050418
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1094
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   initial_price: 1.106885020000000e-01
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   final_price: 8.817864100000000e-02
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   price_ratio: 0.7966377664050418
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.1094 = 11.1094 - 0
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.1094
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   Final asset value: 1.110940000000000e+01
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1094
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1094
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   initial_price: 1.106885020000000e-01
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   final_price: 8.817864100000000e-02
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   price_ratio: 0.7966377664050418
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.1094 = 11.1094 - 0
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,461 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.1094
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   Final asset value: 1.110940000000000e+01
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1094
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -     PnL: 1.110940000000000e-02
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110940000000000e-02
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -     PnL: 1.110940000000000e-02
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110940000000000e-02
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   position_id: pos_06-22-10-36-19_6733664
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1085 (from CSV: 11.1085)
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01521 (from CSV: 0.01521)
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   Total points: 7
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750581000, 'close': 0.089485778, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750584600, 'close': 0.090497601, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   Valid prices: 7
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   Min price: 8.807402400000000e-02
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   Max price: 9.049760100000000e-02
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0275175005061652
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1085 (type: <class 'float'>)
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01521 (type: <class 'float'>)
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-22 10:36:19
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-22 11:32:11
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   price_history length: 7
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.089485778, 0.088074024, 0.088178641, 0.088460559, 0.089553146]
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.088178641, 0.088460559, 0.089553146, 0.090497601, 0.090497601]
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   Initial price: 8.948577800000000e-02
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   Final price: 9.049760100000000e-02
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0113070816683294
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1085
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   initial_price: 8.948577800000000e-02
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   final_price: 9.049760100000000e-02
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0113070816683294
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   active_bin_index: 1
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 1 bins): 0.1609927536231884
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG - 
Calculating token values for 1 activated bins:
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1609927536231884
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.993209387592360e-02 = 8.948577800000000e-02 * 1.004987562112089
2025-07-15 17:58:05,462 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.790159070968645e+00 = 0.1609927536231884 / 8.993209387592360e-02
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -     Final value: 1.620051013310511e-01 = 1.790159070968645e+00 * 9.049760100000000e-02
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.620051013310512e-01 = 0.1609927536231884 * (9.049760100000000e-02 / 8.993209387592360e-02)
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.94750724637681 = 11.1085 - 0.1609927536231884
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   Total token value: 1.620051013310511e-01
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.94750724637681
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   Final asset value: 1.110951234770786e+01
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1085
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.012347707861849e-03
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1085
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   initial_price: 8.948577800000000e-02
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   final_price: 9.049760100000000e-02
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0113070816683294
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   active_bin_index: 1
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 1 bins): 0.239726436052047
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG - 
Calculating token values for 1 activated bins:
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.239726436052047
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.993209387592360e-02 = 8.948577800000000e-02 * 1.004987562112089
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.665638324654042e+00 = 0.239726436052047 / 8.993209387592360e-02
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -     Final value: 2.412338735148499e-01 = 2.665638324654042e+00 * 9.049760100000000e-02
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.412338735148499e-01 = 0.239726436052047 * (9.049760100000000e-02 / 8.993209387592360e-02)
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.868773563947952 = 11.1085 - 0.239726436052047
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   Total token value: 2.412338735148499e-01
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.868773563947952
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111000743746280e+01
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1085
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.507437462802130e-03
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -     PnL: 1.212084770786185e-02
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110850000000000e-02
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.012347707861849e-03
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -     PnL: 9.283387462802131e-03
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -     PnL from fees: 7.775949999999999e-03
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.507437462802130e-03
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   position_id: pos_06-22-13-10-39_6758081
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   investment_sol: 11.11 (from CSV: 11.11)
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.35679 (from CSV: 0.35679)
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   Total points: 9
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750590000, 'close': 0.09438536, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750604400, 'close': 0.078564372, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   Valid prices: 9
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   Min price: 7.647619899999999e-02
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   Max price: 9.490309800000001e-02
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2409494619365171
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   investment_sol: 11.11 (type: <class 'float'>)
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.35679 (type: <class 'float'>)
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-22 13:10:39
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-22 17:26:13
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   price_history length: 9
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.09438536, 0.09438536, 0.094903098, 0.089789596, 0.081411947]
2025-07-15 17:58:05,463 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.081411947, 0.079498086, 0.07698792, 0.076476199, 0.078564372]
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   Initial price: 9.438536000000000e-02
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   Final price: 7.856437199999999e-02
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   Price ratio: 0.8323787926432658
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   initial_sol: 11.11
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   initial_price: 9.438536000000000e-02
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   final_price: 7.856437199999999e-02
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8323787926432658
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.11 = 11.11 - 0
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.11
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111000000000000e+01
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.11
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   initial_sol: 11.11
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   initial_price: 9.438536000000000e-02
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   final_price: 7.856437199999999e-02
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8323787926432658
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.11 = 11.11 - 0
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.11
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111000000000000e+01
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.11
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -     PnL: 1.111000000000000e-02
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.111000000000000e-02
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -     PnL: 7.776999999999999e-03
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -     PnL from fees: 7.776999999999999e-03
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   position_id: pos_06-22-20-37-58_6806669
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1078 (from CSV: 11.1078)
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   Total points: 6
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750617000, 'close': 0.088219418, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750620000, 'close': 0.083707358, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   Valid prices: 6
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   Min price: 8.370735800000000e-02
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   Max price: 8.903485000000000e-02
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0636442497683418
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1078 (type: <class 'float'>)
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-22 20:37:58
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-22 21:21:19
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   price_history length: 6
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,464 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.088219418, 0.08903485, 0.08903485, 0.085813244, 0.08441179]
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.08903485, 0.08903485, 0.085813244, 0.08441179, 0.083707358]
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -   Initial price: 8.821941799999999e-02
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -   Final price: 8.370735800000000e-02
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -   Price ratio: 0.948854117355433
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1078
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -   initial_price: 8.821941799999999e-02
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -   final_price: 8.370735800000000e-02
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -   price_ratio: 0.948854117355433
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.1078 = 11.1078 - 0
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.1078
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -   Final asset value: 1.110780000000000e+01
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1078
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1078
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -   initial_price: 8.821941799999999e-02
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -   final_price: 8.370735800000000e-02
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -   price_ratio: 0.948854117355433
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.1078 = 11.1078 - 0
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.1078
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -   Final asset value: 1.110780000000000e+01
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1078
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -     PnL: 1.110780000000000e-02
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110780000000000e-02
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -     PnL: 1.110780000000000e-02
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110780000000000e-02
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,465 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG -   position_id: pos_06-22-21-21-19_6809001
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG -   investment_sol: 11.108 (from CSV: 11.108)
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.04273 (from CSV: 0.04273)
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG -   Total points: 7
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750620000, 'close': 0.083707358, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750623600, 'close': 0.080961814, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG -   Valid prices: 7
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG -   Min price: 7.987778199999999e-02
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG -   Max price: 8.370735800000000e-02
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0479429436335626
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG -   investment_sol: 11.108 (type: <class 'float'>)
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.04273 (type: <class 'float'>)
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-22 21:21:19
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-22 22:27:06
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG -   price_history length: 7
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.083707358, 0.083129047, 0.083129047, 0.082397866, 0.080177047]
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.083129047, 0.082397866, 0.080177047, 0.079877782, 0.080961814]
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG -   Initial price: 8.370735800000000e-02
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG -   Final price: 8.096181399999999e-02
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9672006850341639
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG -   initial_sol: 11.108
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG -   initial_price: 8.370735800000000e-02
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG -   final_price: 8.096181399999999e-02
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9672006850341639
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.108 = 11.108 - 0
2025-07-15 17:58:05,466 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.108
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG -   Final asset value: 1.110800000000000e+01
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.108
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG -   initial_sol: 11.108
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG -   initial_price: 8.370735800000000e-02
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG -   final_price: 8.096181399999999e-02
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9672006850341639
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.108 = 11.108 - 0
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.108
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG -   Final asset value: 1.110800000000000e+01
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.108
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG -     PnL: 1.110800000000000e-02
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110800000000000e-02
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG -     PnL: 7.775600000000001e-03
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG -     PnL from fees: 7.775600000000001e-03
2025-07-15 17:58:05,467 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   position_id: pos_06-22-23-36-13_16230723
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (from CSV: 9.44)
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   Total points: 45
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750626000, 'close': 0.088279542, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750784400, 'close': 0.133445716, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   Valid prices: 45
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   Min price: 8.827954200000000e-02
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   Max price: 1.435520320000000e-01
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   Price ratio: 1.6261075754108465
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (type: <class 'float'>)
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-22 23:36:13
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-24 19:32:44
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   price_history length: 45
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.088279542, 0.099431211, 0.099480625, 0.105004338, 0.103369629]
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.132681462, 0.13977622, 0.137332631, 0.141303365, 0.133445716]
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   Initial price: 8.827954200000000e-02
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   Final price: 1.334457160000000e-01
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   Price ratio: 1.5116267368038678
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   initial_price: 8.827954200000000e-02
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   final_price: 1.334457160000000e-01
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   price_ratio: 1.5116267368038678
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   active_bin_index: 41
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 41 bins): 7.740799999999994
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG - 
Calculating token values for 41 activated bins:
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.871984169895177e-02 = 8.827954200000000e-02 * 1.004987562112089
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.128047079261534e+00 = 0.1888 / 8.871984169895177e-02
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -     Final value: 2.839787661737642e-01 = 2.128047079261534e+00 * 1.334457160000000e-01
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.839787661737642e-01 = 0.1888 * (1.334457160000000e-01 / 8.871984169895177e-02)
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.960704011594128e-02 = 8.827954200000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.106977306199539e+00 = 0.1888 / 8.960704011594128e-02
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -     Final value: 2.811670952215487e-01 = 2.106977306199539e+00 * 1.334457160000000e-01
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.811670952215487e-01 = 0.1888 * (1.334457160000000e-01 / 8.960704011594128e-02)
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.050311051710071e-02 = 8.827954200000000e-02 * 1.025187812110542
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.086116144752018e+00 = 0.1888 / 9.050311051710071e-02
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -     Final value: 2.783832625955927e-01 = 2.086116144752018e+00 * 1.334457160000000e-01
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.783832625955927e-01 = 0.1888 * (1.334457160000000e-01 / 9.050311051710071e-02)
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.140814162227170e-02 = 8.827954200000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.065461529457445e+00 = 0.1888 / 9.140814162227170e-02
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -     Final value: 2.756269926689038e-01 = 2.065461529457445e+00 * 1.334457160000000e-01
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.756269926689037e-01 = 0.1888 * (1.334457160000000e-01 / 9.140814162227170e-02)
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1888
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.232222303849442e-02 = 8.827954200000000e-02 * 1.045794087133964
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.045011415304400e+00 = 0.1888 / 9.232222303849442e-02
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -     Final value: 2.728980125434691e-01 = 2.045011415304400e+00 * 1.334457160000000e-01
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.728980125434690e-01 = 0.1888 * (1.334457160000000e-01 / 9.232222303849442e-02)
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 36 more bins processed)
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 1.6992000000000056 = 9.44 - 7.740799999999994
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   Total token value: 9.608332416517865e+00
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   Remaining SOL: 1.6992000000000056
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   Final asset value: 1.130753241651787e+01
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.867532416517870e+00
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,469 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -   initial_price: 8.827954200000000e-02
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -   final_price: 1.334457160000000e-01
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -   price_ratio: 1.5116267368038678
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -   active_bin_index: 41
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 41 bins): 7.281234879406306
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG - 
Calculating token values for 41 activated bins:
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.28033939393939383
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.871984169895177e-02 = 8.827954200000000e-02 * 1.004987562112089
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.159827481327732e+00 = 0.28033939393939383 / 8.871984169895177e-02
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     Final value: 4.216654406822558e-01 = 3.159827481327732e+00 * 1.334457160000000e-01
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     Alt calculation: 4.216654406822558e-01 = 0.28033939393939383 * (1.334457160000000e-01 / 8.871984169895177e-02)
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2691304885590599
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.960704011594128e-02 = 8.827954200000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.003452498942447e+00 = 0.2691304885590599 / 8.960704011594128e-02
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     Final value: 4.007978691933640e-01 = 3.003452498942447e+00 * 1.334457160000000e-01
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     Alt calculation: 4.007978691933640e-01 = 0.2691304885590599 * (1.334457160000000e-01 / 8.960704011594128e-02)
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2583886209029065
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.050311051710071e-02 = 8.827954200000000e-02 * 1.025187812110542
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.855024754691537e+00 = 0.2583886209029065 / 9.050311051710071e-02
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     Final value: 3.809908225875364e-01 = 2.855024754691537e+00 * 1.334457160000000e-01
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.809908225875364e-01 = 0.2583886209029065 * (1.334457160000000e-01 / 9.050311051710071e-02)
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.24811379097093378
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.140814162227170e-02 = 8.827954200000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.714351113232572e+00 = 0.24811379097093378 / 9.140814162227170e-02
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     Final value: 3.622185277807176e-01 = 2.714351113232572e+00 * 1.334457160000000e-01
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.622185277807176e-01 = 0.24811379097093378 * (1.334457160000000e-01 / 9.140814162227170e-02)
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23830599876314157
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.232222303849442e-02 = 8.827954200000000e-02 * 1.045794087133964
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.581241990498627e+00 = 0.23830599876314157 / 9.232222303849442e-02
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     Final value: 3.444556855913545e-01 = 2.581241990498627e+00 * 1.334457160000000e-01
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.444556855913545e-01 = 0.23830599876314157 * (1.334457160000000e-01 / 9.232222303849442e-02)
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 36 more bins processed)
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 2.158765120593693 = 9.44 - 7.281234879406306
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -   Total token value: 9.195649969848866e+00
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -   Remaining SOL: 2.158765120593693
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -   Final asset value: 1.135441509044256e+01
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.914415090442558e+00
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     PnL: 1.876972416517870e+00
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.867532416517870e+00
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     PnL: 1.923855090442558e+00
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:05,470 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.914415090442558e+00
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for aura-SOL
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   position_id: pos_06-23-19-24-27_6938600
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   investment_sol: 20.2 (from CSV: 20.2)
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   Total points: 70
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750698000, 'close': 0.12663652, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750946400, 'close': 0.116082387, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   Valid prices: 70
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   Min price: 1.020245390000000e-01
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   Max price: 1.472581220000000e-01
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   Price ratio: 1.4433598371858363
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   investment_sol: 20.2 (type: <class 'float'>)
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-23 19:24:27
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-26 16:08:41
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   price_history length: 70
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.12663652, 0.121326838, 0.131475916, 0.132712339, 0.129908804]
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.104464158, 0.107819644, 0.109753795, 0.117011912, 0.116082387]
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   Initial price: 1.266365200000000e-01
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   Final price: 1.160823870000000e-01
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9166580619871739
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   initial_sol: 20.2
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   initial_price: 1.266365200000000e-01
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   final_price: 1.160823870000000e-01
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9166580619871739
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 20.2 = 20.2 - 0
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   Remaining SOL: 20.2
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   Final asset value: 2.020000000000000e+01
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   Initial SOL: 20.2
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   initial_sol: 20.2
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   initial_price: 1.266365200000000e-01
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   final_price: 1.160823870000000e-01
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9166580619871739
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 20.2 = 20.2 - 0
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   Remaining SOL: 20.2
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   Final asset value: 2.020000000000000e+01
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   Initial SOL: 20.2
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -     PnL: 2.020000000000000e-02
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -     PnL from fees: 2.020000000000000e-02
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -     PnL: 2.020000000000000e-02
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -     PnL from fees: 2.020000000000000e-02
2025-07-15 17:58:05,471 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   position_id: pos_06-23-20-25-01_6941029
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   investment_sol: 20.2 (from CSV: 20.2)
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01203 (from CSV: 0.01203)
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   Total points: 14
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750702800, 'close': 0.125278294, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750710600, 'close': 0.129569065, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   Valid prices: 14
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   Min price: 1.185015580000000e-01
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   Max price: 1.316963300000000e-01
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   Price ratio: 1.111346822967509
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   investment_sol: 20.2 (type: <class 'float'>)
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01203 (type: <class 'float'>)
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-23 20:25:01
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-23 22:30:05
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   price_history length: 14
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.125278294, 0.12729401, 0.123825529, 0.118501558, 0.13169633]
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.126298745, 0.125900345, 0.129569065, 0.129569065, 0.129569065]
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   Initial price: 1.252782940000000e-01
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   Final price: 1.295690650000000e-01
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0342499156318332
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   initial_sol: 20.2
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   initial_price: 1.252782940000000e-01
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   final_price: 1.295690650000000e-01
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0342499156318332
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.8782608695652174
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2927536231884058
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.259031272726215e-01 = 1.252782940000000e-01 * 1.004987562112089
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.325229162533018e+00 = 0.2927536231884058 / 1.259031272726215e-01
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -     Final value: 3.012777685001363e-01 = 2.325229162533018e+00 * 1.295690650000000e-01
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.012777685001362e-01 = 0.2927536231884058 * (1.295690650000000e-01 / 1.259031272726215e-01)
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2927536231884058
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.271621585453478e-01 = 1.252782940000000e-01 * 1.0150374377332099
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.302207091616850e+00 = 0.2927536231884058 / 1.271621585453478e-01
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -     Final value: 2.982948202971646e-01 = 2.302207091616850e+00 * 1.295690650000000e-01
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.982948202971646e-01 = 0.2927536231884058 * (1.295690650000000e-01 / 1.271621585453478e-01)
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2927536231884058
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.284337801308013e-01 = 1.252782940000000e-01 * 1.025187812110542
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.279412961996881e+00 = 0.2927536231884058 / 1.284337801308013e-01
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -     Final value: 2.953414062348164e-01 = 2.279412961996881e+00 * 1.295690650000000e-01
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.953414062348164e-01 = 0.2927536231884058 * (1.295690650000000e-01 / 1.284337801308013e-01)
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 19.321739130434782 = 20.2 - 0.8782608695652174
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   Total token value: 8.949139950321172e-01
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   Remaining SOL: 19.321739130434782
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   Final asset value: 2.021665312546690e+01
2025-07-15 17:58:05,472 - DEEP_DEBUG - DEBUG -   Initial SOL: 20.2
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.665312546689890e-02
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -   initial_sol: 20.2
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -   initial_price: 1.252782940000000e-01
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -   final_price: 1.295690650000000e-01
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0342499156318332
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 1.270254074336812
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.4359251031418598
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.259031272726215e-01 = 1.252782940000000e-01 * 1.004987562112089
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.462385030341137e+00 = 0.4359251031418598 / 1.259031272726215e-01
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -     Final value: 4.486179910512978e-01 = 3.462385030341137e+00 * 1.295690650000000e-01
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -     Alt calculation: 4.486179910512978e-01 = 0.4359251031418598 * (1.295690650000000e-01 / 1.259031272726215e-01)
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.42329232549890805
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.271621585453478e-01 = 1.252782940000000e-01 * 1.0150374377332099
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.328760146423248e+00 = 0.42329232549890805 / 1.271621585453478e-01
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -     Final value: 4.313043397813233e-01 = 3.328760146423248e+00 * 1.295690650000000e-01
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -     Alt calculation: 4.313043397813233e-01 = 0.42329232549890805 * (1.295690650000000e-01 / 1.271621585453478e-01)
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.4110366456960442
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.284337801308013e-01 = 1.252782940000000e-01 * 1.025187812110542
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.200378010188836e+00 = 0.4110366456960442 / 1.284337801308013e-01
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -     Final value: 4.146699864267280e-01 = 3.200378010188836e+00 * 1.295690650000000e-01
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -     Alt calculation: 4.146699864267280e-01 = 0.4110366456960442 * (1.295690650000000e-01 / 1.284337801308013e-01)
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 18.929745925663187 = 20.2 - 1.270254074336812
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -   Total token value: 1.294592317259349e+00
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -   Remaining SOL: 18.929745925663187
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -   Final asset value: 2.022433824292253e+01
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -   Initial SOL: 20.2
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.433824292253561e-02
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -     PnL: 3.685312546689890e-02
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -     PnL from fees: 2.020000000000000e-02
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.665312546689890e-02
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -     PnL: 3.847824292253561e-02
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.414000000000000e-02
2025-07-15 17:58:05,473 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.433824292253561e-02
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   position_id: pos_06-24-01-42-49_6954614
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   investment_sol: 20.2 (from CSV: 20.2)
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01229 (from CSV: 0.01229)
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   Total points: 22
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750722000, 'close': 0.128824028, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750734600, 'close': 0.130069303, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   Valid prices: 22
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   Min price: 1.245778430000000e-01
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   Max price: 1.369280070000000e-01
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0991361200562768
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   investment_sol: 20.2 (type: <class 'float'>)
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01229 (type: <class 'float'>)
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-24 01:42:49
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-24 05:19:40
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   price_history length: 22
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.128824028, 0.128824028, 0.128824028, 0.125714529, 0.124577843]
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.125630046, 0.125497619, 0.125497619, 0.130113084, 0.130069303]
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   Initial price: 1.288240280000000e-01
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   Final price: 1.300693030000000e-01
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0096664808524696
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   initial_sol: 20.2
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   initial_price: 1.288240280000000e-01
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   final_price: 1.300693030000000e-01
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0096664808524696
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 20.2 = 20.2 - 0
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   Remaining SOL: 20.2
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   Final asset value: 2.020000000000000e+01
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   Initial SOL: 20.2
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   initial_sol: 20.2
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   initial_price: 1.288240280000000e-01
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   final_price: 1.300693030000000e-01
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0096664808524696
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 20.2 = 20.2 - 0
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   Remaining SOL: 20.2
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   Final asset value: 2.020000000000000e+01
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   Initial SOL: 20.2
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -     PnL: 2.020000000000000e-02
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -     PnL from fees: 2.020000000000000e-02
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -     PnL: 1.895535795289005e-02
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.895535795289005e-02
2025-07-15 17:58:05,474 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   position_id: pos_06-24-05-45-19_6968710
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   investment_sol: 20.2 (from CSV: 20.2)
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.01853 (from CSV: -0.01853)
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   Total points: 12
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750735800, 'close': 0.135094085, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750755600, 'close': 0.129353914, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   Valid prices: 12
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   Min price: 1.243232660000000e-01
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   Max price: 1.435520320000000e-01
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1546674779280652
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   investment_sol: 20.2 (type: <class 'float'>)
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.01853 (type: <class 'float'>)
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-24 05:45:19
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-24 11:05:36
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   price_history length: 12
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.135094085, 0.131754401, 0.131754401, 0.139027118, 0.143552032]
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.134183398, 0.131296559, 0.12638501, 0.124323266, 0.129353914]
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   Initial price: 1.350940850000000e-01
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   Final price: 1.293539140000000e-01
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   Price ratio: 0.957509827317754
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   initial_sol: 20.2
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   initial_price: 1.350940850000000e-01
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   final_price: 1.293539140000000e-01
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   price_ratio: 0.957509827317754
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 20.2 = 20.2 - 0
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   Remaining SOL: 20.2
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   Final asset value: 2.020000000000000e+01
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   Initial SOL: 20.2
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   initial_sol: 20.2
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   initial_price: 1.350940850000000e-01
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   final_price: 1.293539140000000e-01
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   price_ratio: 0.957509827317754
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 20.2 = 20.2 - 0
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   Remaining SOL: 20.2
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   Final asset value: 2.020000000000000e+01
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   Initial SOL: 20.2
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -     PnL: 2.020000000000000e-02
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -     PnL from fees: 2.020000000000000e-02
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -     PnL: 2.020000000000000e-02
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -     PnL from fees: 2.020000000000000e-02
2025-07-15 17:58:05,475 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   position_id: pos_06-24-19-08-36_7017916
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (from CSV: 15.0)
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   Total points: 6
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750784400, 'close': 0.137852463, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750787400, 'close': 0.133445716, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   Valid prices: 6
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   Min price: 1.334457160000000e-01
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   Max price: 1.378524630000000e-01
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   Price ratio: 1.033022768599031
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (type: <class 'float'>)
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-24 19:08:36
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-24 19:50:55
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   price_history length: 6
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.137852463, 0.137852463, 0.135138761, 0.13382995, 0.133445716]
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.137852463, 0.135138761, 0.13382995, 0.133445716, 0.133445716]
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   Initial price: 1.378524630000000e-01
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   Final price: 1.334457160000000e-01
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9680328743926758
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   initial_price: 1.378524630000000e-01
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   final_price: 1.334457160000000e-01
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9680328743926758
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 15.0 = 15.0 - 0
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   Remaining SOL: 15.0
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500000000000000e+01
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   initial_price: 1.378524630000000e-01
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   final_price: 1.334457160000000e-01
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9680328743926758
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 15.0 = 15.0 - 0
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   Remaining SOL: 15.0
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500000000000000e+01
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -     PnL: 1.500000000000000e-02
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.500000000000000e-02
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -     PnL: 1.500000000000000e-02
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.500000000000000e-02
2025-07-15 17:58:05,476 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Gorbagana-SOL
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   position_id: pos_06-25-02-45-13_16368025
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (from CSV: 15.0)
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.60608 (from CSV: 0.60608)
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   Total points: 38
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750809600, 'close': 0.020464427, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750942800, 'close': 0.016360249, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   Valid prices: 38
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   Min price: 1.532342000000000e-02
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   Max price: 2.229733500000000e-02
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   Price ratio: 1.4551147850806152
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (type: <class 'float'>)
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.60608 (type: <class 'float'>)
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-25 02:45:13
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-26 15:03:51
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   price_history length: 38
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.020464427, 0.021379598, 0.022297335, 0.020955459, 0.02175348]
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.01532342, 0.016412843, 0.016103668, 0.016315112, 0.016360249]
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   Initial price: 2.046442700000000e-02
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   Final price: 1.636024900000000e-02
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   Price ratio: 0.799448183914458
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   initial_price: 2.046442700000000e-02
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   final_price: 1.636024900000000e-02
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   price_ratio: 0.799448183914458
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 15.0 = 15.0 - 0
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   Remaining SOL: 15.0
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500000000000000e+01
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   initial_price: 2.046442700000000e-02
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   final_price: 1.636024900000000e-02
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   price_ratio: 0.799448183914458
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 15.0 = 15.0 - 0
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   Remaining SOL: 15.0
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500000000000000e+01
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -     PnL: 1.500000000000000e-02
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.500000000000000e-02
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -     PnL: 1.050000000000000e-02
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.050000000000000e-02
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,477 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   position_id: pos_06-25-19-15-50_7118526
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (from CSV: 15.0)
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   Total points: 18
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750870800, 'close': 0.135812559, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750901400, 'close': 0.116764775, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   Valid prices: 18
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   Min price: 1.127706910000000e-01
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   Max price: 1.358125590000000e-01
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2043249695082563
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (type: <class 'float'>)
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-25 19:15:50
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-26 03:46:45
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   price_history length: 18
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.135812559, 0.135812559, 0.132317981, 0.130074273, 0.130074273]
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.120911672, 0.1200251, 0.12132395, 0.112770691, 0.116764775]
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   Initial price: 1.358125590000000e-01
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   Final price: 1.167647750000000e-01
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   Price ratio: 0.859749465437876
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   initial_price: 1.358125590000000e-01
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   final_price: 1.167647750000000e-01
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   price_ratio: 0.859749465437876
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 15.0 = 15.0 - 0
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   Remaining SOL: 15.0
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500000000000000e+01
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   initial_price: 1.358125590000000e-01
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   final_price: 1.167647750000000e-01
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   price_ratio: 0.859749465437876
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 15.0 = 15.0 - 0
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   Remaining SOL: 15.0
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500000000000000e+01
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -     PnL: 1.500000000000000e-02
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.500000000000000e-02
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -     PnL: 1.500000000000000e-02
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.500000000000000e-02
2025-07-15 17:58:05,478 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,479 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,479 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,479 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,479 - DEEP_DEBUG - DEBUG -   position_id: pos_06-26-03-46-45_7142200
2025-07-15 17:58:05,479 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (from CSV: 15.0)
2025-07-15 17:58:05,479 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,479 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,479 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,479 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,479 - DEEP_DEBUG - DEBUG -   Total points: 18
2025-07-15 17:58:05,479 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750902000, 'close': 0.119013395, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,479 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750912200, 'close': 0.141382598, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,479 - DEEP_DEBUG - DEBUG -   Valid prices: 18
2025-07-15 17:58:05,479 - DEEP_DEBUG - DEBUG -   Min price: 1.190133950000000e-01
2025-07-15 17:58:05,479 - DEEP_DEBUG - DEBUG -   Max price: 1.413825980000000e-01
2025-07-15 17:58:05,479 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1879553389767599
2025-07-15 17:58:05,479 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,479 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,479 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,479 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (type: <class 'float'>)
2025-07-15 17:58:05,479 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,479 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-26 03:46:45
2025-07-15 17:58:05,479 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-26 06:32:15
2025-07-15 17:58:05,479 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,479 - DEEP_DEBUG - DEBUG -   price_history length: 18
2025-07-15 17:58:05,479 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.119013395, 0.119013395, 0.119013395, 0.119013395, 0.12000452]
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.140972669, 0.137899783, 0.137310862, 0.137310862, 0.141382598]
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -   Initial price: 1.190133950000000e-01
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -   Final price: 1.413825980000000e-01
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1879553389767599
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -   initial_price: 1.190133950000000e-01
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -   final_price: 1.413825980000000e-01
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1879553389767599
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -   active_bin_index: 17
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 17 bins): 3.6956521739130443
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG - 
Calculating token values for 17 activated bins:
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.196069816997331e-01 = 1.190133950000000e-01 * 1.004987562112089
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.817546946327726e+00 = 0.21739130434782608 / 1.196069816997331e-01
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -     Final value: 2.569695092587805e-01 = 1.817546946327726e+00 * 1.413825980000000e-01
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.569695092587805e-01 = 0.21739130434782608 * (1.413825980000000e-01 / 1.196069816997331e-01)
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.208030515167304e-01 = 1.190133950000000e-01 * 1.0150374377332099
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.799551432007650e+00 = 0.21739130434782608 / 1.208030515167304e-01
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -     Final value: 2.544252566918619e-01 = 1.799551432007650e+00 * 1.413825980000000e-01
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.544252566918619e-01 = 0.21739130434782608 * (1.413825980000000e-01 / 1.208030515167304e-01)
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.220110820318977e-01 = 1.190133950000000e-01 * 1.025187812110542
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.781734091096683e+00 = 0.21739130434782608 / 1.220110820318977e-01
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -     Final value: 2.519061947444177e-01 = 1.781734091096683e+00 * 1.413825980000000e-01
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.519061947444177e-01 = 0.21739130434782608 * (1.413825980000000e-01 / 1.220110820318977e-01)
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.232311928522167e-01 = 1.190133950000000e-01 * 1.0354396902316474
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.764093159501666e+00 = 0.21739130434782608 / 1.232311928522167e-01
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -     Final value: 2.494120740043740e-01 = 1.764093159501666e+00 * 1.413825980000000e-01
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.494120740043739e-01 = 0.21739130434782608 * (1.413825980000000e-01 / 1.232311928522167e-01)
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.244635047807389e-01 = 1.190133950000000e-01 * 1.045794087133964
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.746626890595709e+00 = 0.21739130434782608 / 1.244635047807389e-01
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -     Final value: 2.469426475290831e-01 = 1.746626890595709e+00 * 1.413825980000000e-01
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.469426475290831e-01 = 0.21739130434782608 * (1.413825980000000e-01 / 1.244635047807389e-01)
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 12 more bins processed)
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.304347826086955 = 15.0 - 3.6956521739130443
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -   Total token value: 4.039014311675755e+00
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.304347826086955
2025-07-15 17:58:05,480 - DEEP_DEBUG - DEBUG -   Final asset value: 1.534336213776271e+01
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -   PnL from assets: 3.433621377627105e-01
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -   initial_price: 1.190133950000000e-01
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -   final_price: 1.413825980000000e-01
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1879553389767599
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -   active_bin_index: 17
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 17 bins): 4.41764519200254
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG - 
Calculating token values for 17 activated bins:
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.3237067597588068
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.196069816997331e-01 = 1.190133950000000e-01 * 1.004987562112089
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.706420270444206e+00 = 0.3237067597588068 / 1.196069816997331e-01
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -     Final value: 3.826407291152645e-01 = 2.706420270444206e+00 * 1.413825980000000e-01
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.826407291152645e-01 = 0.3237067597588068 * (1.413825980000000e-01 / 1.196069816997331e-01)
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.3143259842813674
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.208030515167304e-01 = 1.190133950000000e-01 * 1.0150374377332099
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.601970565601444e+00 = 0.3143259842813674 / 1.208030515167304e-01
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -     Final value: 3.678733584842616e-01 = 2.601970565601444e+00 * 1.413825980000000e-01
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.678733584842616e-01 = 0.3143259842813674 * (1.413825980000000e-01 / 1.208030515167304e-01)
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.3052252319525081
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.220110820318977e-01 = 1.190133950000000e-01 * 1.025187812110542
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.501618925670311e+00 = 0.3052252319525081 / 1.220110820318977e-01
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -     Final value: 3.536853829172374e-01 = 2.501618925670311e+00 * 1.413825980000000e-01
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.536853829172374e-01 = 0.3052252319525081 * (1.413825980000000e-01 / 1.220110820318977e-01)
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.29640450277222924
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.232311928522167e-01 = 1.190133950000000e-01 * 1.0354396902316474
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.405271716615518e+00 = 0.29640450277222924 / 1.232311928522167e-01
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -     Final value: 3.400635641910217e-01 = 2.405271716615518e+00 * 1.413825980000000e-01
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.400635641910217e-01 = 0.29640450277222924 * (1.413825980000000e-01 / 1.232311928522167e-01)
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.28786379674053064
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.244635047807389e-01 = 1.190133950000000e-01 * 1.045794087133964
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.312836981793546e+00 = 0.28786379674053064 / 1.244635047807389e-01
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -     Final value: 3.269949012364502e-01 = 2.312836981793546e+00 * 1.413825980000000e-01
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.269949012364502e-01 = 0.28786379674053064 * (1.413825980000000e-01 / 1.244635047807389e-01)
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 12 more bins processed)
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.58235480799746 = 15.0 - 4.41764519200254
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -   Total token value: 4.860434235608628e+00
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.58235480799746
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -   Final asset value: 1.544278904360609e+01
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -   PnL from assets: 4.427890436060871e-01
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,481 - DEEP_DEBUG - DEBUG -     PnL: 3.583621377627105e-01
2025-07-15 17:58:05,482 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.500000000000000e-02
2025-07-15 17:58:05,482 - DEEP_DEBUG - DEBUG -     PnL from IL: 3.433621377627105e-01
2025-07-15 17:58:05,482 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,482 - DEEP_DEBUG - DEBUG -     PnL: 4.577890436060871e-01
2025-07-15 17:58:05,482 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.500000000000000e-02
2025-07-15 17:58:05,482 - DEEP_DEBUG - DEBUG -     PnL from IL: 4.427890436060871e-01
2025-07-15 17:58:05,482 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,482 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for unstable coin-SOL
2025-07-15 17:58:05,482 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,482 - DEEP_DEBUG - DEBUG -   position_id: pos_06-26-07-50-04_7154127
2025-07-15 17:58:05,482 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (from CSV: 15.0)
2025-07-15 17:58:05,482 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.04777 (from CSV: 0.04777)
2025-07-15 17:58:05,482 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,482 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,482 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,482 - DEEP_DEBUG - DEBUG -   Total points: 14
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750915800, 'close': 0.020399301, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750939200, 'close': 0.018395355, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   Valid prices: 14
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   Min price: 1.803940800000000e-02
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   Max price: 2.162270100000000e-02
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1986369508356371
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (type: <class 'float'>)
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.04777 (type: <class 'float'>)
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-26 07:50:04
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-26 14:21:41
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   price_history length: 14
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.020399301, 0.019807035, 0.021471751, 0.021622701, 0.019883641]
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.018829187, 0.018487914, 0.01853091, 0.018039408, 0.018395355]
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   Initial price: 2.039930100000000e-02
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   Final price: 1.839535500000000e-02
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9017639869130809
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   initial_price: 2.039930100000000e-02
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   final_price: 1.839535500000000e-02
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9017639869130809
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 15.0 = 15.0 - 0
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   Remaining SOL: 15.0
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500000000000000e+01
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   initial_price: 2.039930100000000e-02
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   final_price: 1.839535500000000e-02
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9017639869130809
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 15.0 = 15.0 - 0
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   Remaining SOL: 15.0
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500000000000000e+01
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -     PnL: 1.500000000000000e-02
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.500000000000000e-02
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -     PnL: 1.050000000000000e-02
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.050000000000000e-02
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Gorbagana-SOL
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   position_id: pos_06-26-16-04-57_16481004
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (from CSV: 15.0)
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   Total points: 64
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750946400, 'close': 0.02122294, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1751173200, 'close': 0.020480594, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   Valid prices: 64
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   Min price: 1.675901200000000e-02
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   Max price: 2.445843800000000e-02
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   Price ratio: 1.459420042183871
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (type: <class 'float'>)
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-26 16:04:57
2025-07-15 17:58:05,483 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-29 07:51:46
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   price_history length: 64
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.02122294, 0.022337649, 0.022400083, 0.021307062, 0.022298502]
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.020919843, 0.021642329, 0.019653692, 0.019286881, 0.020480594]
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   Initial price: 2.122294000000000e-02
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   Final price: 2.048059400000000e-02
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   Price ratio: 0.965021528591232
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   initial_price: 2.122294000000000e-02
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   final_price: 2.048059400000000e-02
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   price_ratio: 0.965021528591232
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 15.0 = 15.0 - 0
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   Remaining SOL: 15.0
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500000000000000e+01
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   initial_price: 2.122294000000000e-02
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   final_price: 2.048059400000000e-02
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   price_ratio: 0.965021528591232
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 15.0 = 15.0 - 0
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   Remaining SOL: 15.0
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500000000000000e+01
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -     PnL: 1.500000000000000e-02
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.500000000000000e-02
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -     PnL: 1.500000000000000e-02
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.500000000000000e-02
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Gorbagana-SOL
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   position_id: pos_06-27-15-58-39_7194271
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (from CSV: 15.0)
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   Total points: 58
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1751029200, 'close': 0.022820036, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1751234400, 'close': 0.020133996, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   Valid prices: 58
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   Min price: 1.675901200000000e-02
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   Max price: 2.338256000000000e-02
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   Price ratio: 1.3952230596887214
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (type: <class 'float'>)
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-27 15:58:39
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-30 00:59:06
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   price_history length: 58
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.022820036, 0.0221042, 0.019809866, 0.019758655, 0.018701313]
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.021241219, 0.019634094, 0.019331789, 0.020791365, 0.020133996]
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   Initial price: 2.282003600000000e-02
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   Final price: 2.013399600000000e-02
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   Price ratio: 0.8822946642152537
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:05,484 - DEEP_DEBUG - DEBUG -   initial_price: 2.282003600000000e-02
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   final_price: 2.013399600000000e-02
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8822946642152537
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 15.0 = 15.0 - 0
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   Remaining SOL: 15.0
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500000000000000e+01
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   initial_price: 2.282003600000000e-02
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   final_price: 2.013399600000000e-02
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8822946642152537
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 15.0 = 15.0 - 0
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   Remaining SOL: 15.0
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500000000000000e+01
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -     PnL: 1.500000000000000e-02
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.500000000000000e-02
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -     PnL: 1.500000000000000e-02
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.500000000000000e-02
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for unstable coin-SOL
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   position_id: pos_06-27-18-45-46_16515231
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (from CSV: 15.0)
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.132 (from CSV: -0.132)
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   Total points: 17
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1751040000, 'close': 0.020476597, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1751097600, 'close': 0.018562662, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   Valid prices: 17
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   Min price: 1.842693000000000e-02
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   Max price: 2.270473700000000e-02
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2321497395388161
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (type: <class 'float'>)
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.132 (type: <class 'float'>)
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-27 18:45:46
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-28 10:17:43
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   price_history length: 17
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.020476597, 0.022704737, 0.022629831, 0.022289586, 0.021539032]
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.020019879, 0.020083198, 0.019536681, 0.01842693, 0.018562662]
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   Initial price: 2.047659700000000e-02
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   Final price: 1.856266200000000e-02
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9065306115073711
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   initial_price: 2.047659700000000e-02
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   final_price: 1.856266200000000e-02
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9065306115073711
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 15.0 = 15.0 - 0
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   Remaining SOL: 15.0
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500000000000000e+01
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   initial_price: 2.047659700000000e-02
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   final_price: 1.856266200000000e-02
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9065306115073711
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 15.0 = 15.0 - 0
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   Remaining SOL: 15.0
2025-07-15 17:58:05,485 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500000000000000e+01
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -     PnL: 1.500000000000000e-02
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.500000000000000e-02
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -     PnL: 1.500000000000000e-02
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.500000000000000e-02
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Hosico cat-SOL
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -   position_id: pos_06-29-03-27-28_7467929
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (from CSV: 15.0)
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.05743 (from CSV: 0.05743)
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -   Total points: 14
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1751158800, 'close': 0.026079291, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1751205600, 'close': 0.028159831, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -   Valid prices: 14
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -   Min price: 2.607929100000000e-02
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -   Max price: 3.028596800000000e-02
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1613033498495031
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (type: <class 'float'>)
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.05743 (type: <class 'float'>)
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-29 03:27:28
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-29 16:27:46
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -   price_history length: 14
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.026079291, 0.028173199, 0.030285968, 0.029014554, 0.027905465]
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.026810755, 0.027106474, 0.026703413, 0.027681061, 0.028159831]
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -   Initial price: 2.607929100000000e-02
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -   Final price: 2.815983100000000e-02
2025-07-15 17:58:05,486 - DEEP_DEBUG - DEBUG -   Price ratio: 1.079777475545635
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -   initial_price: 2.607929100000000e-02
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -   final_price: 2.815983100000000e-02
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -   price_ratio: 1.079777475545635
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -   active_bin_index: 7
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 7 bins): 1.5217391304347827
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG - 
Calculating token values for 7 activated bins:
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.620936308370174e-02 = 2.607929100000000e-02 * 1.004987562112089
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     Tokens bought: 8.294413857123089e+00 = 0.21739130434782608 / 2.620936308370174e-02
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     Final value: 2.335692924606443e-01 = 8.294413857123089e+00 * 2.815983100000000e-02
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.335692924606443e-01 = 0.21739130434782608 * (2.815983100000000e-02 / 2.620936308370174e-02)
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.647145671453876e-02 = 2.607929100000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     Tokens bought: 8.212290947646622e+00 = 0.21739130434782608 / 2.647145671453876e-02
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     Final value: 2.312567252085587e-01 = 8.212290947646622e+00 * 2.815983100000000e-02
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.312567252085587e-01 = 0.21739130434782608 * (2.815983100000000e-02 / 2.647145671453876e-02)
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.673617128168415e-02 = 2.607929100000000e-02 * 1.025187812110542
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     Tokens bought: 8.130981136283784e+00 = 0.21739130434782608 / 2.673617128168415e-02
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     Final value: 2.289670546619393e-01 = 8.130981136283784e+00 * 2.815983100000000e-02
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.289670546619393e-01 = 0.21739130434782608 * (2.815983100000000e-02 / 2.673617128168415e-02)
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.700353299450099e-02 = 2.607929100000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     Tokens bought: 8.050476372558203e+00 = 0.21739130434782608 / 2.700353299450099e-02
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     Final value: 2.267000541207320e-01 = 8.050476372558203e+00 * 2.815983100000000e-02
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.267000541207320e-01 = 0.21739130434782608 * (2.815983100000000e-02 / 2.700353299450099e-02)
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.727356832444600e-02 = 2.607929100000000e-02 * 1.045794087133964
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     Tokens bought: 7.970768685701191e+00 = 0.21739130434782608 / 2.727356832444600e-02
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     Final value: 2.244554991294376e-01 = 7.970768685701191e+00 * 2.815983100000000e-02
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.244554991294377e-01 = 0.21739130434782608 * (2.815983100000000e-02 / 2.727356832444600e-02)
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 2 more bins processed)
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 13.478260869565217 = 15.0 - 1.5217391304347827
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -   Total token value: 1.587214632100447e+00
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -   Remaining SOL: 13.478260869565217
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -   Final asset value: 1.506547550166566e+01
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -   PnL from assets: 6.547550166566296e-02
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -   initial_price: 2.607929100000000e-02
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -   final_price: 2.815983100000000e-02
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -   price_ratio: 1.079777475545635
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -   active_bin_index: 7
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 7 bins): 2.078751843485729
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG - 
Calculating token values for 7 activated bins:
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.3237067597588068
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.620936308370174e-02 = 2.607929100000000e-02 * 1.004987562112089
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.235080603542417e+01 = 0.3237067597588068 / 2.620936308370174e-02
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     Final value: 3.477966106713245e-01 = 1.235080603542417e+01 * 2.815983100000000e-02
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.477966106713245e-01 = 0.3237067597588068 * (2.815983100000000e-02 / 2.620936308370174e-02)
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.3143259842813674
2025-07-15 17:58:05,487 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.647145671453876e-02 = 2.607929100000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.187414760249034e+01 = 0.3143259842813674 / 2.647145671453876e-02
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -     Final value: 3.343739897551833e-01 = 1.187414760249034e+01 * 2.815983100000000e-02
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.343739897551833e-01 = 0.3143259842813674 * (2.815983100000000e-02 / 2.647145671453876e-02)
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.3052252319525081
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.673617128168415e-02 = 2.607929100000000e-02 * 1.025187812110542
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.141619077528896e+01 = 0.3052252319525081 / 2.673617128168415e-02
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -     Final value: 3.214780028958960e-01 = 1.141619077528896e+01 * 2.815983100000000e-02
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.214780028958960e-01 = 0.3052252319525081 * (2.815983100000000e-02 / 2.673617128168415e-02)
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.29640450277222924
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.700353299450099e-02 = 2.607929100000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.097650825292339e+01 = 0.29640450277222924 / 2.700353299450099e-02
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -     Final value: 3.090966173724279e-01 = 1.097650825292339e+01 * 2.815983100000000e-02
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.090966173724279e-01 = 0.29640450277222924 * (2.815983100000000e-02 / 2.700353299450099e-02)
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.28786379674053064
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.727356832444600e-02 = 2.607929100000000e-02 * 1.045794087133964
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.055468038930978e+01 = 0.28786379674053064 / 2.727356832444600e-02
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -     Final value: 2.972180160219776e-01 = 1.055468038930978e+01 * 2.815983100000000e-02
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.972180160219777e-01 = 0.28786379674053064 * (2.815983100000000e-02 / 2.727356832444600e-02)
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 2 more bins processed)
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 12.92124815651427 = 15.0 - 2.078751843485729
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -   Total token value: 2.170716785359178e+00
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -   Remaining SOL: 12.92124815651427
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -   Final asset value: 1.509196494187345e+01
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -   PnL from assets: 9.196494187344761e-02
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -     PnL: 8.047550166566296e-02
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.500000000000000e-02
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -     PnL from IL: 6.547550166566296e-02
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -     PnL: 1.024649418734476e-01
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.050000000000000e-02
2025-07-15 17:58:05,488 - DEEP_DEBUG - DEBUG -     PnL from IL: 9.196494187344761e-02
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Gorbagana-SOL
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   position_id: pos_06-30-12-19-46_16961625
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (from CSV: 15.0)
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.19182 (from CSV: 0.19182)
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   Total points: 39
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1751277600, 'close': 0.018415005, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1751414400, 'close': 0.019285706, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   Valid prices: 39
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   Min price: 1.674883900000000e-02
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   Max price: 2.060871200000000e-02
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2304561528115472
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (type: <class 'float'>)
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.19182 (type: <class 'float'>)
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-30 12:19:46
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-07-02 02:05:53
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   price_history length: 39
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.018415005, 0.020126513, 0.019840194, 0.020224348, 0.020518547]
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.018462615, 0.018151474, 0.017970021, 0.017793324, 0.019285706]
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   Initial price: 1.841500500000000e-02
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   Final price: 1.928570600000000e-02
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0472821484436197
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   initial_price: 1.841500500000000e-02
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   final_price: 1.928570600000000e-02
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0472821484436197
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   active_bin_index: 4
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 4 bins): 0.8695652173913043
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG - 
Calculating token values for 4 activated bins:
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.850685098123193e-02 = 1.841500500000000e-02 * 1.004987562112089
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.174653130174797e+01 = 0.21739130434782608 / 1.850685098123193e-02
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     Final value: 2.265401492053087e-01 = 1.174653130174797e+01 * 1.928570600000000e-02
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.265401492053087e-01 = 0.21739130434782608 * (1.928570600000000e-02 / 1.850685098123193e-02)
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.869191949104425e-02 = 1.841500500000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.163022901163166e+01 = 0.21739130434782608 / 1.869191949104425e-02
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     Final value: 2.242971774309987e-01 = 1.163022901163166e+01 * 1.928570600000000e-02
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.242971774309987e-01 = 0.21739130434782608 * (1.928570600000000e-02 / 1.869191949104425e-02)
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.887883868595469e-02 = 1.841500500000000e-02 * 1.025187812110542
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.151507822933827e+01 = 0.21739130434782608 / 1.887883868595469e-02
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     Final value: 2.220764132980185e-01 = 1.151507822933827e+01 * 1.928570600000000e-02
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.220764132980185e-01 = 0.21739130434782608 * (1.928570600000000e-02 / 1.887883868595469e-02)
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.906762707281424e-02 = 1.841500500000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.140106755380027e+01 = 0.21739130434782608 / 1.906762707281424e-02
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     Final value: 2.198776369287312e-01 = 1.140106755380027e+01 * 1.928570600000000e-02
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.198776369287312e-01 = 0.21739130434782608 * (1.928570600000000e-02 / 1.906762707281424e-02)
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 14.130434782608695 = 15.0 - 0.8695652173913043
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   Total token value: 8.927913768630571e-01
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   Remaining SOL: 14.130434782608695
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   Final asset value: 1.502322615947175e+01
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.322615947175244e-02
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   initial_price: 1.841500500000000e-02
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   final_price: 1.928570600000000e-02
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0472821484436197
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   active_bin_index: 4
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 4 bins): 1.2396624787649115
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG - 
Calculating token values for 4 activated bins:
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.3237067597588068
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.850685098123193e-02 = 1.841500500000000e-02 * 1.004987562112089
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.749118529603349e+01 = 0.3237067597588068 / 1.850685098123193e-02
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     Final value: 3.373298572108248e-01 = 1.749118529603349e+01 * 1.928570600000000e-02
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.373298572108247e-01 = 0.3237067597588068 * (1.928570600000000e-02 / 1.850685098123193e-02)
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.3143259842813674
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,489 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.869191949104425e-02 = 1.841500500000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.681614263489464e+01 = 0.3143259842813674 / 1.869191949104425e-02
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -     Final value: 3.243111829106434e-01 = 1.681614263489464e+01 * 1.928570600000000e-02
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.243111829106434e-01 = 0.3143259842813674 * (1.928570600000000e-02 / 1.869191949104425e-02)
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.3052252319525081
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.887883868595469e-02 = 1.841500500000000e-02 * 1.025187812110542
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.616758514810483e+01 = 0.3052252319525081 / 1.887883868595469e-02
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -     Final value: 3.118032938963163e-01 = 1.616758514810483e+01 * 1.928570600000000e-02
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.118032938963163e-01 = 0.3052252319525081 * (1.928570600000000e-02 / 1.887883868595469e-02)
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.29640450277222924
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.906762707281424e-02 = 1.841500500000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.554490769304112e+01 = 0.29640450277222924 / 1.906762707281424e-02
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -     Final value: 2.997945195651293e-01 = 1.554490769304112e+01 * 1.928570600000000e-02
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.997945195651293e-01 = 0.29640450277222924 * (1.928570600000000e-02 / 1.906762707281424e-02)
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 13.760337521235089 = 15.0 - 1.2396624787649115
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   Total token value: 1.273238853582914e+00
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   Remaining SOL: 13.760337521235089
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   Final asset value: 1.503357637481800e+01
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   PnL from assets: 3.357637481800246e-02
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -     PnL: 3.822615947175244e-02
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.500000000000000e-02
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.322615947175244e-02
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -     PnL: 4.407637481800246e-02
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.050000000000000e-02
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -     PnL from IL: 3.357637481800246e-02
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Hosico cat-SOL
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   position_id: pos_06-30-15-54-46_7700394
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (from CSV: 15.0)
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01452 (from CSV: 0.01452)
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   Total points: 11
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1751290200, 'close': 0.030087265, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1751308200, 'close': 0.030659699, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   Valid prices: 11
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   Min price: 2.979931500000000e-02
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   Max price: 3.233193900000000e-02
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0849893361642708
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (type: <class 'float'>)
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01452 (type: <class 'float'>)
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-30 15:54:46
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-30 20:38:01
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   price_history length: 11
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.030087265, 0.029799315, 0.029877237, 0.031190205, 0.031390803]
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.032331939, 0.03142921, 0.030746645, 0.030615887, 0.030659699]
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   Initial price: 3.008726500000000e-02
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   Final price: 3.065969900000000e-02
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0190257904797928
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   initial_price: 3.008726500000000e-02
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   final_price: 3.065969900000000e-02
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0190257904797928
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   active_bin_index: 1
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 1 bins): 0.21739130434782608
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG - 
Calculating token values for 1 activated bins:
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.023732710297038e-02 = 3.008726500000000e-02 * 1.004987562112089
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -     Tokens bought: 7.189501360603746e+00 = 0.21739130434782608 / 3.023732710297038e-02
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -     Final value: 2.204279476762013e-01 = 7.189501360603746e+00 * 3.065969900000000e-02
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.204279476762013e-01 = 0.21739130434782608 * (3.065969900000000e-02 / 3.023732710297038e-02)
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 14.782608695652174 = 15.0 - 0.21739130434782608
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   Total token value: 2.204279476762013e-01
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   Remaining SOL: 14.782608695652174
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500303664332838e+01
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG -   PnL from assets: 3.036643328375277e-03
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,490 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG -   initial_price: 3.008726500000000e-02
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG -   final_price: 3.065969900000000e-02
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0190257904797928
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG -   active_bin_index: 1
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 1 bins): 0.3237067597588068
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG - 
Calculating token values for 1 activated bins:
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.3237067597588068
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.023732710297038e-02 = 3.008726500000000e-02 * 1.004987562112089
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.070553487272383e+01 = 0.3237067597588068 / 3.023732710297038e-02
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG -     Final value: 3.282284768317159e-01 = 1.070553487272383e+01 * 3.065969900000000e-02
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.282284768317159e-01 = 0.3237067597588068 * (3.065969900000000e-02 / 3.023732710297038e-02)
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 14.676293240241193 = 15.0 - 0.3237067597588068
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG -   Total token value: 3.282284768317159e-01
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG -   Remaining SOL: 14.676293240241193
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500452171707291e+01
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG -   PnL from assets: 4.521717072909937e-03
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG -     PnL: 1.803664332837528e-02
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.500000000000000e-02
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG -     PnL from IL: 3.036643328375277e-03
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG -     PnL: 1.502171707290994e-02
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.050000000000000e-02
2025-07-15 17:58:05,491 - DEEP_DEBUG - DEBUG -     PnL from IL: 4.521717072909937e-03
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG -   position_id: pos_06-30-20-41-42_7722559
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (from CSV: 15.0)
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG -   pnl_sol: None (from CSV: nan)
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG -   Total points: 21
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1751308200, 'close': 0.213853032, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1751344200, 'close': 0.204418191, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG -   Valid prices: 21
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG -   Min price: 1.951212120000000e-01
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG -   Max price: 2.204091320000000e-01
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1296010809936954
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (type: <class 'float'>)
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG -   pnl_sol: None (type: <class 'NoneType'>)
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-30 20:41:42
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-07-01 06:51:31
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG -   close_reason: Superseded
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG -   price_history length: 21
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.213853032, 0.206450199, 0.211268492, 0.220409132, 0.207057627]
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.201440767, 0.208649119, 0.209427165, 0.210571279, 0.204418191]
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG -   Initial price: 2.138530320000000e-01
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG -   Final price: 2.044181910000000e-01
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9558816589516487
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,492 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   initial_price: 2.138530320000000e-01
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   final_price: 2.044181910000000e-01
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9558816589516487
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 15.0 = 15.0 - 0
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   Remaining SOL: 15.0
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500000000000000e+01
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   initial_price: 2.138530320000000e-01
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   final_price: 2.044181910000000e-01
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9558816589516487
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 15.0 = 15.0 - 0
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   Remaining SOL: 15.0
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500000000000000e+01
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -     PnL: 1.500000000000000e-02
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.500000000000000e-02
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -     PnL: 1.500000000000000e-02
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.500000000000000e-02
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   position_id: pos_07-01-11-21-26_7821001
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (from CSV: 15.0)
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03032 (from CSV: 0.03032)
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   Total points: 21
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1751360400, 'close': 0.182182567, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1751396400, 'close': 0.172063485, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   Valid prices: 21
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   Min price: 1.720634850000000e-01
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   Max price: 1.923782910000000e-01
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1180657592748398
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (type: <class 'float'>)
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03032 (type: <class 'float'>)
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-07-01 11:21:26
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-07-01 21:07:12
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   price_history length: 21
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.182182567, 0.183999545, 0.181595694, 0.186761714, 0.192378291]
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.178357934, 0.175067486, 0.172132431, 0.17302291, 0.172063485]
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   Initial price: 1.821825670000000e-01
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   Final price: 1.720634850000000e-01
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9444563650264078
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   initial_price: 1.821825670000000e-01
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   final_price: 1.720634850000000e-01
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9444563650264078
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 15.0 = 15.0 - 0
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   Remaining SOL: 15.0
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500000000000000e+01
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   initial_price: 1.821825670000000e-01
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   final_price: 1.720634850000000e-01
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9444563650264078
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,493 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 15.0 = 15.0 - 0
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   Remaining SOL: 15.0
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500000000000000e+01
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     PnL: 1.500000000000000e-02
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.500000000000000e-02
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     PnL: 1.050000000000000e-02
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.050000000000000e-02
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Gorbagana-SOL
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   position_id: pos_07-02-02-45-37_17147526
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (from CSV: 15.0)
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.06228 (from CSV: 0.06228)
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   Total points: 17
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1751416800, 'close': 0.021113899, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1751426400, 'close': 0.026382128, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   Valid prices: 17
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   Min price: 2.010616900000000e-02
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   Max price: 2.822323700000000e-02
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   Price ratio: 1.403710323930929
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (type: <class 'float'>)
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.06228 (type: <class 'float'>)
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-07-02 02:45:37
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-07-02 05:24:53
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   price_history length: 17
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.021113899, 0.021113899, 0.021113899, 0.021113899, 0.021113899]
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.02767952, 0.025272828, 0.028223237, 0.026347416, 0.026382128]
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   Initial price: 2.111389900000000e-02
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   Final price: 2.638212800000000e-02
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2495147390825354
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   initial_price: 2.111389900000000e-02
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   final_price: 2.638212800000000e-02
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   price_ratio: 1.2495147390825354
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   active_bin_index: 22
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 22 bins): 4.782608695652175
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG - 
Calculating token values for 22 activated bins:
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.121920588269087e-02 = 2.111389900000000e-02 * 1.004987562112089
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.024502545239728e+01 = 0.21739130434782608 / 2.121920588269087e-02
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     Final value: 2.702855728484030e-01 = 1.024502545239728e+01 * 2.638212800000000e-02
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.702855728484030e-01 = 0.21739130434782608 * (2.638212800000000e-02 / 2.121920588269087e-02)
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.143139794151778e-02 = 2.111389900000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.014358955682899e+01 = 0.21739130434782608 / 2.143139794151778e-02
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     Final value: 2.676094780677257e-01 = 1.014358955682899e+01 * 2.638212800000000e-02
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.676094780677257e-01 = 0.21739130434782608 * (2.638212800000000e-02 / 2.143139794151778e-02)
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.164571192093296e-02 = 2.111389900000000e-02 * 1.025187812110542
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.004315797705841e+01 = 0.21739130434782608 / 2.164571192093296e-02
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     Final value: 2.649598792749759e-01 = 1.004315797705841e+01 * 2.638212800000000e-02
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.649598792749759e-01 = 0.21739130434782608 * (2.638212800000000e-02 / 2.164571192093296e-02)
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.186216904014229e-02 = 2.111389900000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     Tokens bought: 9.943720769364758e+00 = 0.21739130434782608 / 2.186216904014229e-02
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     Final value: 2.623365141336395e-01 = 9.943720769364758e+00 * 2.638212800000000e-02
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.623365141336396e-01 = 0.21739130434782608 * (2.638212800000000e-02 / 2.186216904014229e-02)
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.208079073054371e-02 = 2.111389900000000e-02 * 1.045794087133964
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     Tokens bought: 9.845268088479958e+00 = 0.21739130434782608 / 2.208079073054371e-02
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     Final value: 2.597391229045936e-01 = 9.845268088479958e+00 * 2.638212800000000e-02
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.597391229045936e-01 = 0.21739130434782608 * (2.638212800000000e-02 / 2.208079073054371e-02)
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 17 more bins processed)
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.217391304347824 = 15.0 - 4.782608695652175
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   Total token value: 5.367056061663260e+00
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.217391304347824
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   Final asset value: 1.558444736601108e+01
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG -   PnL from assets: 5.844473660110836e-01
2025-07-15 17:58:05,494 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   initial_price: 2.111389900000000e-02
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   final_price: 2.638212800000000e-02
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   price_ratio: 1.2495147390825354
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   active_bin_index: 22
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 22 bins): 5.3858252282188674
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG - 
Calculating token values for 22 activated bins:
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.3237067597588068
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.121920588269087e-02 = 2.111389900000000e-02 * 1.004987562112089
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.525536636707333e+01 = 0.3237067597588068 / 2.121920588269087e-02
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     Final value: 4.024690281830235e-01 = 1.525536636707333e+01 * 2.638212800000000e-02
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     Alt calculation: 4.024690281830236e-01 = 0.3237067597588068 * (2.638212800000000e-02 / 2.121920588269087e-02)
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.3143259842813674
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.143139794151778e-02 = 2.111389900000000e-02 * 1.0150374377332099
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.466661134934377e+01 = 0.3143259842813674 / 2.143139794151778e-02
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     Final value: 3.869364179446400e-01 = 1.466661134934377e+01 * 2.638212800000000e-02
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.869364179446400e-01 = 0.3143259842813674 * (2.638212800000000e-02 / 2.143139794151778e-02)
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.3052252319525081
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.164571192093296e-02 = 2.111389900000000e-02 * 1.025187812110542
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.410095602618334e+01 = 0.3052252319525081 / 2.164571192093296e-02
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     Final value: 3.720132268051402e-01 = 1.410095602618334e+01 * 2.638212800000000e-02
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.720132268051402e-01 = 0.3052252319525081 * (2.638212800000000e-02 / 2.164571192093296e-02)
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.29640450277222924
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.186216904014229e-02 = 2.111389900000000e-02 * 1.0354396902316474
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.355787260760747e+01 = 0.29640450277222924 / 2.186216904014229e-02
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     Final value: 3.576855305415941e-01 = 1.355787260760747e+01 * 2.638212800000000e-02
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.576855305415941e-01 = 0.29640450277222924 * (2.638212800000000e-02 / 2.186216904014229e-02)
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.28786379674053064
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.208079073054371e-02 = 2.111389900000000e-02 * 1.045794087133964
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.303684275863985e+01 = 0.28786379674053064 / 2.208079073054371e-02
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     Final value: 3.439396543743096e-01 = 1.303684275863985e+01 * 2.638212800000000e-02
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.439396543743095e-01 = 0.28786379674053064 * (2.638212800000000e-02 / 2.208079073054371e-02)
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 17 more bins processed)
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.614174771781133 = 15.0 - 5.3858252282188674
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   Total token value: 6.109222135950614e+00
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.614174771781133
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   Final asset value: 1.572339690773175e+01
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   PnL from assets: 7.233969077317468e-01
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     PnL: 5.994473660110836e-01
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.500000000000000e-02
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     PnL from IL: 5.844473660110836e-01
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     PnL: 7.338969077317468e-01
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.050000000000000e-02
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -     PnL from IL: 7.233969077317468e-01
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Gorbagana-SOL
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   position_id: pos_07-02-05-26-07_17160723
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (from CSV: 15.0)
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01915 (from CSV: 0.01915)
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   Total points: 22
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1751426400, 'close': 0.026382128, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1751439000, 'close': 0.026498134, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   Valid prices: 22
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   Min price: 2.454776600000000e-02
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   Max price: 2.876712800000000e-02
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1718837469772199
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (type: <class 'float'>)
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01915 (type: <class 'float'>)
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-07-02 05:26:07
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-07-02 08:55:12
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   price_history length: 22
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.026382128, 0.025074511, 0.025380841, 0.024547766, 0.027207062]
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.025254424, 0.024871184, 0.027726034, 0.026603474, 0.026498134]
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   Initial price: 2.638212800000000e-02
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   Final price: 2.649813400000000e-02
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0043971433995014
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   initial_price: 2.638212800000000e-02
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   final_price: 2.649813400000000e-02
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0043971433995014
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 15.0 = 15.0 - 0
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   Remaining SOL: 15.0
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500000000000000e+01
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,495 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,496 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,496 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:05,496 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:05,496 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:05,496 - DEEP_DEBUG - DEBUG -   initial_price: 2.638212800000000e-02
2025-07-15 17:58:05,496 - DEEP_DEBUG - DEBUG -   final_price: 2.649813400000000e-02
2025-07-15 17:58:05,496 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0043971433995014
2025-07-15 17:58:05,496 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:05,496 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:05,496 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:05,496 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:05,496 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:05,496 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 15.0 = 15.0 - 0
2025-07-15 17:58:05,496 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:05,496 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:05,496 - DEEP_DEBUG - DEBUG -   Remaining SOL: 15.0
2025-07-15 17:58:05,496 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500000000000000e+01
2025-07-15 17:58:05,496 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:05,496 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:05,496 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:05,496 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:05,496 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:05,496 - DEEP_DEBUG - DEBUG -     PnL: 1.500000000000000e-02
2025-07-15 17:58:05,496 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.500000000000000e-02
2025-07-15 17:58:05,496 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:05,496 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:05,496 - DEEP_DEBUG - DEBUG -     PnL: 1.050000000000000e-02
2025-07-15 17:58:05,496 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.050000000000000e-02
2025-07-15 17:58:05,496 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG -   position_id: pos_05-19-13-18-03_1056847
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG -   investment_sol: 2.21 (from CSV: 2.21)
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.10106 (from CSV: 0.10106)
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG -   step_size: MEDIUM
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG -   Total points: 22
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747659600, 'close': 0.010689769, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747735200, 'close': 0.010543391, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG -   Valid prices: 22
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG -   Min price: 8.432017000000000e-03
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG -   Max price: 1.219978300000000e-02
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG -   Price ratio: 1.4468404178976395
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG -   investment_sol: 2.21 (type: <class 'float'>)
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.10106 (type: <class 'float'>)
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-19 13:18:03
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-20 10:02:08
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG -   price_history length: 22
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.010689769, 0.009904794, 0.011834758, 0.011239441, 0.011017943]
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.010714314, 0.009517744, 0.009893277, 0.010483342, 0.010543391]
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG -   Initial price: 1.068976900000000e-02
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG -   Final price: 1.054339100000000e-02
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9863067200048943
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,241 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -   initial_sol: 2.21
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -   initial_price: 1.068976900000000e-02
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -   final_price: 1.054339100000000e-02
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9863067200048943
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -   num_bins: 20
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 2.21 = 2.21 - 0
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -   Remaining SOL: 2.21
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -   Final asset value: 2.210000000000000e+00
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -   Initial SOL: 2.21
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -   initial_sol: 2.21
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -   initial_price: 1.068976900000000e-02
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -   final_price: 1.054339100000000e-02
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9863067200048943
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -   num_bins: 20
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 2.21 = 2.21 - 0
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -   Remaining SOL: 2.21
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -   Final asset value: 2.210000000000000e+00
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -   Initial SOL: 2.21
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -     PnL: 2.210000000000000e-03
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -     PnL from fees: 2.210000000000000e-03
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -     PnL: 2.210000000000000e-03
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -     PnL from fees: 2.210000000000000e-03
2025-07-15 17:58:17,242 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   position_id: pos_05-19-15-56-34_9306058
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   investment_sol: 2.21 (from CSV: 2.21)
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.07817 (from CSV: 0.07817)
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   step_size: MEDIUM
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   Total points: 25
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747666800, 'close': 0.019782703, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747753200, 'close': 0.016478776, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   Valid prices: 25
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   Min price: 1.647877600000000e-02
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   Max price: 1.978270300000000e-02
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2004958984817804
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   investment_sol: 2.21 (type: <class 'float'>)
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.07817 (type: <class 'float'>)
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-19 15:56:34
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-20 15:58:11
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   price_history length: 25
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.019782703, 0.018152534, 0.017732756, 0.017168551, 0.01791459]
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.017964463, 0.017334077, 0.017133721, 0.016849694, 0.016478776]
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   Initial price: 1.978270300000000e-02
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   Final price: 1.647877600000000e-02
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   Price ratio: 0.832989101640964
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   initial_sol: 2.21
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   initial_price: 1.978270300000000e-02
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   final_price: 1.647877600000000e-02
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   price_ratio: 0.832989101640964
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   num_bins: 20
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 2.21 = 2.21 - 0
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   Remaining SOL: 2.21
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   Final asset value: 2.210000000000000e+00
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   Initial SOL: 2.21
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   initial_sol: 2.21
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   initial_price: 1.978270300000000e-02
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   final_price: 1.647877600000000e-02
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   price_ratio: 0.832989101640964
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   num_bins: 20
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 2.21 = 2.21 - 0
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   Remaining SOL: 2.21
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   Final asset value: 2.210000000000000e+00
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   Initial SOL: 2.21
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -     PnL: 2.210000000000000e-03
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -     PnL from fees: 2.210000000000000e-03
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -     PnL: 2.210000000000000e-03
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -     PnL from fees: 2.210000000000000e-03
2025-07-15 17:58:17,243 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Collaterize-SOL
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -   position_id: pos_05-20-08-28-57_34159180
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -   investment_sol: 2.26 (from CSV: 2.26)
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01037 (from CSV: 0.01037)
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -   Total points: 13
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747729200, 'close': 0.070123971, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747736400, 'close': 0.073085253, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -   Valid prices: 13
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -   Min price: 6.781602300000000e-02
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -   Max price: 7.339190700000001e-02
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0822207459732636
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -   investment_sol: 2.26 (type: <class 'float'>)
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01037 (type: <class 'float'>)
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-20 08:28:57
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-20 10:20:07
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -   price_history length: 13
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.070123971, 0.069565412, 0.068454888, 0.067816023, 0.06938946]
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.070545997, 0.070370237, 0.073391907, 0.071772016, 0.073085253]
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -   Initial price: 7.012397099999999e-02
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -   Final price: 7.308525300000000e-02
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -   Price ratio: 1.042229239984142
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -   initial_sol: 2.26
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -   initial_price: 7.012397099999999e-02
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -   final_price: 7.308525300000000e-02
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -   price_ratio: 1.042229239984142
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -   active_bin_index: 4
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 4 bins): 0.13101449275362317
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG - 
Calculating token values for 4 activated bins:
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.032753623188405794
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.047371866090882e-02 = 7.012397099999999e-02 * 1.004987562112089
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.647636567328460e-01 = 0.032753623188405794 / 7.047371866090882e-02
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -     Final value: 3.396736943752521e-02 = 4.647636567328460e-01 * 7.308525300000000e-02
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.396736943752521e-02 = 0.032753623188405794 * (7.308525300000000e-02 / 7.047371866090882e-02)
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.032753623188405794
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.117845584751790e-02 = 7.012397099999999e-02 * 1.0150374377332099
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.601620363691545e-01 = 0.032753623188405794 / 7.117845584751790e-02
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -     Final value: 3.363105884903486e-02 = 4.601620363691545e-01 * 7.308525300000000e-02
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.363105884903486e-02 = 0.032753623188405794 * (7.308525300000000e-02 / 7.117845584751790e-02)
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.032753623188405794
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.189024040599309e-02 = 7.012397099999999e-02 * 1.025187812110542
2025-07-15 17:58:17,244 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.556059766031232e-01 = 0.032753623188405794 / 7.189024040599309e-02
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     Final value: 3.329807806835135e-02 = 4.556059766031232e-01 * 7.308525300000000e-02
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.329807806835134e-02 = 0.032753623188405794 * (7.308525300000000e-02 / 7.189024040599309e-02)
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.032753623188405794
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.260914281005301e-02 = 7.012397099999999e-02 * 1.0354396902316474
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.510950263397260e-01 = 0.032753623188405794 / 7.260914281005301e-02
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     Final value: 3.296839412708055e-02 = 4.510950263397260e-01 * 7.308525300000000e-02
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.296839412708055e-02 = 0.032753623188405794 * (7.308525300000000e-02 / 7.260914281005301e-02)
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 2.1289855072463766 = 2.26 - 0.13101449275362317
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -   Total token value: 1.338649004819920e-01
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -   Remaining SOL: 2.1289855072463766
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -   Final asset value: 2.262850407728369e+00
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -   Initial SOL: 2.26
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.850407728368864e-03
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -   initial_sol: 2.26
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -   initial_price: 7.012397099999999e-02
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -   final_price: 7.308525300000000e-02
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -   price_ratio: 1.042229239984142
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -   active_bin_index: 4
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 4 bins): 0.18677581346724664
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG - 
Calculating token values for 4 activated bins:
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.04877181847032688
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.047371866090882e-02 = 7.012397099999999e-02 * 1.004987562112089
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.920568319233621e-01 = 0.04877181847032688 / 7.047371866090882e-02
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     Final value: 5.057914865149740e-02 = 6.920568319233621e-01 * 7.308525300000000e-02
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     Alt calculation: 5.057914865149740e-02 = 0.04877181847032688 * (7.308525300000000e-02 / 7.047371866090882e-02)
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.047358448298392676
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.117845584751790e-02 = 7.012397099999999e-02 * 1.0150374377332099
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.653480710490032e-01 = 0.047358448298392676 / 7.117845584751790e-02
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     Final value: 4.862713210567837e-02 = 6.653480710490032e-01 * 7.308525300000000e-02
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     Alt calculation: 4.862713210567837e-02 = 0.047358448298392676 * (7.308525300000000e-02 / 7.117845584751790e-02)
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.04598726828084455
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.189024040599309e-02 = 7.012397099999999e-02 * 1.025187812110542
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.396872234831313e-01 = 0.04598726828084455 / 7.189024040599309e-02
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     Final value: 4.675170256913220e-02 = 6.396872234831313e-01 * 7.308525300000000e-02
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     Alt calculation: 4.675170256913220e-02 = 0.04598726828084455 * (7.308525300000000e-02 / 7.189024040599309e-02)
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.04465827841768254
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.260914281005301e-02 = 7.012397099999999e-02 * 1.0354396902316474
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.150503461321599e-01 = 0.04465827841768254 / 7.260914281005301e-02
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     Final value: 4.495111015480648e-02 = 6.150503461321599e-01 * 7.308525300000000e-02
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     Alt calculation: 4.495111015480649e-02 = 0.04465827841768254 * (7.308525300000000e-02 / 7.260914281005301e-02)
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 2.073224186532753 = 2.26 - 0.18677581346724664
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -   Total token value: 1.909090934811145e-01
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -   Remaining SOL: 2.073224186532753
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -   Final asset value: 2.264133280013867e+00
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -   Initial SOL: 2.26
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -   PnL from assets: 4.133280013867591e-03
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     PnL: 5.110407728368864e-03
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     PnL from fees: 2.260000000000000e-03
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.850407728368864e-03
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     PnL: 5.715280013867591e-03
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.582000000000000e-03
2025-07-15 17:58:17,245 - DEEP_DEBUG - DEBUG -     PnL from IL: 4.133280013867591e-03
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   position_id: pos_05-20-11-05-34_34180706
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   investment_sol: 2.2587 (from CSV: 2.2587)
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.09108 (from CSV: 0.09108)
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   Total points: 18
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747738800, 'close': 0.028980607, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747749000, 'close': 0.027829359, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   Valid prices: 18
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   Min price: 2.614448800000000e-02
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   Max price: 3.001231500000000e-02
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1479404377702864
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   investment_sol: 2.2587 (type: <class 'float'>)
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.09108 (type: <class 'float'>)
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-20 11:05:34
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-20 13:51:40
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   price_history length: 18
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.028980607, 0.026144488, 0.029091785, 0.028888132, 0.028888132]
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.026588779, 0.026588779, 0.026588779, 0.028696723, 0.027829359]
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   Initial price: 2.898060700000000e-02
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   Final price: 2.782935900000000e-02
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   Price ratio: 0.960275228189665
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   initial_sol: 2.2587
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   initial_price: 2.898060700000000e-02
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   final_price: 2.782935900000000e-02
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   price_ratio: 0.960275228189665
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 2.2587 = 2.2587 - 0
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   Remaining SOL: 2.2587
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   Final asset value: 2.258700000000000e+00
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   Initial SOL: 2.2587
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   initial_sol: 2.2587
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   initial_price: 2.898060700000000e-02
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   final_price: 2.782935900000000e-02
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   price_ratio: 0.960275228189665
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 2.2587 = 2.2587 - 0
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   Remaining SOL: 2.2587
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   Final asset value: 2.258700000000000e+00
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   Initial SOL: 2.2587
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -     PnL: 2.258700000000000e-03
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -     PnL from fees: 2.258700000000000e-03
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -     PnL: 2.258700000000000e-03
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -     PnL from fees: 2.258700000000000e-03
2025-07-15 17:58:17,246 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Collaterize-SOL
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -   position_id: pos_05-20-18-37-39_34280964
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (from CSV: 5.75)
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03373 (from CSV: 0.03373)
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -   Total points: 7
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747765800, 'close': 0.080339107, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747769400, 'close': 0.08666898, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -   Valid prices: 7
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -   Min price: 7.684500200000000e-02
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -   Max price: 8.666898000000001e-02
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1278414697679364
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (type: <class 'float'>)
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03373 (type: <class 'float'>)
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-20 18:37:39
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-20 19:38:00
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -   price_history length: 7
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.080339107, 0.081604539, 0.07914365, 0.076845002, 0.0788048]
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.07914365, 0.076845002, 0.0788048, 0.082145356, 0.08666898]
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -   Initial price: 8.033910700000001e-02
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -   Final price: 8.666898000000001e-02
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0787894368803477
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -   initial_price: 8.033910700000001e-02
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -   final_price: 8.666898000000001e-02
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0787894368803477
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -   active_bin_index: 7
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 7 bins): 0.5833333333333333
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG - 
Calculating token values for 7 activated bins:
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.073980328619226e-02 = 8.033910700000001e-02 * 1.004987562112089
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.032122075377716e+00 = 0.08333333333333333 / 8.073980328619226e-02
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -     Final value: 8.945296750846982e-02 = 1.032122075377716e+00 * 8.666898000000001e-02
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.945296750846982e-02 = 0.08333333333333333 * (8.666898000000001e-02 / 8.073980328619226e-02)
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.154720131905419e-02 = 8.033910700000001e-02 * 1.0150374377332099
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.021903044928432e+00 = 0.08333333333333333 / 8.154720131905419e-02
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -     Final value: 8.856729456284139e-02 = 1.021903044928432e+00 * 8.666898000000001e-02
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.856729456284140e-02 = 0.08333333333333333 * (8.666898000000001e-02 / 8.154720131905419e-02)
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.236267333224474e-02 = 8.033910700000001e-02 * 1.025187812110542
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.011785192998447e+00 = 0.08333333333333333 / 8.236267333224474e-02
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -     Final value: 8.769039065627858e-02 = 1.011785192998447e+00 * 8.666898000000001e-02
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.769039065627859e-02 = 0.08333333333333333 * (8.666898000000001e-02 / 8.236267333224474e-02)
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.318630006556718e-02 = 8.033910700000001e-02 * 1.0354396902316474
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.001767517820245e+00 = 0.08333333333333333 / 8.318630006556718e-02
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -     Final value: 8.682216896661248e-02 = 1.001767517820245e+00 * 8.666898000000001e-02
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.682216896661246e-02 = 0.08333333333333333 * (8.666898000000001e-02 / 8.318630006556718e-02)
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,247 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.401816306622285e-02 = 8.033910700000001e-02 * 1.045794087133964
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     Tokens bought: 9.918490275447971e-01 = 0.08333333333333333 / 8.401816306622285e-02
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     Final value: 8.596254353129948e-02 = 9.918490275447971e-01 * 8.666898000000001e-02
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.596254353129948e-02 = 0.08333333333333333 * (8.666898000000001e-02 / 8.401816306622285e-02)
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 2 more bins processed)
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.166666666666667 = 5.75 - 0.5833333333333333
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -   Total token value: 6.078755362851155e-01
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.166666666666667
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -   Final asset value: 5.774542202951783e+00
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.454220295178278e-02
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -   initial_price: 8.033910700000001e-02
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -   final_price: 8.666898000000001e-02
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0787894368803477
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -   active_bin_index: 7
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 7 bins): 0.796854873336196
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG - 
Calculating token values for 7 activated bins:
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12408759124087594
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.073980328619226e-02 = 8.033910700000001e-02 * 1.004987562112089
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.536882506401856e+00 = 0.12408759124087594 / 8.073980328619226e-02
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     Final value: 1.332000392096923e-01 = 1.536882506401856e+00 * 8.666898000000001e-02
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.332000392096923e-01 = 0.12408759124087594 * (8.666898000000001e-02 / 8.073980328619226e-02)
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12049162730785751
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.154720131905419e-02 = 8.033910700000001e-02 * 1.0150374377332099
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.477569130011377e+00 = 0.12049162730785751 / 8.154720131905419e-02
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     Final value: 1.280594093775734e-01 = 1.477569130011377e+00 * 8.666898000000001e-02
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.280594093775735e-01 = 0.12049162730785751 * (8.666898000000001e-02 / 8.154720131905419e-02)
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11700300558179476
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.236267333224474e-02 = 8.033910700000001e-02 * 1.025187812110542
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.420582903007696e+00 = 0.11700300558179476 / 8.236267333224474e-02
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     Final value: 1.231204712091159e-01 = 1.420582903007696e+00 * 8.666898000000001e-02
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.231204712091159e-01 = 0.11700300558179476 * (8.666898000000001e-02 / 8.236267333224474e-02)
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11362172606268788
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.318630006556718e-02 = 8.033910700000001e-02 * 1.0354396902316474
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.365870653859248e+00 = 0.11362172606268788 / 8.318630006556718e-02
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     Final value: 1.183786163819141e-01 = 1.365870653859248e+00 * 8.666898000000001e-02
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.183786163819141e-01 = 0.11362172606268788 * (8.666898000000001e-02 / 8.318630006556718e-02)
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11034778875053675
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.401816306622285e-02 = 8.033910700000001e-02 * 1.045794087133964
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.313380163567263e+00 = 0.11034778875053675 / 8.401816306622285e-02
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     Final value: 1.138293191286079e-01 = 1.313380163567263e+00 * 8.666898000000001e-02
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.138293191286079e-01 = 0.11034778875053675 * (8.666898000000001e-02 / 8.401816306622285e-02)
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 2 more bins processed)
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.953145126663804 = 5.75 - 0.796854873336196
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -   Total token value: 8.313466895634098e-01
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.953145126663804
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -   Final asset value: 5.784491816227214e+00
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -   PnL from assets: 3.449181622721387e-02
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     PnL: 3.029220295178277e-02
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.454220295178278e-02
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     PnL: 3.851681622721387e-02
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.025000000000000e-03
2025-07-15 17:58:17,248 - DEEP_DEBUG - DEBUG -     PnL from IL: 3.449181622721387e-02
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   position_id: pos_05-21-05-39-46_25150809
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7482 (from CSV: 5.7482)
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01041 (from CSV: 0.01041)
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   Total points: 5
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747805400, 'close': 0.022607614, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747807800, 'close': 0.021931397, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   Valid prices: 5
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   Min price: 2.193139700000000e-02
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   Max price: 2.260761400000000e-02
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0308332843548453
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7482 (type: <class 'float'>)
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01041 (type: <class 'float'>)
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-21 05:39:46
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-21 06:13:10
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   price_history length: 5
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.022607614, 0.022607614, 0.022607614, 0.022607614, 0.021931397]
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.022607614, 0.022607614, 0.022607614, 0.022607614, 0.021931397]
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   Initial price: 2.260761400000000e-02
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   Final price: 2.193139700000000e-02
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9700889709104197
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7482
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   initial_price: 2.260761400000000e-02
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   final_price: 2.193139700000000e-02
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9700889709104197
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7482 = 5.7482 - 0
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7482
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   Final asset value: 5.748200000000000e+00
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7482
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7482
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   initial_price: 2.260761400000000e-02
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   final_price: 2.193139700000000e-02
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9700889709104197
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7482 = 5.7482 - 0
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7482
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   Final asset value: 5.748200000000000e+00
2025-07-15 17:58:17,249 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7482
2025-07-15 17:58:17,250 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,250 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,250 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,250 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,250 - DEEP_DEBUG - DEBUG -     PnL: 5.748200000000000e-03
2025-07-15 17:58:17,250 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.748200000000000e-03
2025-07-15 17:58:17,250 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,250 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,250 - DEEP_DEBUG - DEBUG -     PnL: 4.023740000000000e-03
2025-07-15 17:58:17,250 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.023740000000000e-03
2025-07-15 17:58:17,250 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,250 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,250 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:17,250 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,250 - DEEP_DEBUG - DEBUG -   position_id: pos_05-21-06-45-49_25154029
2025-07-15 17:58:17,250 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7495 (from CSV: 5.7495)
2025-07-15 17:58:17,250 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.86737 (from CSV: -0.86737)
2025-07-15 17:58:17,250 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,250 - DEEP_DEBUG - DEBUG -   close_reason: SL
2025-07-15 17:58:17,250 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,250 - DEEP_DEBUG - DEBUG -   Total points: 25
2025-07-15 17:58:17,250 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747807200, 'close': 0.021147336, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,250 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747893600, 'close': 0.014510736, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,250 - DEEP_DEBUG - DEBUG -   Valid prices: 25
2025-07-15 17:58:17,250 - DEEP_DEBUG - DEBUG -   Min price: 1.351945100000000e-02
2025-07-15 17:58:17,250 - DEEP_DEBUG - DEBUG -   Max price: 2.121540000000000e-02
2025-07-15 17:58:17,250 - DEEP_DEBUG - DEBUG -   Price ratio: 1.5692501123011577
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7495 (type: <class 'float'>)
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.86737 (type: <class 'float'>)
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-21 06:45:49
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-22 06:00:51
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   close_reason: SL
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   price_history length: 25
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.021147336, 0.020646065, 0.019549033, 0.020115617, 0.020795524]
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.015381269, 0.01518499, 0.015038508, 0.013519451, 0.014510736]
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   Initial price: 2.114733600000000e-02
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   Final price: 1.451073600000000e-02
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   Price ratio: 0.6861732371396567
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7495
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   initial_price: 2.114733600000000e-02
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   final_price: 1.451073600000000e-02
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   price_ratio: 0.6861732371396567
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7495 = 5.7495 - 0
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7495
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   Final asset value: 5.749500000000000e+00
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7495
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7495
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   initial_price: 2.114733600000000e-02
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   final_price: 1.451073600000000e-02
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   price_ratio: 0.6861732371396567
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7495 = 5.7495 - 0
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7495
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   Final asset value: 5.749500000000000e+00
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7495
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -     PnL: 5.749500000000000e-03
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.749500000000000e-03
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -     PnL: 3.449700000000000e-03
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -     PnL from fees: 3.449700000000000e-03
2025-07-15 17:58:17,251 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Collaterize-SOL
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   position_id: pos_05-21-14-56-56_34396077
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (from CSV: 5.76)
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.0197 (from CSV: 0.0197)
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   Total points: 10
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747837800, 'close': 0.065281795, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747854000, 'close': 0.062083934, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   Valid prices: 10
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   Min price: 5.854285100000000e-02
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   Max price: 6.528179500000000e-02
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1151113053923527
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (type: <class 'float'>)
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.0197 (type: <class 'float'>)
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-21 14:56:56
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-21 19:17:26
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   price_history length: 10
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.065281795, 0.060207968, 0.064245187, 0.064458868, 0.062844311]
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.060238125, 0.058542851, 0.059376401, 0.0634294, 0.062083934]
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   Initial price: 6.528179500000000e-02
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   Final price: 6.208393400000000e-02
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9510145056519969
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   initial_price: 6.528179500000000e-02
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   final_price: 6.208393400000000e-02
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9510145056519969
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.76 = 5.76 - 0
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.76
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   Final asset value: 5.760000000000000e+00
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   initial_price: 6.528179500000000e-02
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   final_price: 6.208393400000000e-02
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9510145056519969
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.76 = 5.76 - 0
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.76
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   Final asset value: 5.760000000000000e+00
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,252 - DEEP_DEBUG - DEBUG -     PnL: 5.759999999999999e-03
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759999999999999e-03
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -     PnL: 3.243987672697248e-03
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -     PnL from fees: 3.243987672697248e-03
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -   position_id: pos_05-21-17-44-40_1526595
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (from CSV: 5.75)
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03371 (from CSV: 0.03371)
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -   Total points: 15
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747849200, 'close': 0.047052762, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747857600, 'close': 0.050168762, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -   Valid prices: 15
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -   Min price: 4.482864700000000e-02
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -   Max price: 5.140872600000000e-02
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1467829042442437
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (type: <class 'float'>)
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03371 (type: <class 'float'>)
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-21 17:44:40
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-21 20:08:07
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -   price_history length: 15
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.047052762, 0.046030324, 0.048721516, 0.04803834, 0.046751299]
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.046995954, 0.04849272, 0.050184402, 0.051408726, 0.050168762]
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -   Initial price: 4.705276200000000e-02
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -   Final price: 5.016876200000000e-02
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0662235300873517
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -   initial_price: 4.705276200000000e-02
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -   final_price: 5.016876200000000e-02
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0662235300873517
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -   active_bin_index: 6
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 6 bins): 0.49999999999999994
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG - 
Calculating token values for 6 activated bins:
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.728744057302034e-02 = 4.705276200000000e-02 * 1.004987562112089
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.762272018183171e+00 = 0.08333333333333333 / 4.728744057302034e-02
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -     Final value: 8.841100545949118e-02 = 1.762272018183171e+00 * 5.016876200000000e-02
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.841100545949118e-02 = 0.08333333333333333 * (5.016876200000000e-02 / 4.728744057302034e-02)
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.776031497875054e-02 = 4.705276200000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,253 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.744823780379377e+00 = 0.08333333333333333 / 4.776031497875054e-02
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Final value: 8.753564896979325e-02 = 1.744823780379377e+00 * 5.016876200000000e-02
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.753564896979324e-02 = 0.08333333333333333 * (5.016876200000000e-02 / 4.776031497875054e-02)
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.823791812853805e-02 = 4.705276200000000e-02 * 1.025187812110542
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.727548297405324e+00 = 0.08333333333333333 / 4.823791812853805e-02
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Final value: 8.666895937603293e-02 = 1.727548297405324e+00 * 5.016876200000000e-02
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.666895937603293e-02 = 0.08333333333333333 * (5.016876200000000e-02 / 4.823791812853805e-02)
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.872029730982343e-02 = 4.705276200000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.710443858817153e+00 = 0.08333333333333333 / 4.872029730982343e-02
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Final value: 8.581085086735933e-02 = 1.710443858817153e+00 * 5.016876200000000e-02
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.581085086735935e-02 = 0.08333333333333333 * (5.016876200000000e-02 / 4.872029730982343e-02)
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.920750028292167e-02 = 4.705276200000000e-02 * 1.045794087133964
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.693508771106092e+00 = 0.08333333333333333 / 4.920750028292167e-02
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Final value: 8.496123848253399e-02 = 1.693508771106092e+00 * 5.016876200000000e-02
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.496123848253398e-02 = 0.08333333333333333 * (5.016876200000000e-02 / 4.920750028292167e-02)
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 1 more bins processed)
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.25 = 5.75 - 0.49999999999999994
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -   Total token value: 5.175077412567295e-01
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.25
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -   Final asset value: 5.767507741256729e+00
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.750774125672905e-02
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -   initial_price: 4.705276200000000e-02
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -   final_price: 5.016876200000000e-02
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0662235300873517
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -   active_bin_index: 6
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 6 bins): 0.6927329325890942
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG - 
Calculating token values for 6 activated bins:
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12408759124087594
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.728744057302034e-02 = 4.705276200000000e-02 * 1.004987562112089
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.624113078170562e+00 = 0.12408759124087594 / 4.728744057302034e-02
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Final value: 1.316485044798263e-01 = 2.624113078170562e+00 * 5.016876200000000e-02
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.316485044798263e-01 = 0.12408759124087594 * (5.016876200000000e-02 / 4.728744057302034e-02)
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12049162730785751
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.776031497875054e-02 = 4.705276200000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.522839879960308e+00 = 0.12049162730785751 / 4.776031497875054e-02
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Final value: 1.265677535018372e-01 = 2.522839879960308e+00 * 5.016876200000000e-02
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.265677535018372e-01 = 0.12049162730785751 * (5.016876200000000e-02 / 4.776031497875054e-02)
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11700300558179476
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.823791812853805e-02 = 4.705276200000000e-02 * 1.025187812110542
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.425540117009622e+00 = 0.11700300558179476 / 4.823791812853805e-02
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Final value: 1.216863448517079e-01 = 2.425540117009622e+00 * 5.016876200000000e-02
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.216863448517079e-01 = 0.11700300558179476 * (5.016876200000000e-02 / 4.823791812853805e-02)
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11362172606268788
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.872029730982343e-02 = 4.705276200000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.332123002865552e+00 = 0.11362172606268788 / 4.872029730982343e-02
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Final value: 1.169997238854872e-01 = 2.332123002865552e+00 * 5.016876200000000e-02
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.169997238854872e-01 = 0.11362172606268788 * (5.016876200000000e-02 / 4.872029730982343e-02)
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11034778875053675
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.920750028292167e-02 = 4.705276200000000e-02 * 1.045794087133964
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.242499377454353e+00 = 0.11034778875053675 / 4.920750028292167e-02
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Final value: 1.125034175526556e-01 = 2.242499377454353e+00 * 5.016876200000000e-02
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.125034175526556e-01 = 0.11034778875053675 * (5.016876200000000e-02 / 4.920750028292167e-02)
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 1 more bins processed)
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.057267067410906 = 5.75 - 0.6927329325890942
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -   Total token value: 7.175987773900628e-01
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.057267067410906
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -   Final asset value: 5.774865844800969e+00
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.486584480096887e-02
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     PnL: 2.325774125672905e-02
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.750774125672905e-02
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     PnL: 2.889084480096887e-02
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.025000000000000e-03
2025-07-15 17:58:17,254 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.486584480096887e-02
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Housecoin-SOL
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -   position_id: pos_05-21-20-09-48_1534320
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (from CSV: 5.75)
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.0415 (from CSV: 0.0415)
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -   Total points: 20
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747857600, 'close': 0.058775716, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747891800, 'close': 0.064127496, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -   Valid prices: 20
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -   Min price: 4.876681000000000e-02
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -   Max price: 6.412749600000001e-02
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -   Price ratio: 1.314982382485137
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (type: <class 'float'>)
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.0415 (type: <class 'float'>)
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-21 20:09:48
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-22 05:34:14
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -   price_history length: 20
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.058775716, 0.052481435, 0.055541261, 0.056466823, 0.05461443]
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.055959212, 0.057105816, 0.058777693, 0.06141742, 0.064127496]
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -   Initial price: 5.877571600000000e-02
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -   Final price: 6.412749600000001e-02
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0910542714613636
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -   initial_price: 5.877571600000000e-02
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -   final_price: 6.412749600000001e-02
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0910542714613636
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -   active_bin_index: 8
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 8 bins): 0.6666666666666666
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG - 
Calculating token values for 8 activated bins:
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.906886353423250e-02 = 5.877571600000000e-02 * 1.004987562112089
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.410782743179725e+00 = 0.08333333333333333 / 5.906886353423250e-02
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -     Final value: 9.046996472012683e-02 = 1.410782743179725e+00 * 6.412749600000001e-02
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.046996472012683e-02 = 0.08333333333333333 * (6.412749600000001e-02 / 5.906886353423250e-02)
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.965955216957482e-02 = 5.877571600000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.396814597207648e+00 = 0.08333333333333333 / 5.965955216957482e-02
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -     Final value: 8.957422249517508e-02 = 1.396814597207648e+00 * 6.412749600000001e-02
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.957422249517508e-02 = 0.08333333333333333 * (6.412749600000001e-02 / 5.965955216957482e-02)
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.025614769127058e-02 = 5.877571600000000e-02 * 1.025187812110542
2025-07-15 17:58:17,255 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.382984749710543e+00 = 0.08333333333333333 / 6.025614769127058e-02
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Final value: 8.868734900512383e-02 = 1.382984749710543e+00 * 6.412749600000001e-02
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.868734900512383e-02 = 0.08333333333333333 * (6.412749600000001e-02 / 6.025614769127058e-02)
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.085870916818328e-02 = 5.877571600000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.369291831396577e+00 = 0.08333333333333333 / 6.085870916818328e-02
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Final value: 8.780925644071667e-02 = 1.369291831396577e+00 * 6.412749600000001e-02
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.780925644071666e-02 = 0.08333333333333333 * (6.412749600000001e-02 / 6.085870916818328e-02)
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.146729625986512e-02 = 5.877571600000000e-02 * 1.045794087133964
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.355734486531264e+00 = 0.08333333333333333 / 6.146729625986512e-02
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Final value: 8.693985786209571e-02 = 1.355734486531264e+00 * 6.412749600000001e-02
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.693985786209570e-02 = 0.08333333333333333 * (6.412749600000001e-02 / 6.146729625986512e-02)
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 3 more bins processed)
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.083333333333333 = 5.75 - 0.6666666666666666
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -   Total token value: 6.991694864148233e-01
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.083333333333333
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -   Final asset value: 5.782502819748156e+00
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -   PnL from assets: 3.250281974815650e-02
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -   initial_price: 5.877571600000000e-02
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -   final_price: 6.412749600000001e-02
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0910542714613636
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -   active_bin_index: 8
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 8 bins): 0.898024903392014
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG - 
Calculating token values for 8 activated bins:
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12408759124087594
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.906886353423250e-02 = 5.877571600000000e-02 * 1.004987562112089
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.100727588384408e+00 = 0.12408759124087594 / 5.906886353423250e-02
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Final value: 1.347144000212108e-01 = 2.100727588384408e+00 * 6.412749600000001e-02
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.347144000212108e-01 = 0.12408759124087594 * (6.412749600000001e-02 / 5.906886353423250e-02)
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12049162730785751
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.965955216957482e-02 = 5.877571600000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.019653566379028e+00 = 0.12049162730785751 / 5.965955216957482e-02
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Final value: 1.295153259993569e-01 = 2.019653566379028e+00 * 6.412749600000001e-02
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.295153259993569e-01 = 0.12049162730785751 * (6.412749600000001e-02 / 5.965955216957482e-02)
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11700300558179476
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.025614769127058e-02 = 5.877571600000000e-02 * 1.025187812110542
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.941760468679036e+00 = 0.11700300558179476 / 6.025614769127058e-02
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Final value: 1.245202366881730e-01 = 1.941760468679036e+00 * 6.412749600000001e-02
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.245202366881730e-01 = 0.11700300558179476 * (6.412749600000001e-02 / 6.025614769127058e-02)
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11362172606268788
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.085870916818328e-02 = 5.877571600000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.866975616401817e+00 = 0.11362172606268788 / 6.085870916818328e-02
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Final value: 1.197244713729051e-01 = 1.866975616401817e+00 * 6.412749600000001e-02
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.197244713729050e-01 = 0.11362172606268788 * (6.412749600000001e-02 / 6.085870916818328e-02)
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11034778875053675
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.146729625986512e-02 = 5.877571600000000e-02 * 1.045794087133964
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.795227632658832e+00 = 0.11034778875053675 / 6.146729625986512e-02
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Final value: 1.151234528324187e-01 = 1.795227632658832e+00 * 6.412749600000001e-02
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.151234528324187e-01 = 0.11034778875053675 * (6.412749600000001e-02 / 6.146729625986512e-02)
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 3 more bins processed)
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.851975096607986 = 5.75 - 0.898024903392014
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -   Total token value: 9.432426605101413e-01
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.851975096607986
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -   Final asset value: 5.795217757118127e+00
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -   PnL from assets: 4.521775711812737e-02
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     PnL: 3.825281974815650e-02
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     PnL from IL: 3.250281974815650e-02
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     PnL: 4.924275711812737e-02
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.025000000000000e-03
2025-07-15 17:58:17,256 - DEEP_DEBUG - DEBUG -     PnL from IL: 4.521775711812737e-02
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Collaterize-SOL
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   position_id: pos_05-21-22-06-35_9722249
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (from CSV: 5.75)
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03319 (from CSV: 0.03319)
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   Total points: 11
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747864800, 'close': 0.049640272, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747882800, 'close': 0.065709416, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   Valid prices: 11
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   Min price: 4.964027200000000e-02
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   Max price: 6.570941600000001e-02
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   Price ratio: 1.3237118442864295
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (type: <class 'float'>)
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03319 (type: <class 'float'>)
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-21 22:06:35
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-22 03:20:13
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   price_history length: 11
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.049640272, 0.049640272, 0.049640272, 0.049640272, 0.049640272]
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.051793236, 0.050955929, 0.053317288, 0.056099692, 0.065709416]
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   Initial price: 4.964027200000000e-02
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   Final price: 6.570941600000001e-02
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   Price ratio: 1.3237118442864295
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   initial_price: 4.964027200000000e-02
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   final_price: 6.570941600000001e-02
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   price_ratio: 1.3237118442864295
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   active_bin_index: 28
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 28 bins): 2.333333333333333
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG - 
Calculating token values for 28 activated bins:
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.988785593986099e-02 = 4.964027200000000e-02 * 1.004987562112089
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.670413205045138e+00 = 0.08333333333333333 / 4.988785593986099e-02
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -     Final value: 1.097618761822043e-01 = 1.670413205045138e+00 * 6.570941600000001e-02
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.097618761822043e-01 = 0.08333333333333333 * (6.570941600000001e-02 / 4.988785593986099e-02)
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.038673449925960e-02 = 4.964027200000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.653874460440731e+00 = 0.08333333333333333 / 5.038673449925960e-02
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -     Final value: 1.086751249328755e-01 = 1.653874460440731e+00 * 6.570941600000001e-02
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.086751249328755e-01 = 0.08333333333333333 * (6.570941600000001e-02 / 5.038673449925960e-02)
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.089060184425220e-02 = 4.964027200000000e-02 * 1.025187812110542
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.637499465782902e+00 = 0.08333333333333333 / 5.089060184425220e-02
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -     Final value: 1.075991335969065e-01 = 1.637499465782902e+00 * 6.570941600000001e-02
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.075991335969065e-01 = 0.08333333333333333 * (6.570941600000001e-02 / 5.089060184425220e-02)
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.139950786269472e-02 = 4.964027200000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.621286599785051e+00 = 0.08333333333333333 / 5.139950786269472e-02
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -     Final value: 1.065337956405014e-01 = 1.621286599785051e+00 * 6.570941600000001e-02
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.065337956405014e-01 = 0.08333333333333333 * (6.570941600000001e-02 / 5.139950786269472e-02)
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.191350294132167e-02 = 4.964027200000000e-02 * 1.045794087133964
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.605234257212922e+00 = 0.08333333333333333 / 5.191350294132167e-02
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -     Final value: 1.054790055846549e-01 = 1.605234257212922e+00 * 6.570941600000001e-02
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.054790055846549e-01 = 0.08333333333333333 * (6.570941600000001e-02 / 5.191350294132167e-02)
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 23 more bins processed)
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 3.416666666666667 = 5.75 - 2.333333333333333
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   Total token value: 2.695708607168644e+00
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   Remaining SOL: 3.416666666666667
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   Final asset value: 6.112375273835312e+00
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG -   PnL from assets: 3.623752738353119e-01
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,257 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -   initial_price: 4.964027200000000e-02
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -   final_price: 6.570941600000001e-02
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -   price_ratio: 1.3237118442864295
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -   active_bin_index: 28
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 28 bins): 2.466831258050666
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG - 
Calculating token values for 28 activated bins:
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12408759124087594
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.988785593986099e-02 = 4.964027200000000e-02 * 1.004987562112089
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.487330611892031e+00 = 0.12408759124087594 / 4.988785593986099e-02
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     Final value: 1.634410419063481e-01 = 2.487330611892031e+00 * 6.570941600000001e-02
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.634410419063481e-01 = 0.12408759124087594 * (6.570941600000001e-02 / 4.988785593986099e-02)
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12049162730785751
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.038673449925960e-02 = 4.964027200000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.391336301216902e+00 = 0.12049162730785751 / 5.038673449925960e-02
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     Final value: 1.571333118125627e-01 = 2.391336301216902e+00 * 6.570941600000001e-02
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.571333118125627e-01 = 0.12049162730785751 * (6.570941600000001e-02 / 5.038673449925960e-02)
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11700300558179476
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.089060184425220e-02 = 4.964027200000000e-02 * 1.025187812110542
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.299108309622194e+00 = 0.11700300558179476 / 5.089060184425220e-02
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     Final value: 1.510730643460215e-01 = 2.299108309622194e+00 * 6.570941600000001e-02
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.510730643460216e-01 = 0.11700300558179476 * (6.570941600000001e-02 / 5.089060184425220e-02)
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11362172606268788
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.139950786269472e-02 = 4.964027200000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.210560582918605e+00 = 0.11362172606268788 / 5.139950786269472e-02
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     Final value: 1.452546449362012e-01 = 2.210560582918605e+00 * 6.570941600000001e-02
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.452546449362011e-01 = 0.11362172606268788 * (6.570941600000001e-02 / 5.139950786269472e-02)
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11034778875053675
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.191350294132167e-02 = 4.964027200000000e-02 * 1.045794087133964
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.125608608520675e+00 = 0.11034778875053675 / 5.191350294132167e-02
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     Final value: 1.396725003104662e-01 = 2.125608608520675e+00 * 6.570941600000001e-02
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.396725003104662e-01 = 0.11034778875053675 * (6.570941600000001e-02 / 5.191350294132167e-02)
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 23 more bins processed)
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 3.283168741949334 = 5.75 - 2.466831258050666
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -   Total token value: 2.896387033260174e+00
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -   Remaining SOL: 3.283168741949334
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -   Final asset value: 6.179555775209508e+00
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -   PnL from assets: 4.295557752095078e-01
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     PnL: 3.681252738353119e-01
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     PnL from IL: 3.623752738353119e-01
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     PnL: 4.335807752095078e-01
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.025000000000000e-03
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG -     PnL from IL: 4.295557752095078e-01
2025-07-15 17:58:17,258 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   position_id: pos_05-22-05-36-59_1563771
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (from CSV: 5.75)
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03908 (from CSV: 0.03908)
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   Total points: 24
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747891800, 'close': 0.065418556, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747905600, 'close': 0.077880459, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   Valid prices: 24
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   Min price: 6.274741100000000e-02
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   Max price: 7.788045900000000e-02
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2411740621457672
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (type: <class 'float'>)
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03908 (type: <class 'float'>)
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-22 05:36:59
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-22 09:29:21
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   price_history length: 24
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.065418556, 0.065418556, 0.065418556, 0.065418556, 0.065418556]
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.067734364, 0.06851474, 0.069952719, 0.076414467, 0.077880459]
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   Initial price: 6.541855600000000e-02
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   Final price: 7.788045900000000e-02
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1904949262408053
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   initial_price: 6.541855600000000e-02
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   final_price: 7.788045900000000e-02
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1904949262408053
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   active_bin_index: 17
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 17 bins): 1.4166666666666663
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG - 
Calculating token values for 17 activated bins:
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.574483511133317e-02 = 6.541855600000000e-02 * 1.004987562112089
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.267526691522088e+00 = 0.08333333333333333 / 6.574483511133317e-02
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Final value: 9.871556053049162e-02 = 1.267526691522088e+00 * 7.788045900000000e-02
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.871556053049160e-02 = 0.08333333333333333 * (7.788045900000000e-02 / 6.574483511133317e-02)
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.640228346244650e-02 = 6.541855600000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.254976922299097e+00 = 0.08333333333333333 / 6.640228346244650e-02
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Final value: 9.773817874306098e-02 = 1.254976922299097e+00 * 7.788045900000000e-02
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.773817874306098e-02 = 0.08333333333333333 * (7.788045900000000e-02 / 6.640228346244650e-02)
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.706630629707097e-02 = 6.541855600000000e-02 * 1.025187812110542
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.242551408216928e+00 = 0.08333333333333333 / 6.706630629707097e-02
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Final value: 9.677047400303068e-02 = 1.242551408216928e+00 * 7.788045900000000e-02
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.677047400303068e-02 = 0.08333333333333333 * (7.788045900000000e-02 / 6.706630629707097e-02)
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.773696936004169e-02 = 6.541855600000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.230248919026661e+00 = 0.08333333333333333 / 6.773696936004169e-02
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Final value: 9.581235049805018e-02 = 1.230248919026661e+00 * 7.788045900000000e-02
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.581235049805018e-02 = 0.08333333333333333 * (7.788045900000000e-02 / 6.773696936004169e-02)
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08333333333333333
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.841433905364210e-02 = 6.541855600000000e-02 * 1.045794087133964
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.218068236660060e+00 = 0.08333333333333333 / 6.841433905364210e-02
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Final value: 9.486371336440613e-02 = 1.218068236660060e+00 * 7.788045900000000e-02
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.486371336440613e-02 = 0.08333333333333333 * (7.788045900000000e-02 / 6.841433905364210e-02)
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 12 more bins processed)
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.333333333333334 = 5.75 - 1.4166666666666663
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   Total token value: 1.551598720477870e+00
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.333333333333334
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   Final asset value: 5.884932053811204e+00
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.349320538112035e-01
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   initial_price: 6.541855600000000e-02
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   final_price: 7.788045900000000e-02
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1904949262408053
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   active_bin_index: 17
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 17 bins): 1.693430656934307
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG - 
Calculating token values for 17 activated bins:
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12408759124087594
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.574483511133317e-02 = 6.541855600000000e-02 * 1.004987562112089
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.887412007813912e+00 = 0.12408759124087594 / 6.574483511133317e-02
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Final value: 1.469925134906591e-01 = 1.887412007813912e+00 * 7.788045900000000e-02
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.469925134906591e-01 = 0.12408759124087594 * (7.788045900000000e-02 / 6.574483511133317e-02)
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12049162730785751
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.640228346244650e-02 = 6.541855600000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.814570539219498e+00 = 0.12049162730785751 / 6.640228346244650e-02
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Final value: 1.413195864822920e-01 = 1.814570539219498e+00 * 7.788045900000000e-02
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.413195864822920e-01 = 0.12049162730785751 * (7.788045900000000e-02 / 6.640228346244650e-02)
2025-07-15 17:58:17,259 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11700300558179476
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.706630629707097e-02 = 6.541855600000000e-02 * 1.025187812110542
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.744586992215265e+00 = 0.11700300558179476 / 6.706630629707097e-02
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -     Final value: 1.358692357191543e-01 = 1.744586992215265e+00 * 7.788045900000000e-02
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.358692357191543e-01 = 0.11700300558179476 * (7.788045900000000e-02 / 6.706630629707097e-02)
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11362172606268788
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.773696936004169e-02 = 6.541855600000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.677396067998782e+00 = 0.11362172606268788 / 6.773696936004169e-02
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -     Final value: 1.306363757005403e-01 = 1.677396067998782e+00 * 7.788045900000000e-02
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.306363757005403e-01 = 0.11362172606268788 * (7.788045900000000e-02 / 6.773696936004169e-02)
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11034778875053675
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.841433905364210e-02 = 6.541855600000000e-02 * 1.045794087133964
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.612933637552438e+00 = 0.11034778875053675 / 6.841433905364210e-02
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -     Final value: 1.256160120291235e-01 = 1.612933637552438e+00 * 7.788045900000000e-02
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.256160120291235e-01 = 0.11034778875053675 * (7.788045900000000e-02 / 6.841433905364210e-02)
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 12 more bins processed)
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.056569343065693 = 5.75 - 1.693430656934307
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -   Total token value: 1.867149497127752e+00
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.056569343065693
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -   Final asset value: 5.923718840193445e+00
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.737188401934446e-01
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -     PnL: 1.406820538112036e-01
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.349320538112035e-01
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -     PnL: 1.794688401934446e-01
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.737188401934446e-01
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for XBT-SOL
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -   position_id: pos_05-22-15-56-09_1577081
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (from CSV: 5.75)
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.2125 (from CSV: 0.2125)
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -   Total points: 23
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747926000, 'close': 0.010369488, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748005200, 'close': 0.006091092, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -   Valid prices: 23
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -   Min price: 4.702650000000000e-03
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -   Max price: 1.036948800000000e-02
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG -   Price ratio: 2.205030780517368
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,260 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (type: <class 'float'>)
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.2125 (type: <class 'float'>)
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-22 15:56:09
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-23 13:37:50
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   price_history length: 23
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.010369488, 0.008087413, 0.007137165, 0.007292938, 0.006894302]
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.005774177, 0.006519658, 0.00470265, 0.005084293, 0.006091092]
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   Initial price: 1.036948800000000e-02
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   Final price: 6.091092000000000e-03
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   Price ratio: 0.5874052797978069
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   initial_price: 1.036948800000000e-02
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   final_price: 6.091092000000000e-03
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   price_ratio: 0.5874052797978069
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.75 = 5.75 - 0
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.75
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   Final asset value: 5.750000000000000e+00
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   initial_price: 1.036948800000000e-02
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   final_price: 6.091092000000000e-03
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   price_ratio: 0.5874052797978069
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.75 = 5.75 - 0
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.75
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   Final asset value: 5.750000000000000e+00
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -     PnL: 5.750000000000000e-03
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -     PnL: 5.750000000000000e-03
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:17,261 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for titcoin-SOL
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   position_id: pos_05-22-16-22-13_9796638
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7582 (from CSV: 5.7582)
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02017 (from CSV: 0.02017)
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   Total points: 8
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747930800, 'close': 0.048549641, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747935000, 'close': 0.050037523, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   Valid prices: 8
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   Min price: 4.647421600000000e-02
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   Max price: 5.003752300000000e-02
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0766727727047618
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7582 (type: <class 'float'>)
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02017 (type: <class 'float'>)
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-22 16:22:13
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-22 17:34:28
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   price_history length: 8
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.048549641, 0.047500468, 0.048165043, 0.046474216, 0.047116755]
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.046474216, 0.047116755, 0.048636205, 0.050037523, 0.050037523]
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   Initial price: 4.854964100000000e-02
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   Final price: 5.003752300000000e-02
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0306466117844209
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7582
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   initial_price: 4.854964100000000e-02
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   final_price: 5.003752300000000e-02
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0306466117844209
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.2503565217391304
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08345217391304348
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.879178535000712e-02 = 4.854964100000000e-02 * 1.004987562112089
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.710373443283549e+00 = 0.08345217391304348 / 4.879178535000712e-02
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -     Final value: 8.558285050688977e-02 = 1.710373443283549e+00 * 5.003752300000000e-02
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.558285050688977e-02 = 0.08345217391304348 * (5.003752300000000e-02 / 4.879178535000712e-02)
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08345217391304348
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.927970320350719e-02 = 4.854964100000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.693439052755989e+00 = 0.08345217391304348 / 4.927970320350719e-02
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -     Final value: 8.473549555137599e-02 = 1.693439052755989e+00 * 5.003752300000000e-02
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.473549555137599e-02 = 0.08345217391304348 * (5.003752300000000e-02 / 4.927970320350719e-02)
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08345217391304348
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.977250023554226e-02 = 4.854964100000000e-02 * 1.025187812110542
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.676672329461375e+00 = 0.08345217391304348 / 4.977250023554226e-02
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -     Final value: 8.389653024888713e-02 = 1.676672329461375e+00 * 5.003752300000000e-02
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.389653024888713e-02 = 0.08345217391304348 * (5.003752300000000e-02 / 4.977250023554226e-02)
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.50784347826087 = 5.7582 - 0.2503565217391304
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   Total token value: 2.542148763071529e-01
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.50784347826087
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   Final asset value: 5.762058354568024e+00
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7582
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   PnL from assets: 3.858354568023081e-03
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7582
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   initial_price: 4.854964100000000e-02
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   final_price: 5.003752300000000e-02
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0306466117844209
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.3620978718240709
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12426455093621076
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.879178535000712e-02 = 4.854964100000000e-02 * 1.004987562112089
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.546833448393022e+00 = 0.12426455093621076 / 4.879178535000712e-02
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -     Final value: 1.274372372511351e-01 = 2.546833448393022e+00 * 5.003752300000000e-02
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.274372372511352e-01 = 0.12426455093621076 * (5.003752300000000e-02 / 4.879178535000712e-02)
2025-07-15 17:58:17,262 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12066345884593133
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.927970320350719e-02 = 4.854964100000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.448542726558950e+00 = 0.12066345884593133 / 4.927970320350719e-02
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -     Final value: 1.225190129966762e-01 = 2.448542726558950e+00 * 5.003752300000000e-02
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.225190129966762e-01 = 0.12066345884593133 * (5.003752300000000e-02 / 4.927970320350719e-02)
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11716986204192881
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.977250023554226e-02 = 4.854964100000000e-02 * 1.025187812110542
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.354108423073721e+00 = 0.11716986204192881 / 4.977250023554226e-02
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -     Final value: 1.177937543640450e-01 = 2.354108423073721e+00 * 5.003752300000000e-02
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.177937543640451e-01 = 0.11716986204192881 * (5.003752300000000e-02 / 4.977250023554226e-02)
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.396102128175929 = 5.7582 - 0.3620978718240709
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -   Total token value: 3.677500046118564e-01
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.396102128175929
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -   Final asset value: 5.763852132787786e+00
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7582
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -   PnL from assets: 5.652132787785646e-03
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -     PnL: 9.616554568023083e-03
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.758200000000001e-03
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -     PnL from IL: 3.858354568023081e-03
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -     PnL: 9.682872787785648e-03
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.030740000000001e-03
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -     PnL from IL: 5.652132787785646e-03
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -   position_id: pos_05-22-17-15-15_25310125
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7587 (from CSV: 5.7587)
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.18139 (from CSV: 0.18139)
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -   Total points: 13
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747933200, 'close': 0.095836854, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747954800, 'close': 0.089123399, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -   Valid prices: 13
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -   Min price: 8.058657200000000e-02
2025-07-15 17:58:17,263 - DEEP_DEBUG - DEBUG -   Max price: 9.583685400000000e-02
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   Price ratio: 1.189240981735766
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7587 (type: <class 'float'>)
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.18139 (type: <class 'float'>)
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-22 17:15:15
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-22 23:05:09
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   price_history length: 13
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.095836854, 0.09394461, 0.086024139, 0.083467226, 0.089661216]
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.082761045, 0.081242727, 0.084693637, 0.086239338, 0.089123399]
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   Initial price: 9.583685400000000e-02
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   Final price: 8.912339900000001e-02
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9299491300079613
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7587
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   initial_price: 9.583685400000000e-02
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   final_price: 8.912339900000001e-02
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9299491300079613
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7587 = 5.7587 - 0
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7587
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   Final asset value: 5.758700000000000e+00
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7587
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7587
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   initial_price: 9.583685400000000e-02
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   final_price: 8.912339900000001e-02
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9299491300079613
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7587 = 5.7587 - 0
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7587
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   Final asset value: 5.758700000000000e+00
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7587
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -     PnL: 5.758700000000000e-03
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.758700000000000e-03
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -     PnL: 5.758700000000000e-03
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.758700000000000e-03
2025-07-15 17:58:17,264 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Housecoin-SOL
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   position_id: pos_05-22-18-47-17_9817671
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7589 (from CSV: 5.7589)
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03687 (from CSV: 0.03687)
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   Total points: 31
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747936800, 'close': 0.05291386, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748044800, 'close': 0.0513762, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   Valid prices: 31
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   Min price: 4.955808500000000e-02
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   Max price: 6.202882000000000e-02
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2516387588422757
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7589 (type: <class 'float'>)
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03687 (type: <class 'float'>)
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-22 18:47:17
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-24 00:37:24
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   price_history length: 31
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.05291386, 0.049558085, 0.050732882, 0.050043729, 0.052545601]
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.060363198, 0.056989289, 0.054337874, 0.052016139, 0.0513762]
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   Initial price: 5.291386000000000e-02
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   Final price: 5.137620000000000e-02
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9709403169604334
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7589
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   initial_price: 5.291386000000000e-02
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   final_price: 5.137620000000000e-02
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9709403169604334
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7589 = 5.7589 - 0
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7589
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   Final asset value: 5.758900000000000e+00
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7589
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7589
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   initial_price: 5.291386000000000e-02
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   final_price: 5.137620000000000e-02
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9709403169604334
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7589 = 5.7589 - 0
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7589
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   Final asset value: 5.758900000000000e+00
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7589
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -     PnL: 5.758900000000000e-03
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.758900000000000e-03
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -     PnL: 4.031229999999999e-03
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.031229999999999e-03
2025-07-15 17:58:17,265 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   position_id: pos_05-23-02-37-10_25378939
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7588 (from CSV: 5.7588)
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01103 (from CSV: 0.01103)
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   Total points: 7
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747967400, 'close': 0.088902961, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747971000, 'close': 0.087045512, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   Valid prices: 7
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   Min price: 8.704551200000001e-02
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   Max price: 9.794927200000000e-02
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1252650452558657
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7588 (type: <class 'float'>)
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01103 (type: <class 'float'>)
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-23 02:37:10
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-23 03:30:28
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   price_history length: 7
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.088902961, 0.088902961, 0.088902961, 0.088902961, 0.097949272]
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.088902961, 0.088902961, 0.097949272, 0.0929842, 0.087045512]
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   Initial price: 8.890296100000000e-02
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   Final price: 8.704551200000001e-02
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9791070063459416
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7588
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   initial_price: 8.890296100000000e-02
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   final_price: 8.704551200000001e-02
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9791070063459416
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7588 = 5.7588 - 0
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7588
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   Final asset value: 5.758800000000000e+00
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7588
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7588
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   initial_price: 8.890296100000000e-02
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   final_price: 8.704551200000001e-02
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9791070063459416
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7588 = 5.7588 - 0
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7588
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   Final asset value: 5.758800000000000e+00
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7588
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -     PnL: 5.758800000000000e-03
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.758800000000000e-03
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -     PnL: 4.031160000000000e-03
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.031160000000000e-03
2025-07-15 17:58:17,266 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -   position_id: pos_05-23-03-37-47_9879398
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7594 (from CSV: 5.7594)
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.05259 (from CSV: 0.05259)
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -   Total points: 10
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747971000, 'close': 0.085227761, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747987200, 'close': 0.09593048, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -   Valid prices: 10
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -   Min price: 8.065307100000001e-02
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -   Max price: 9.593048000000000e-02
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1894212930838057
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7594 (type: <class 'float'>)
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.05259 (type: <class 'float'>)
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-23 03:37:47
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-23 08:14:53
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -   price_history length: 10
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.085227761, 0.083566081, 0.081350249, 0.086666056, 0.081913788]
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.080653071, 0.08412294, 0.087227926, 0.090160186, 0.09593048]
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -   Initial price: 8.522776100000000e-02
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -   Final price: 9.593048000000000e-02
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1255778501561247
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7594
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -   initial_price: 8.522776100000000e-02
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -   final_price: 9.593048000000000e-02
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1255778501561247
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -   active_bin_index: 11
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 11 bins): 0.9181652173913046
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG - 
Calculating token values for 11 activated bins:
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08346956521739131
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.565283975166177e-02 = 8.522776100000000e-02 * 1.004987562112089
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -     Tokens bought: 9.745101908985090e-01 = 0.08346956521739131 / 8.565283975166177e-02
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -     Final value: 9.348523037778560e-02 = 9.745101908985090e-01 * 9.593048000000000e-02
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.348523037778558e-02 = 0.08346956521739131 * (9.593048000000000e-02 / 8.565283975166177e-02)
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08346956521739131
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.650936814917840e-02 = 8.522776100000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -     Tokens bought: 9.648615751470385e-01 = 0.08346956521739131 / 8.650936814917840e-02
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -     Final value: 9.255963403741148e-02 = 9.648615751470385e-01 * 9.593048000000000e-02
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.255963403741146e-02 = 0.08346956521739131 * (9.593048000000000e-02 / 8.650936814917840e-02)
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08346956521739131
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.737446183067017e-02 = 8.522776100000000e-02 * 1.025187812110542
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -     Tokens bought: 9.553084902445926e-01 = 0.08346956521739131 / 8.737446183067017e-02
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -     Final value: 9.164320201723909e-02 = 9.553084902445926e-01 * 9.593048000000000e-02
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.164320201723909e-02 = 0.08346956521739131 * (9.593048000000000e-02 / 8.737446183067017e-02)
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08346956521739131
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.824820644897688e-02 = 8.522776100000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -     Tokens bought: 9.458499903411808e-01 = 0.08346956521739131 / 8.824820644897688e-02
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -     Final value: 9.073584358142484e-02 = 9.458499903411808e-01 * 9.593048000000000e-02
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.073584358142484e-02 = 0.08346956521739131 * (9.593048000000000e-02 / 8.824820644897688e-02)
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08346956521739131
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,267 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.913068851346666e-02 = 8.522776100000000e-02 * 1.045794087133964
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     Tokens bought: 9.364851389516641e-01 = 0.08346956521739131 / 8.913068851346666e-02
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     Final value: 8.983746889249983e-02 = 9.364851389516641e-01 * 9.593048000000000e-02
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.983746889249983e-02 = 0.08346956521739131 * (9.593048000000000e-02 / 8.913068851346666e-02)
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 6 more bins processed)
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.841234782608696 = 5.7594 - 0.9181652173913046
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -   Total token value: 9.789123164085956e-01
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.841234782608696
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -   Final asset value: 5.820147099017292e+00
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7594
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -   PnL from assets: 6.074709901729136e-02
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7594
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -   initial_price: 8.522776100000000e-02
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -   final_price: 9.593048000000000e-02
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1255778501561247
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -   active_bin_index: 11
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 11 bins): 1.186834000410701
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG - 
Calculating token values for 11 activated bins:
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12429044747699146
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.565283975166177e-02 = 8.522776100000000e-02 * 1.004987562112089
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.451095466739386e+00 = 0.12429044747699146 / 8.565283975166177e-02
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     Final value: 1.392042846501333e-01 = 1.451095466739386e+00 * 9.593048000000000e-02
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.392042846501333e-01 = 0.12429044747699146 * (9.593048000000000e-02 / 8.565283975166177e-02)
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12068860492467381
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.650936814917840e-02 = 8.522776100000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.395092895795472e+00 = 0.12068860492467381 / 8.650936814917840e-02
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     Final value: 1.338319311382496e-01 = 1.395092895795472e+00 * 9.593048000000000e-02
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.338319311382495e-01 = 0.12068860492467381 * (9.593048000000000e-02 / 8.650936814917840e-02)
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11719428006048502
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.737446183067017e-02 = 8.522776100000000e-02 * 1.025187812110542
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.341287575397088e+00 = 0.11719428006048502 / 8.737446183067017e-02
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     Final value: 1.286703609258789e-01 = 1.341287575397088e+00 * 9.593048000000000e-02
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.286703609258789e-01 = 0.11719428006048502 * (9.593048000000000e-02 / 8.737446183067017e-02)
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11380747288442514
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.824820644897688e-02 = 8.522776100000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.289629301987299e+00 = 0.11380747288442514 / 8.824820644897688e-02
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     Final value: 1.237147579617066e-01 = 1.289629301987299e+00 * 9.593048000000000e-02
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.237147579617066e-01 = 0.11380747288442514 * (9.593048000000000e-02 / 8.824820644897688e-02)
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11052818339649415
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.913068851346666e-02 = 8.522776100000000e-02 * 1.045794087133964
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.240068771372663e+00 = 0.11052818339649415 / 8.913068851346666e-02
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     Final value: 1.189603924707898e-01 = 1.240068771372663e+00 * 9.593048000000000e-02
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.189603924707898e-01 = 0.11052818339649415 * (9.593048000000000e-02 / 8.913068851346666e-02)
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 6 more bins processed)
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.572565999589299 = 5.7594 - 1.186834000410701
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -   Total token value: 1.268996877418498e+00
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.572565999589299
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -   Final asset value: 5.841562877007798e+00
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7594
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -   PnL from assets: 8.216287700779734e-02
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     PnL: 6.650649901729136e-02
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759400000000000e-03
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     PnL from IL: 6.074709901729136e-02
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     PnL: 8.619445700779735e-02
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.031580000000000e-03
2025-07-15 17:58:17,268 - DEEP_DEBUG - DEBUG -     PnL from IL: 8.216287700779734e-02
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   position_id: pos_05-23-04-26-34_34678050
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7598 (from CSV: 5.7598)
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03893 (from CSV: 0.03893)
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   Total points: 12
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747974000, 'close': 0.022381293, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1747980600, 'close': 0.022190762, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   Valid prices: 12
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   Min price: 2.215209300000000e-02
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   Max price: 2.320487500000000e-02
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0475251706464035
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7598 (type: <class 'float'>)
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03893 (type: <class 'float'>)
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-23 04:26:34
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-23 06:15:49
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   price_history length: 12
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.022381293, 0.022381293, 0.022152093, 0.022687385, 0.023204875]
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.022774779, 0.022774779, 0.022774779, 0.023023288, 0.022190762]
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   Initial price: 2.238129300000000e-02
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   Final price: 2.219076200000000e-02
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9914870423259281
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7598
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   initial_price: 2.238129300000000e-02
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   final_price: 2.219076200000000e-02
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9914870423259281
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7598 = 5.7598 - 0
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7598
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759800000000000e+00
2025-07-15 17:58:17,269 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7598
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7598
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG -   initial_price: 2.238129300000000e-02
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG -   final_price: 2.219076200000000e-02
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9914870423259281
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7598 = 5.7598 - 0
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7598
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759800000000000e+00
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7598
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG -     PnL: 5.759800000000001e-03
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759800000000001e-03
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG -     PnL: 4.031860000000000e-03
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.031860000000000e-03
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG -   position_id: pos_05-23-08-05-18_34700567
2025-07-15 17:58:17,270 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7588 (from CSV: 5.7588)
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.18819 (from CSV: 0.18819)
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   Total points: 13
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1747987200, 'close': 0.022497323, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748008800, 'close': 0.02127655, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   Valid prices: 13
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   Min price: 1.821179100000000e-02
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   Max price: 2.392189100000000e-02
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   Price ratio: 1.3135386300007506
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7588 (type: <class 'float'>)
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.18819 (type: <class 'float'>)
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-23 08:05:18
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-23 14:08:48
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   price_history length: 13
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.022497323, 0.023921891, 0.022924992, 0.022575982, 0.021435445]
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.018211791, 0.019107716, 0.018960869, 0.021001097, 0.02127655]
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   Initial price: 2.249732300000000e-02
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   Final price: 2.127655000000000e-02
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9457369661270366
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7588
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   initial_price: 2.249732300000000e-02
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   final_price: 2.127655000000000e-02
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9457369661270366
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7588 = 5.7588 - 0
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7588
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   Final asset value: 5.758800000000000e+00
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7588
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7588
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   initial_price: 2.249732300000000e-02
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   final_price: 2.127655000000000e-02
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9457369661270366
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7588 = 5.7588 - 0
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7588
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   Final asset value: 5.758800000000000e+00
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7588
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -     PnL: 5.758800000000000e-03
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.758800000000000e-03
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -     PnL: 5.758800000000000e-03
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.758800000000000e-03
2025-07-15 17:58:17,271 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for gib-SOL
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -   position_id: pos_05-24-12-07-35_1887892
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (from CSV: 5.75)
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.0283 (from CSV: 0.0283)
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -   Total points: 20
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748088000, 'close': 0.011796479, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748122200, 'close': 0.013369007, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -   Valid prices: 20
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -   Min price: 9.028436000000001e-03
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -   Max price: 1.336900700000000e-02
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -   Price ratio: 1.480766657702397
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (type: <class 'float'>)
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.0283 (type: <class 'float'>)
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-24 12:07:35
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-24 21:39:57
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -   price_history length: 20
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.011796479, 0.010553737, 0.010762438, 0.011474723, 0.011752091]
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.009595214, 0.010220965, 0.010840136, 0.012220908, 0.013369007]
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -   Initial price: 1.179647900000000e-02
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -   Final price: 1.336900700000000e-02
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -   Price ratio: 1.13330486156081
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -   initial_price: 1.179647900000000e-02
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -   final_price: 1.336900700000000e-02
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -   price_ratio: 1.13330486156081
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -   active_bin_index: 12
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 12 bins): 1.3800000000000001
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG - 
Calculating token values for 12 activated bins:
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.115
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.185531467171645e-02 = 1.179647900000000e-02 * 1.004987562112089
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -     Tokens bought: 9.700290813398537e+00 = 0.115 / 1.185531467171645e-02
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -     Final value: 1.296832557863607e-01 = 9.700290813398537e+00 * 1.336900700000000e-02
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.296832557863607e-01 = 0.115 * (1.336900700000000e-02 / 1.185531467171645e-02)
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.115
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.197386781843362e-02 = 1.179647900000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -     Tokens bought: 9.604248330097560e+00 = 0.115 / 1.197386781843362e-02
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -     Final value: 1.283992631548126e-01 = 9.604248330097560e+00 * 1.336900700000000e-02
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.283992631548126e-01 = 0.115 * (1.336900700000000e-02 / 1.197386781843362e-02)
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.115
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.209360649661795e-02 = 1.179647900000000e-02 * 1.025187812110542
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -     Tokens bought: 9.509156762472832e+00 = 0.115 / 1.209360649661795e-02
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -     Final value: 1.271279833215966e-01 = 9.509156762472832e+00 * 1.336900700000000e-02
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.271279833215966e-01 = 0.115 * (1.336900700000000e-02 / 1.209360649661795e-02)
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.115
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.221454256158413e-02 = 1.179647900000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -     Tokens bought: 9.415006695517656e+00 = 0.115 / 1.221454256158413e-02
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -     Final value: 1.258692904174224e-01 = 9.415006695517656e+00 * 1.336900700000000e-02
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.258692904174224e-01 = 0.115 * (1.336900700000000e-02 / 1.221454256158413e-02)
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.115
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.233668798719998e-02 = 1.179647900000000e-02 * 1.045794087133964
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -     Tokens bought: 9.321788807443225e+00 = 0.115 / 1.233668798719998e-02
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -     Final value: 1.246230598192301e-01 = 9.321788807443225e+00 * 1.336900700000000e-02
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.246230598192301e-01 = 0.115 * (1.336900700000000e-02 / 1.233668798719998e-02)
2025-07-15 17:58:17,272 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 7 more bins processed)
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.37 = 5.75 - 1.3800000000000001
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -   Total token value: 1.474191041798106e+00
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.37
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -   Final asset value: 5.844191041798107e+00
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -   PnL from assets: 9.419104179810667e-02
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -   initial_price: 1.179647900000000e-02
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -   final_price: 1.336900700000000e-02
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -   price_ratio: 1.13330486156081
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -   active_bin_index: 12
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 12 bins): 1.6610636982065548
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG - 
Calculating token values for 12 activated bins:
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.17075757575757572
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.185531467171645e-02 = 1.179647900000000e-02 * 1.004987562112089
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.440346211686449e+01 = 0.17075757575757572 / 1.185531467171645e-02
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     Final value: 1.925599858645962e-01 = 1.440346211686449e+01 * 1.336900700000000e-02
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.925599858645962e-01 = 0.17075757575757572 * (1.336900700000000e-02 / 1.185531467171645e-02)
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16393011750154604
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.197386781843362e-02 = 1.179647900000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.369065701971235e+01 = 0.16393011750154604 / 1.197386781843362e-02
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     Final value: 1.830304895311336e-01 = 1.369065701971235e+01 * 1.336900700000000e-02
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.830304895311336e-01 = 0.16393011750154604 * (1.336900700000000e-02 / 1.197386781843362e-02)
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1573871366728509
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.209360649661795e-02 = 1.179647900000000e-02 * 1.025187812110542
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.301407786972936e+01 = 0.1573871366728509 / 1.209360649661795e-02
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     Final value: 1.739852981389569e-01 = 1.301407786972936e+01 * 1.336900700000000e-02
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.739852981389569e-01 = 0.1573871366728509 * (1.336900700000000e-02 / 1.209360649661795e-02)
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1511286332714904
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.221454256158413e-02 = 1.179647900000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.237284429683056e+01 = 0.1511286332714904 / 1.221454256158413e-02
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     Final value: 1.654126420142379e-01 = 1.237284429683056e+01 * 1.336900700000000e-02
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.654126420142379e-01 = 0.1511286332714904 * (1.336900700000000e-02 / 1.221454256158413e-02)
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1451546072974644
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.233668798719998e-02 = 1.179647900000000e-02 * 1.045794087133964
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.176609211873322e+01 = 0.1451546072974644 / 1.233668798719998e-02
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     Final value: 1.573009678979893e-01 = 1.176609211873322e+01 * 1.336900700000000e-02
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.573009678979893e-01 = 0.1451546072974644 * (1.336900700000000e-02 / 1.233668798719998e-02)
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 7 more bins processed)
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.088936301793446 = 5.75 - 1.6610636982065548
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -   Total token value: 1.782662434924743e+00
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.088936301793446
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -   Final asset value: 5.871598736718188e+00
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.215987367181883e-01
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     PnL: 9.994104179810667e-02
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     PnL from IL: 9.419104179810667e-02
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     PnL: 1.256237367181883e-01
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.025000000000000e-03
2025-07-15 17:58:17,273 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.215987367181883e-01
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for TROLL-SOL
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -   position_id: pos_05-24-12-38-39_25693422
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7582 (from CSV: 5.7582)
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.05199 (from CSV: 0.05199)
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -   Total points: 13
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748089800, 'close': 0.023233992, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748111400, 'close': 0.02494686, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -   Valid prices: 13
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -   Min price: 2.266995500000000e-02
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -   Max price: 2.501752700000000e-02
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1035543299490451
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7582 (type: <class 'float'>)
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.05199 (type: <class 'float'>)
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-24 12:38:39
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-24 18:38:41
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -   price_history length: 13
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.023233992, 0.023127123, 0.024048472, 0.024060009, 0.023831775]
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.022669955, 0.023714125, 0.023508515, 0.025017527, 0.02494686]
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -   Initial price: 2.323399200000000e-02
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -   Final price: 2.494686000000000e-02
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -   Price ratio: 1.073722501066541
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7582
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -   initial_price: 2.323399200000000e-02
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -   final_price: 2.494686000000000e-02
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -   price_ratio: 1.073722501066541
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -   active_bin_index: 7
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 7 bins): 0.5841652173913043
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG - 
Calculating token values for 7 activated bins:
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08345217391304348
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.334987297821178e-02 = 2.323399200000000e-02 * 1.004987562112089
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.573988346356930e+00 = 0.08345217391304348 / 2.334987297821178e-02
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -     Final value: 8.915978691819786e-02 = 3.573988346356930e+00 * 2.494686000000000e-02
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.915978691819787e-02 = 0.08345217391304348 * (2.494686000000000e-02 / 2.334987297821178e-02)
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08345217391304348
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.358337170799389e-02 = 2.323399200000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.538602323125673e+00 = 0.08345217391304348 / 2.358337170799389e-02
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -     Final value: 8.827701675069094e-02 = 3.538602323125673e+00 * 2.494686000000000e-02
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.827701675069094e-02 = 0.08345217391304348 * (2.494686000000000e-02 / 2.358337170799389e-02)
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08345217391304348
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.381920542507383e-02 = 2.323399200000000e-02 * 1.025187812110542
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.503566656560073e+00 = 0.08345217391304348 / 2.381920542507383e-02
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -     Final value: 8.740298688187222e-02 = 3.503566656560073e+00 * 2.494686000000000e-02
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.740298688187222e-02 = 0.08345217391304348 * (2.494686000000000e-02 / 2.381920542507383e-02)
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08345217391304348
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.405739747932457e-02 = 2.323399200000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.468877877782250e+00 = 0.08345217391304348 / 2.405739747932457e-02
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -     Final value: 8.653761077413091e-02 = 3.468877877782250e+00 * 2.494686000000000e-02
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.653761077413091e-02 = 0.08345217391304348 * (2.494686000000000e-02 / 2.405739747932457e-02)
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08345217391304348
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.429797145411782e-02 = 2.323399200000000e-02 * 1.045794087133964
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.434532552259654e+00 = 0.08345217391304348 / 2.429797145411782e-02
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -     Final value: 8.568080274666427e-02 = 3.434532552259654e+00 * 2.494686000000000e-02
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.568080274666427e-02 = 0.08345217391304348 * (2.494686000000000e-02 / 2.429797145411782e-02)
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 2 more bins processed)
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.174034782608696 = 5.7582 - 0.5841652173913043
2025-07-15 17:58:17,274 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -   Total token value: 6.058832344811191e-01
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.174034782608696
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -   Final asset value: 5.779918017089815e+00
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7582
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.171801708981480e-02
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7582
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -   initial_price: 2.323399200000000e-02
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -   final_price: 2.494686000000000e-02
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -   price_ratio: 1.073722501066541
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -   active_bin_index: 7
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 7 bins): 0.7979912576773016
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG - 
Calculating token values for 7 activated bins:
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12426455093621076
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.334987297821178e-02 = 2.323399200000000e-02 * 1.004987562112089
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.321851260268716e+00 = 0.12426455093621076 / 2.334987297821178e-02
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     Final value: 1.327634783307472e-01 = 5.321851260268716e+00 * 2.494686000000000e-02
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.327634783307472e-01 = 0.12426455093621076 * (2.494686000000000e-02 / 2.334987297821178e-02)
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12066345884593133
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.358337170799389e-02 = 2.323399200000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.116463427705329e+00 = 0.12066345884593133 / 2.358337170799389e-02
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     Final value: 1.276396968260850e-01 = 5.116463427705329e+00 * 2.494686000000000e-02
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.276396968260850e-01 = 0.12066345884593133 * (2.494686000000000e-02 / 2.358337170799389e-02)
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11716986204192881
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.381920542507383e-02 = 2.323399200000000e-02 * 1.025187812110542
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.919133948884259e+00 = 0.11716986204192881 / 2.381920542507383e-02
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     Final value: 1.227169459440628e-01 = 4.919133948884259e+00 * 2.494686000000000e-02
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.227169459440628e-01 = 0.11716986204192881 * (2.494686000000000e-02 / 2.381920542507383e-02)
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11378376052420336
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.405739747932457e-02 = 2.323399200000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.729678703691515e+00 = 0.11378376052420336 / 2.405739747932457e-02
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     Final value: 1.179906324659737e-01 = 4.729678703691515e+00 * 2.494686000000000e-02
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.179906324659737e-01 = 0.11378376052420336 * (2.494686000000000e-02 / 2.405739747932457e-02)
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1105051542927549
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.429797145411782e-02 = 2.323399200000000e-02 * 1.045794087133964
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.547916870403081e+00 = 0.1105051542927549 / 2.429797145411782e-02
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     Final value: 1.134562454575838e-01 = 4.547916870403081e+00 * 2.494686000000000e-02
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.134562454575838e-01 = 0.1105051542927549 * (2.494686000000000e-02 / 2.429797145411782e-02)
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 2 more bins processed)
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.960208742322699 = 5.7582 - 0.7979912576773016
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -   Total token value: 8.286219648286631e-01
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.960208742322699
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -   Final asset value: 5.788830707151362e+00
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7582
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -   PnL from assets: 3.063070715136185e-02
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     PnL: 2.747621708981480e-02
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.758200000000001e-03
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.171801708981480e-02
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     PnL: 3.466144715136184e-02
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.030740000000001e-03
2025-07-15 17:58:17,275 - DEEP_DEBUG - DEBUG -     PnL from IL: 3.063070715136185e-02
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   position_id: pos_05-24-21-18-38_25762223
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (from CSV: 5.76)
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.18824 (from CSV: 0.18824)
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   Total points: 14
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748120400, 'close': 0.085767537, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748167200, 'close': 0.065090629, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   Valid prices: 14
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   Min price: 6.368407700000001e-02
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   Max price: 8.576753700000000e-02
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   Price ratio: 1.346765801442015
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (type: <class 'float'>)
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.18824 (type: <class 'float'>)
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-24 21:18:38
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-25 10:45:56
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   price_history length: 14
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.085767537, 0.081847177, 0.077604024, 0.067949081, 0.071074299]
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.07425474, 0.067036258, 0.063684077, 0.068638101, 0.065090629]
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   Initial price: 8.576753700000000e-02
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   Final price: 6.509062900000000e-02
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   Price ratio: 0.7589191817412221
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   initial_price: 8.576753700000000e-02
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   final_price: 6.509062900000000e-02
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   price_ratio: 0.7589191817412221
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.76 = 5.76 - 0
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.76
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   Final asset value: 5.760000000000000e+00
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   initial_price: 8.576753700000000e-02
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   final_price: 6.509062900000000e-02
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   price_ratio: 0.7589191817412221
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.76 = 5.76 - 0
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.76
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   Final asset value: 5.760000000000000e+00
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -     PnL: 5.759999999999999e-03
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759999999999999e-03
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -     PnL: 5.759999999999999e-03
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759999999999999e-03
2025-07-15 17:58:17,276 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for gib-SOL
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   position_id: pos_05-24-21-59-39_1927887
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (from CSV: 5.75)
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03203 (from CSV: 0.03203)
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   Total points: 19
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748120400, 'close': 0.013369007, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748185200, 'close': 0.013463183, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   Valid prices: 19
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   Min price: 1.029272100000000e-02
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   Max price: 1.346318300000000e-02
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   Price ratio: 1.3080295288291601
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (type: <class 'float'>)
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03203 (type: <class 'float'>)
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-24 21:59:39
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-25 15:59:32
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   price_history length: 19
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.013369007, 0.012429507, 0.012083233, 0.011269764, 0.010292721]
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.011595153, 0.012358703, 0.012594797, 0.013271632, 0.013463183]
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   Initial price: 1.336900700000000e-02
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   Final price: 1.346318300000000e-02
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0070443526583537
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   initial_price: 1.336900700000000e-02
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   final_price: 1.346318300000000e-02
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0070443526583537
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.75 = 5.75 - 0
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.75
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   Final asset value: 5.750000000000000e+00
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:17,277 - DEEP_DEBUG - DEBUG -   initial_price: 1.336900700000000e-02
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   final_price: 1.346318300000000e-02
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0070443526583537
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.75 = 5.75 - 0
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.75
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   Final asset value: 5.750000000000000e+00
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -     PnL: 5.750000000000000e-03
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -     PnL: 4.025000000000000e-03
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.025000000000000e-03
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   position_id: pos_05-25-03-18-34_10358245
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7598 (from CSV: 5.7598)
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.17525 (from CSV: 0.17525)
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   Total points: 16
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748142000, 'close': 0.024465515, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748196000, 'close': 0.022646604, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   Valid prices: 16
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   Min price: 2.005010100000000e-02
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   Max price: 2.600317000000000e-02
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2969096764150962
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7598 (type: <class 'float'>)
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.17525 (type: <class 'float'>)
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-25 03:18:34
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-25 18:06:59
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   price_history length: 16
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.024465515, 0.024396765, 0.02600317, 0.024731135, 0.02367413]
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.020660078, 0.020050101, 0.021424563, 0.021780821, 0.022646604]
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   Initial price: 2.446551500000000e-02
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   Final price: 2.264660400000000e-02
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9256540890310301
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7598
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   initial_price: 2.446551500000000e-02
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   final_price: 2.264660400000000e-02
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9256540890310301
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,278 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7598 = 5.7598 - 0
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7598
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759800000000000e+00
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7598
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7598
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   initial_price: 2.446551500000000e-02
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   final_price: 2.264660400000000e-02
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9256540890310301
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7598 = 5.7598 - 0
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7598
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759800000000000e+00
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7598
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -     PnL: 5.759800000000001e-03
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759800000000001e-03
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -     PnL: 5.759800000000001e-03
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759800000000001e-03
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   position_id: pos_05-25-13-25-21_25827983
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7601 (from CSV: 5.7601)
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.21147 (from CSV: 0.21147)
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   Total points: 13
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748178000, 'close': 0.061810247, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748221200, 'close': 0.063125634, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   Valid prices: 13
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   Min price: 4.814436000000000e-02
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   Max price: 6.312563400000000e-02
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   Price ratio: 1.3111740191374441
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7601 (type: <class 'float'>)
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.21147 (type: <class 'float'>)
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-25 13:25:21
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-26 01:26:39
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   price_history length: 13
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.061810247, 0.05953997, 0.057990879, 0.058132018, 0.056500636]
2025-07-15 17:58:17,279 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.04814436, 0.055298902, 0.053214578, 0.049515004, 0.063125634]
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -   Initial price: 6.181024700000000e-02
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -   Final price: 6.312563400000000e-02
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0212810506969823
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7601
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -   initial_price: 6.181024700000000e-02
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -   final_price: 6.312563400000000e-02
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0212810506969823
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -   active_bin_index: 2
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 2 bins): 0.16695942028985508
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG - 
Calculating token values for 2 activated bins:
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347971014492754
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.211852944607606e-02 = 6.181024700000000e-02 * 1.004987562112089
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.343877759009004e+00 = 0.08347971014492754 / 6.211852944607606e-02
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -     Final value: 8.483313555594260e-02 = 1.343877759009004e+00 * 6.312563400000000e-02
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.483313555594262e-02 = 0.08347971014492754 * (6.312563400000000e-02 / 6.211852944607606e-02)
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347971014492754
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.273971474053681e-02 = 6.181024700000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.330572038622777e+00 = 0.08347971014492754 / 6.273971474053681e-02
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -     Final value: 8.399320352073526e-02 = 1.330572038622777e+00 * 6.312563400000000e-02
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.399320352073526e-02 = 0.08347971014492754 * (6.312563400000000e-02 / 6.273971474053681e-02)
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.593140579710146 = 5.7601 - 0.16695942028985508
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -   Total token value: 1.688263390766779e-01
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.593140579710146
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -   Final asset value: 5.761966918786824e+00
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7601
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.866918786823213e-03
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7601
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -   initial_price: 6.181024700000000e-02
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -   final_price: 6.312563400000000e-02
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0212810506969823
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -   active_bin_index: 2
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 2 bins): 0.24500882726305384
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG - 
Calculating token values for 2 activated bins:
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12430555379244687
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.211852944607606e-02 = 6.181024700000000e-02 * 1.004987562112089
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.001102648451365e+00 = 0.12430555379244687 / 6.211852944607606e-02
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -     Final value: 1.263208733825715e-01 = 2.001102648451365e+00 * 6.312563400000000e-02
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.263208733825715e-01 = 0.12430555379244687 * (6.312563400000000e-02 / 6.211852944607606e-02)
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12070327347060697
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.273971474053681e-02 = 6.181024700000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.923873482207902e+00 = 0.12070327347060697 / 6.273971474053681e-02
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -     Final value: 1.214457333001615e-01 = 1.923873482207902e+00 * 6.312563400000000e-02
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.214457333001615e-01 = 0.12070327347060697 * (6.312563400000000e-02 / 6.273971474053681e-02)
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.5150911727369465 = 5.7601 - 0.24500882726305384
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -   Total token value: 2.477666066827330e-01
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.5150911727369465
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -   Final asset value: 5.762857779419679e+00
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7601
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.757779419678918e-03
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -     PnL: 7.627018786823214e-03
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.760100000000001e-03
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.866918786823213e-03
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -     PnL: 8.517879419678919e-03
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.760100000000001e-03
2025-07-15 17:58:17,280 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.757779419678918e-03
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for gib-SOL
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   position_id: pos_05-25-18-06-27_2001016
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (from CSV: 5.75)
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.17288 (from CSV: 0.17288)
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   Total points: 72
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748196000, 'close': 0.014282036, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748451600, 'close': 0.007410373, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   Valid prices: 72
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   Min price: 6.319302000000000e-03
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   Max price: 1.428203600000000e-02
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   Price ratio: 2.260065431277062
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   investment_sol: 5.75 (type: <class 'float'>)
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.17288 (type: <class 'float'>)
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-25 18:06:27
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-28 17:23:50
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   price_history length: 72
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.014282036, 0.012468179, 0.011831244, 0.012188592, 0.011651993]
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.006672471, 0.006319302, 0.006585093, 0.006587813, 0.007410373]
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   Initial price: 1.428203600000000e-02
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   Final price: 7.410373000000000e-03
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   Price ratio: 0.5188597059971001
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   initial_price: 1.428203600000000e-02
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   final_price: 7.410373000000000e-03
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   price_ratio: 0.5188597059971001
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.75 = 5.75 - 0
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.75
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   Final asset value: 5.750000000000000e+00
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   initial_sol: 5.75
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   initial_price: 1.428203600000000e-02
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   final_price: 7.410373000000000e-03
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   price_ratio: 0.5188597059971001
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.75 = 5.75 - 0
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.75
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   Final asset value: 5.750000000000000e+00
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.75
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -     PnL: 5.750000000000000e-03
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -     PnL: 5.750000000000000e-03
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.750000000000000e-03
2025-07-15 17:58:17,281 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -   position_id: pos_05-25-20-40-40_10433518
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (from CSV: 5.76)
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.04225 (from CSV: 0.04225)
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -   Total points: 29
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748203200, 'close': 0.022245922, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748304000, 'close': 0.03840906, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -   Valid prices: 29
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -   Min price: 2.224592200000000e-02
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -   Max price: 4.300789500000000e-02
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -   Price ratio: 1.933293436882499
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (type: <class 'float'>)
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.04225 (type: <class 'float'>)
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-25 20:40:40
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-27 00:10:54
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -   price_history length: 29
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.022245922, 0.024101863, 0.023980178, 0.024996927, 0.032763813]
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.043007895, 0.041523115, 0.041247178, 0.040497591, 0.03840906]
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -   Initial price: 2.224592200000000e-02
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -   Final price: 3.840906000000000e-02
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -   Price ratio: 1.7265663342701643
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -   initial_price: 2.224592200000000e-02
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -   final_price: 3.840906000000000e-02
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -   price_ratio: 1.7265663342701643
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -   active_bin_index: 54
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 54 bins): 4.507826086956518
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG - 
Calculating token values for 54 activated bins:
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.235687491771569e-02 = 2.224592200000000e-02 * 1.004987562112089
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.733896672804510e+00 = 0.08347826086956521 / 2.235687491771569e-02
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -     Final value: 1.434154613395488e-01 = 3.733896672804510e+00 * 3.840906000000000e-02
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.434154613395488e-01 = 0.08347826086956521 * (3.840906000000000e-02 / 2.235687491771569e-02)
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.258044366689285e-02 = 2.224592200000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.696927398816346e+00 = 0.08347826086956521 / 2.258044366689285e-02
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -     Final value: 1.419955062767810e-01 = 3.696927398816346e+00 * 3.840906000000000e-02
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.419955062767810e-01 = 0.08347826086956521 * (3.840906000000000e-02 / 2.258044366689285e-02)
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.280624810356177e-02 = 2.224592200000000e-02 * 1.025187812110542
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.660324157243907e+00 = 0.08347826086956521 / 2.280624810356177e-02
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -     Final value: 1.405896101750307e-01 = 3.660324157243907e+00 * 3.840906000000000e-02
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.405896101750307e-01 = 0.08347826086956521 * (3.840906000000000e-02 / 2.280624810356177e-02)
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.303431058459739e-02 = 2.224592200000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.624083324003869e+00 = 0.08347826086956521 / 2.303431058459739e-02
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -     Final value: 1.391976338366640e-01 = 3.624083324003869e+00 * 3.840906000000000e-02
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.391976338366640e-01 = 0.08347826086956521 * (3.840906000000000e-02 / 2.303431058459739e-02)
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.326465369044337e-02 = 2.224592200000000e-02 * 1.045794087133964
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.588201310894919e+00 = 0.08347826086956521 / 2.326465369044337e-02
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -     Final value: 1.378194394422416e-01 = 3.588201310894919e+00 * 3.840906000000000e-02
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.378194394422416e-01 = 0.08347826086956521 * (3.840906000000000e-02 / 2.326465369044337e-02)
2025-07-15 17:58:17,282 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 49 more bins processed)
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 1.2521739130434817 = 5.76 - 4.507826086956518
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -   Total token value: 6.021205027541628e+00
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -   Remaining SOL: 1.2521739130434817
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -   Final asset value: 7.273378940585109e+00
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.513378940585110e+00
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -   initial_price: 2.224592200000000e-02
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -   final_price: 3.840906000000000e-02
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -   price_ratio: 1.7265663342701643
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -   active_bin_index: 54
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 54 bins): 4.224756286519686
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG - 
Calculating token values for 54 activated bins:
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1243033957473818
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.235687491771569e-02 = 2.224592200000000e-02 * 1.004987562112089
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.559962928847593e+00 = 0.1243033957473818 / 2.235687491771569e-02
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     Final value: 2.135529497318829e-01 = 5.559962928847593e+00 * 3.840906000000000e-02
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.135529497318829e-01 = 0.1243033957473818 * (3.840906000000000e-02 / 2.235687491771569e-02)
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12070117796404507
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.258044366689285e-02 = 2.224592200000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.345385579868636e+00 = 0.12070117796404507 / 2.258044366689285e-02
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     Final value: 2.053112354603092e-01 = 5.345385579868636e+00 * 3.840906000000000e-02
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.053112354603092e-01 = 0.12070117796404507 * (3.840906000000000e-02 / 2.258044366689285e-02)
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1172064890697631
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.280624810356177e-02 = 2.224592200000000e-02 * 1.025187812110542
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.139227133614245e+00 = 0.1172064890697631 / 2.280624810356177e-02
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     Final value: 1.973928833286176e-01 = 5.139227133614245e+00 * 3.840906000000000e-02
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.973928833286176e-01 = 0.1172064890697631 * (3.840906000000000e-02 / 2.280624810356177e-02)
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11381932906453603
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.303431058459739e-02 = 2.224592200000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.941295232019876e+00 = 0.11381932906453603 / 2.303431058459739e-02
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     Final value: 1.897905050443653e-01 = 4.941295232019876e+00 * 3.840906000000000e-02
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.897905050443653e-01 = 0.11381932906453603 * (3.840906000000000e-02 / 2.303431058459739e-02)
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11053969794836377
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.326465369044337e-02 = 2.224592200000000e-02 * 1.045794087133964
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.751400962988380e+00 = 0.11053969794836377 / 2.326465369044337e-02
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     Final value: 1.824968446714785e-01 = 4.751400962988380e+00 * 3.840906000000000e-02
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.824968446714785e-01 = 0.11053969794836377 * (3.840906000000000e-02 / 2.326465369044337e-02)
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 49 more bins processed)
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 1.5352437134803134 = 5.76 - 4.224756286519686
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -   Total token value: 5.792023565996683e+00
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -   Remaining SOL: 1.5352437134803134
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -   Final asset value: 7.327267279476996e+00
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.567267279476996e+00
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     PnL: 1.519138940585110e+00
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759999999999999e-03
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.513378940585110e+00
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     PnL: 1.571299279476996e+00
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.031999999999999e-03
2025-07-15 17:58:17,283 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.567267279476996e+00
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   position_id: pos_05-26-01-08-47_10453498
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7595 (from CSV: 5.7595)
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.11115 (from CSV: 0.11115)
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   Total points: 15
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748221200, 'close': 0.030350359, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748246400, 'close': 0.032490343, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   Valid prices: 15
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   Min price: 2.591502200000000e-02
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   Max price: 3.249034300000000e-02
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2537262364662471
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7595 (type: <class 'float'>)
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.11115 (type: <class 'float'>)
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-26 01:08:47
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-26 08:26:38
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   price_history length: 15
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.030350359, 0.029119163, 0.028482774, 0.028109198, 0.027802786]
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.027010905, 0.026682924, 0.027895191, 0.028386809, 0.032490343]
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   Initial price: 3.035035900000000e-02
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   Final price: 3.249034300000000e-02
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   Price ratio: 1.070509347187623
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7595
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   initial_price: 3.035035900000000e-02
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   final_price: 3.249034300000000e-02
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   price_ratio: 1.070509347187623
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   active_bin_index: 6
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 6 bins): 0.5008260869565218
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG - 
Calculating token values for 6 activated bins:
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347101449275363
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.050173330063670e-02 = 3.035035900000000e-02 * 1.004987562112089
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.736599053897414e+00 = 0.08347101449275363 / 3.050173330063670e-02
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     Final value: 8.891304191460245e-02 = 2.736599053897414e+00 * 3.249034300000000e-02
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.891304191460245e-02 = 0.08347101449275363 * (3.249034300000000e-02 / 3.050173330063670e-02)
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347101449275363
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.080675063364307e-02 = 3.035035900000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.709504013759815e+00 = 0.08347101449275363 / 3.080675063364307e-02
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     Final value: 8.803271476693311e-02 = 2.709504013759815e+00 * 3.249034300000000e-02
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.803271476693311e-02 = 0.08347101449275363 * (3.249034300000000e-02 / 3.080675063364307e-02)
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347101449275363
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.111481813997950e-02 = 3.035035900000000e-02 * 1.025187812110542
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.682677241346352e+00 = 0.08347101449275363 / 3.111481813997950e-02
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     Final value: 8.716110372963674e-02 = 2.682677241346352e+00 * 3.249034300000000e-02
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.716110372963673e-02 = 0.08347101449275363 * (3.249034300000000e-02 / 3.111481813997950e-02)
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347101449275363
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.142596632137929e-02 = 3.035035900000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.656116080540943e+00 = 0.08347101449275363 / 3.142596632137929e-02
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     Final value: 8.629812250459085e-02 = 2.656116080540943e+00 * 3.249034300000000e-02
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.629812250459083e-02 = 0.08347101449275363 * (3.249034300000000e-02 / 3.142596632137929e-02)
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347101449275363
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.174022598459308e-02 = 3.035035900000000e-02 * 1.045794087133964
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.629817901525686e+00 = 0.08347101449275363 / 3.174022598459308e-02
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     Final value: 8.544368564810975e-02 = 2.629817901525686e+00 * 3.249034300000000e-02
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.544368564810974e-02 = 0.08347101449275363 * (3.249034300000000e-02 / 3.174022598459308e-02)
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 1 more bins processed)
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.258673913043478 = 5.7595 - 0.5008260869565218
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   Total token value: 5.204463771263579e-01
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.258673913043478
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   Final asset value: 5.779120290169836e+00
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7595
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.962029016983546e-02
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7595
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   initial_price: 3.035035900000000e-02
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   final_price: 3.249034300000000e-02
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   price_ratio: 1.070509347187623
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   active_bin_index: 6
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 6 bins): 0.6938774478690239
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG - 
Calculating token values for 6 activated bins:
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12429260552205651
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.050173330063670e-02 = 3.035035900000000e-02 * 1.004987562112089
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.074935817482281e+00 = 0.12429260552205651 / 3.050173330063670e-02
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     Final value: 1.323960624129847e-01 = 4.074935817482281e+00 * 3.249034300000000e-02
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.323960624129847e-01 = 0.12429260552205651 * (3.249034300000000e-02 / 3.050173330063670e-02)
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1206907004312357
2025-07-15 17:58:17,284 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.080675063364307e-02 = 3.035035900000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.917670573781100e+00 = 0.1206907004312357 / 3.080675063364307e-02
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -     Final value: 1.272864607031547e-01 = 3.917670573781100e+00 * 3.249034300000000e-02
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.272864607031547e-01 = 0.1206907004312357 * (3.249034300000000e-02 / 3.080675063364307e-02)
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1171963148953647
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.111481813997950e-02 = 3.035035900000000e-02 * 1.025187812110542
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.766575602920812e+00 = 0.1171963148953647 / 3.111481813997950e-02
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -     Final value: 1.223773332743290e-01 = 3.766575602920812e+00 * 3.249034300000000e-02
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.223773332743290e-01 = 0.1171963148953647 * (3.249034300000000e-02 / 3.111481813997950e-02)
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11380944891444361
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.142596632137929e-02 = 3.035035900000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.621509924327078e+00 = 0.11380944891444361 / 3.142596632137929e-02
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -     Final value: 1.176640996192908e-01 = 3.621509924327078e+00 * 3.249034300000000e-02
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.176640996192908e-01 = 0.11380944891444361 * (3.249034300000000e-02 / 3.142596632137929e-02)
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1105301024884724
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.174022598459308e-02 = 3.035035900000000e-02 * 1.045794087133964
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.482335082999234e+00 = 0.1105301024884724 / 3.174022598459308e-02
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -     Final value: 1.131422612875786e-01 = 3.482335082999234e+00 * 3.249034300000000e-02
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.131422612875786e-01 = 0.1105301024884724 * (3.249034300000000e-02 / 3.174022598459308e-02)
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 1 more bins processed)
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.065622552130976 = 5.7595 - 0.6938774478690239
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -   Total token value: 7.216736178979920e-01
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.065622552130976
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -   Final asset value: 5.787296170028968e+00
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7595
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.779617002896817e-02
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -     PnL: 2.537979016983546e-02
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759500000000000e-03
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.962029016983546e-02
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -     PnL: 3.182782002896817e-02
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.031649999999999e-03
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.779617002896817e-02
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -   position_id: pos_05-26-03-09-37_25876646
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (from CSV: 5.76)
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.0101 (from CSV: 0.0101)
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -   Total points: 5
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748228400, 'close': 0.056697436, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748230800, 'close': 0.06140153, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -   Valid prices: 5
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -   Min price: 5.499855400000000e-02
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -   Max price: 6.140153000000000e-02
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1164208062633794
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (type: <class 'float'>)
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.0101 (type: <class 'float'>)
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-26 03:09:37
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-26 03:49:58
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,285 - DEEP_DEBUG - DEBUG -   price_history length: 5
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.056697436, 0.054998554, 0.054998554, 0.059438598, 0.06140153]
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.056697436, 0.054998554, 0.054998554, 0.059438598, 0.06140153]
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -   Initial price: 5.669743600000000e-02
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -   Final price: 6.140153000000000e-02
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0829683726791457
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -   initial_price: 5.669743600000000e-02
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -   final_price: 6.140153000000000e-02
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0829683726791457
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -   active_bin_index: 8
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 8 bins): 0.6678260869565217
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG - 
Calculating token values for 8 activated bins:
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.698021798364619e-02 = 5.669743600000000e-02 * 1.004987562112089
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.465039338626682e+00 = 0.08347826086956521 / 5.698021798364619e-02
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Final value: 8.995565690186641e-02 = 1.465039338626682e+00 * 6.140153000000000e-02
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.995565690186641e-02 = 0.08347826086956521 * (6.140153000000000e-02 / 5.698021798364619e-02)
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.755002016348265e-02 = 5.669743600000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.450533998640280e+00 = 0.08347826086956521 / 5.755002016348265e-02
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Final value: 8.906500683353109e-02 = 1.450533998640280e+00 * 6.140153000000000e-02
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.906500683353109e-02 = 0.08347826086956521 * (6.140153000000000e-02 / 5.755002016348265e-02)
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.812552036511748e-02 = 5.669743600000000e-02 * 1.025187812110542
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.436172275881465e+00 = 0.08347826086956521 / 5.812552036511748e-02
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Final value: 8.818317508270405e-02 = 1.436172275881465e+00 * 6.140153000000000e-02
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.818317508270405e-02 = 0.08347826086956521 * (6.140153000000000e-02 / 5.812552036511748e-02)
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.870677556876865e-02 = 5.669743600000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.421952748397490e+00 = 0.08347826086956521 / 5.870677556876865e-02
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Final value: 8.731007433931094e-02 = 1.421952748397490e+00 * 6.140153000000000e-02
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.731007433931096e-02 = 0.08347826086956521 * (6.140153000000000e-02 / 5.870677556876865e-02)
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.929384332445634e-02 = 5.669743600000000e-02 * 1.045794087133964
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.407874008314347e+00 = 0.08347826086956521 / 5.929384332445634e-02
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Final value: 8.644561815773361e-02 = 1.407874008314347e+00 * 6.140153000000000e-02
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.644561815773361e-02 = 0.08347826086956521 * (6.140153000000000e-02 / 5.929384332445634e-02)
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 3 more bins processed)
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.092173913043478 = 5.76 - 0.6678260869565217
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -   Total token value: 6.951948155473739e-01
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.092173913043478
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -   Final asset value: 5.787368728590852e+00
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.736872859085260e-02
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -   initial_price: 5.669743600000000e-02
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -   final_price: 6.140153000000000e-02
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0829683726791457
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -   active_bin_index: 8
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 8 bins): 0.8995866858326956
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG - 
Calculating token values for 8 activated bins:
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1243033957473818
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.698021798364619e-02 = 5.669743600000000e-02 * 1.004987562112089
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.181518431239732e+00 = 0.1243033957473818 / 5.698021798364619e-02
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Final value: 1.339485694013194e-01 = 2.181518431239732e+00 * 6.140153000000000e-02
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.339485694013194e-01 = 0.1243033957473818 * (6.140153000000000e-02 / 5.698021798364619e-02)
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12070117796404507
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.755002016348265e-02 = 5.669743600000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.097326423538490e+00 = 0.12070117796404507 / 5.755002016348265e-02
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Final value: 1.287790513146913e-01 = 2.097326423538490e+00 * 6.140153000000000e-02
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.287790513146913e-01 = 0.12070117796404507 * (6.140153000000000e-02 / 5.755002016348265e-02)
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1172064890697631
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.812552036511748e-02 = 5.669743600000000e-02 * 1.025187812110542
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.016437673736535e+00 = 0.1172064890697631 / 5.812552036511748e-02
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Final value: 1.238123583170641e-01 = 2.016437673736535e+00 * 6.140153000000000e-02
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.238123583170641e-01 = 0.1172064890697631 * (6.140153000000000e-02 / 5.812552036511748e-02)
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11381932906453603
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.870677556876865e-02 = 5.669743600000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.938776707830069e+00 = 0.11381932906453603 / 5.870677556876865e-02
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Final value: 1.190438561891292e-01 = 1.938776707830069e+00 * 6.140153000000000e-02
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.190438561891292e-01 = 0.11381932906453603 * (6.140153000000000e-02 / 5.870677556876865e-02)
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11053969794836377
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.929384332445634e-02 = 5.669743600000000e-02 * 1.045794087133964
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.864269403882115e+00 = 0.11053969794836377 / 5.929384332445634e-02
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Final value: 1.144689937305498e-01 = 1.864269403882115e+00 * 6.140153000000000e-02
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.144689937305498e-01 = 0.11053969794836377 * (6.140153000000000e-02 / 5.929384332445634e-02)
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 3 more bins processed)
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.860413314167304 = 5.76 - 0.8995866858326956
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -   Total token value: 9.378804712319886e-01
2025-07-15 17:58:17,286 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.860413314167304
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   Final asset value: 5.798293785399292e+00
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   PnL from assets: 3.829378539929262e-02
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -     PnL: 3.312872859085260e-02
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759999999999999e-03
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.736872859085260e-02
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -     PnL: 4.232578539929262e-02
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.031999999999999e-03
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -     PnL from IL: 3.829378539929262e-02
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   position_id: pos_05-26-06-16-47_25913095
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7586 (from CSV: 5.7586)
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.16105 (from CSV: 0.16105)
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   Total points: 21
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748239200, 'close': 0.083807185, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748275200, 'close': 0.088395466, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   Valid prices: 21
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   Min price: 7.191172400000000e-02
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   Max price: 8.839546600000001e-02
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2292218998949325
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7586 (type: <class 'float'>)
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.16105 (type: <class 'float'>)
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-26 06:16:47
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-26 16:14:33
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   price_history length: 21
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.083807185, 0.080778957, 0.076946774, 0.081333501, 0.07723144]
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.078540671, 0.071911724, 0.07553097, 0.08162892, 0.088395466]
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   Initial price: 8.380718500000001e-02
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   Final price: 8.839546600000001e-02
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0547480624722092
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7586
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   initial_price: 8.380718500000001e-02
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   final_price: 8.839546600000001e-02
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0547480624722092
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   active_bin_index: 5
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 5 bins): 0.4172898550724638
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG - 
Calculating token values for 5 activated bins:
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08345797101449276
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.422517854062683e-02 = 8.380718500000001e-02 * 1.004987562112089
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -     Tokens bought: 9.908909955499352e-01 = 0.08345797101449276 / 8.422517854062683e-02
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -     Final value: 8.759027130684045e-02 = 9.908909955499352e-01 * 8.839546600000001e-02
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.759027130684045e-02 = 0.08345797101449276 * (8.839546600000001e-02 / 8.422517854062683e-02)
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08345797101449276
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.506743032603310e-02 = 8.380718500000001e-02 * 1.0150374377332099
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -     Tokens bought: 9.810801936137972e-01 = 0.08345797101449276 / 8.506743032603310e-02
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -     Final value: 8.672304089786183e-02 = 9.810801936137972e-01 * 8.839546600000001e-02
2025-07-15 17:58:17,287 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.672304089786183e-02 = 0.08345797101449276 * (8.839546600000001e-02 / 8.506743032603310e-02)
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08345797101449276
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.591810462929345e-02 = 8.380718500000001e-02 * 1.025187812110542
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Tokens bought: 9.713665283304922e-01 = 0.08345797101449276 / 8.591810462929345e-02
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Final value: 8.586439692857606e-02 = 9.713665283304922e-01 * 8.839546600000001e-02
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.586439692857607e-02 = 0.08345797101449276 * (8.839546600000001e-02 / 8.591810462929345e-02)
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08345797101449276
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.677728567558637e-02 = 8.380718500000001e-02 * 1.0354396902316474
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Tokens bought: 9.617490379509824e-01 = 0.08345797101449276 / 8.677728567558637e-02
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Final value: 8.501425438472879e-02 = 9.617490379509824e-01 * 8.839546600000001e-02
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.501425438472879e-02 = 0.08345797101449276 * (8.839546600000001e-02 / 8.677728567558637e-02)
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08345797101449276
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.764505853234224e-02 = 8.380718500000001e-02 * 1.045794087133964
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Tokens bought: 9.522267702484974e-01 = 0.08345797101449276 / 8.764505853234224e-02
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Final value: 8.417252909379087e-02 = 9.522267702484974e-01 * 8.839546600000001e-02
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.417252909379086e-02 = 0.08345797101449276 * (8.839546600000001e-02 / 8.764505853234224e-02)
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.341310144927537 = 5.7586 - 0.4172898550724638
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -   Total token value: 4.293644926117979e-01
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.341310144927537
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -   Final asset value: 5.770674637539335e+00
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7586
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.207463753933435e-02
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7586
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -   initial_price: 8.380718500000001e-02
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -   final_price: 8.839546600000001e-02
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0547480624722092
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -   active_bin_index: 5
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 5 bins): 0.5864275206750426
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG - 
Calculating token values for 5 activated bins:
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.124273183116471
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.422517854062683e-02 = 8.380718500000001e-02 * 1.004987562112089
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.475487321840780e+00 = 0.124273183116471 / 8.422517854062683e-02
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Final value: 1.304263893912077e-01 = 1.475487321840780e+00 * 8.839546600000001e-02
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.304263893912077e-01 = 0.124273183116471 * (8.839546600000001e-02 / 8.422517854062683e-02)
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12067184087217882
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.506743032603310e-02 = 8.380718500000001e-02 * 1.0150374377332099
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.418543388576412e+00 = 0.12067184087217882 / 8.506743032603310e-02
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Final value: 1.253928038744310e-01 = 1.418543388576412e+00 * 8.839546600000001e-02
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.253928038744310e-01 = 0.12067184087217882 * (8.839546600000001e-02 / 8.506743032603310e-02)
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11717800138144754
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.591810462929345e-02 = 8.380718500000001e-02 * 1.025187812110542
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.363833640034654e+00 = 0.11717800138144754 / 8.591810462929345e-02
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Final value: 1.205567101573395e-01 = 1.363833640034654e+00 * 8.839546600000001e-02
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.205567101573395e-01 = 0.11717800138144754 * (8.839546600000001e-02 / 8.591810462929345e-02)
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11379166464427729
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.677728567558637e-02 = 8.380718500000001e-02 * 1.0354396902316474
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.311307028773441e+00 = 0.11379166464427729 / 8.677728567558637e-02
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Final value: 1.159135958775038e-01 = 1.311307028773441e+00 * 8.839546600000001e-02
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.159135958775038e-01 = 0.11379166464427729 * (8.839546600000001e-02 / 8.677728567558637e-02)
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11051283066066798
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.764505853234224e-02 = 8.380718500000001e-02 * 1.045794087133964
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.260913421831845e+00 = 0.11051283066066798 / 8.764505853234224e-02
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Final value: 1.114590295084805e-01 = 1.260913421831845e+00 * 8.839546600000001e-02
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.114590295084805e-01 = 0.11051283066066798 * (8.839546600000001e-02 / 8.764505853234224e-02)
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.172172479324958 = 5.7586 - 0.5864275206750426
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -   Total token value: 6.037485288089626e-01
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.172172479324958
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -   Final asset value: 5.775921008133921e+00
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7586
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.732100813392012e-02
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     PnL: 1.783323753933436e-02
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.758600000000001e-03
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.207463753933435e-02
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     PnL: 2.135202813392012e-02
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.031020000000001e-03
2025-07-15 17:58:17,288 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.732100813392012e-02
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   position_id: pos_05-26-08-27-49_35513817
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (from CSV: 5.76)
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01715 (from CSV: 0.01715)
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   Total points: 8
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748247600, 'close': 0.032490343, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748251800, 'close': 0.035460064, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   Valid prices: 8
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   Min price: 3.043364900000000e-02
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   Max price: 3.574537000000000e-02
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   Price ratio: 1.17453447662487
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (type: <class 'float'>)
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01715 (type: <class 'float'>)
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-26 08:27:49
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-26 09:37:15
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   price_history length: 8
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.032490343, 0.032724041, 0.030433649, 0.032849803, 0.032472858]
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.032849803, 0.032472858, 0.031658289, 0.03574537, 0.035460064]
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   Initial price: 3.249034300000000e-02
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   Final price: 3.546006400000000e-02
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0914031901725385
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   initial_price: 3.249034300000000e-02
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   final_price: 3.546006400000000e-02
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0914031901725385
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   active_bin_index: 8
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 8 bins): 0.6678260869565217
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG - 
Calculating token values for 8 activated bins:
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.265239060375557e-02 = 3.249034300000000e-02 * 1.004987562112089
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.556574245438673e+00 = 0.08347826086956521 / 3.265239060375557e-02
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -     Final value: 9.065628636400705e-02 = 2.556574245438673e+00 * 3.546006400000000e-02
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.065628636400705e-02 = 0.08347826086956521 * (3.546006400000000e-02 / 3.265239060375557e-02)
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.297891450979313e-02 = 3.249034300000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.531261629147201e+00 = 0.08347826086956521 / 3.297891450979313e-02
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -     Final value: 8.975869937030401e-02 = 2.531261629147201e+00 * 3.546006400000000e-02
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.975869937030399e-02 = 0.08347826086956521 * (3.546006400000000e-02 / 3.297891450979313e-02)
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.330870365489106e-02 = 3.249034300000000e-02 * 1.025187812110542
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.506199632819011e+00 = 0.08347826086956521 / 3.330870365489106e-02
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -     Final value: 8.886999937653861e-02 = 2.506199632819011e+00 * 3.546006400000000e-02
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.886999937653861e-02 = 0.08347826086956521 * (3.546006400000000e-02 / 3.330870365489106e-02)
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.364179069143997e-02 = 3.249034300000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.481385775068327e+00 = 0.08347826086956521 / 3.364179069143997e-02
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -     Final value: 8.799009839261249e-02 = 2.481385775068327e+00 * 3.546006400000000e-02
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.799009839261249e-02 = 0.08347826086956521 * (3.546006400000000e-02 / 3.364179069143997e-02)
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.397820859835438e-02 = 3.249034300000000e-02 * 1.045794087133964
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.456817599077552e+00 = 0.08347826086956521 / 3.397820859835438e-02
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -     Final value: 8.711890929961633e-02 = 2.456817599077552e+00 * 3.546006400000000e-02
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.711890929961631e-02 = 0.08347826086956521 * (3.546006400000000e-02 / 3.397820859835438e-02)
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 3 more bins processed)
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.092173913043478 = 5.76 - 0.6678260869565217
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   Total token value: 7.006094163237461e-01
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.092173913043478
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   Final asset value: 5.792783329367224e+00
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG -   PnL from assets: 3.278332936722439e-02
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,289 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -   initial_price: 3.249034300000000e-02
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -   final_price: 3.546006400000000e-02
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0914031901725385
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -   active_bin_index: 8
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 8 bins): 0.8995866858326956
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG - 
Calculating token values for 8 activated bins:
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1243033957473818
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.265239060375557e-02 = 3.249034300000000e-02 * 1.004987562112089
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.806869679339339e+00 = 0.1243033957473818 / 3.265239060375557e-02
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     Final value: 1.349918424690324e-01 = 3.806869679339339e+00 * 3.546006400000000e-02
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.349918424690324e-01 = 0.1243033957473818 * (3.546006400000000e-02 / 3.265239060375557e-02)
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12070117796404507
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.297891450979313e-02 = 3.249034300000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.659949994054617e+00 = 0.12070117796404507 / 3.297891450979313e-02
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     Final value: 1.297820610259763e-01 = 3.659949994054617e+00 * 3.546006400000000e-02
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.297820610259763e-01 = 0.12070117796404507 * (3.546006400000000e-02 / 3.297891450979313e-02)
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1172064890697631
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.330870365489106e-02 = 3.249034300000000e-02 * 1.025187812110542
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.518794675533776e+00 = 0.1172064890697631 / 3.330870365489106e-02
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     Final value: 1.247766843972869e-01 = 3.518794675533776e+00 * 3.546006400000000e-02
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.247766843972869e-01 = 0.1172064890697631 * (3.546006400000000e-02 / 3.330870365489106e-02)
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11381932906453603
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.364179069143997e-02 = 3.249034300000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.383272017487967e+00 = 0.11381932906453603 / 3.364179069143997e-02
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     Final value: 1.199710422695324e-01 = 3.383272017487967e+00 * 3.546006400000000e-02
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.199710422695324e-01 = 0.11381932906453603 * (3.546006400000000e-02 / 3.364179069143997e-02)
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11053969794836377
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.397820859835438e-02 = 3.249034300000000e-02 * 1.045794087133964
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.253252673059327e+00 = 0.11053969794836377 / 3.397820859835438e-02
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     Final value: 1.153605479948548e-01 = 3.253252673059327e+00 * 3.546006400000000e-02
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.153605479948548e-01 = 0.11053969794836377 * (3.546006400000000e-02 / 3.397820859835438e-02)
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 3 more bins processed)
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.860413314167304 = 5.76 - 0.8995866858326956
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -   Total token value: 9.451852557529699e-01
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.860413314167304
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -   Final asset value: 5.805598569920274e+00
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -   PnL from assets: 4.559856992027456e-02
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     PnL: 3.854332936722439e-02
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759999999999999e-03
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     PnL from IL: 3.278332936722439e-02
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     PnL: 4.963056992027456e-02
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.031999999999999e-03
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -     PnL from IL: 4.559856992027456e-02
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -   position_id: pos_05-26-10-16-13_35526062
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -   investment_sol: 5.759 (from CSV: 5.759)
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02285 (from CSV: 0.02285)
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,290 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   Total points: 4
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748254200, 'close': 0.038036711, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748256000, 'close': 0.03489233, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   Valid prices: 4
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   Min price: 3.489233000000000e-02
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   Max price: 3.803671100000000e-02
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0901166818037087
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   investment_sol: 5.759 (type: <class 'float'>)
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02285 (type: <class 'float'>)
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-26 10:16:13
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-26 10:44:29
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   price_history length: 4
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.038036711, 0.037551122, 0.03776181, 0.03489233]
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.038036711, 0.037551122, 0.03776181, 0.03489233]
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   Initial price: 3.803671100000000e-02
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   Final price: 3.489233000000000e-02
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9173329944326679
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   initial_sol: 5.759
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   initial_price: 3.803671100000000e-02
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   final_price: 3.489233000000000e-02
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9173329944326679
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.759 = 5.759 - 0
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.759
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759000000000000e+00
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.759
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   initial_sol: 5.759
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   initial_price: 3.803671100000000e-02
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   final_price: 3.489233000000000e-02
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9173329944326679
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.759 = 5.759 - 0
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.759
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759000000000000e+00
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.759
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -     PnL: 5.759000000000000e-03
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759000000000000e-03
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -     PnL: 5.759000000000000e-03
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759000000000000e-03
2025-07-15 17:58:17,291 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   position_id: pos_05-26-10-46-16_35527246
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (from CSV: 5.76)
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.06633 (from CSV: 0.06633)
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   Total points: 20
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748256000, 'close': 0.03489233, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748267400, 'close': 0.039359228, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   Valid prices: 20
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   Min price: 3.263728400000000e-02
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   Max price: 3.935922800000000e-02
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2059590497787744
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (type: <class 'float'>)
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.06633 (type: <class 'float'>)
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-26 10:46:16
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-26 13:50:12
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   price_history length: 20
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.03489233, 0.035987061, 0.03428667, 0.032637284, 0.032708587]
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.039100096, 0.037262293, 0.039075827, 0.039108107, 0.039359228]
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   Initial price: 3.489233000000000e-02
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   Final price: 3.935922800000000e-02
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1280194816453932
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   initial_price: 3.489233000000000e-02
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   final_price: 3.935922800000000e-02
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1280194816453932
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   active_bin_index: 12
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 12 bins): 1.0017391304347825
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG - 
Calculating token values for 12 activated bins:
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.506635766311050e-02 = 3.489233000000000e-02 * 1.004987562112089
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.380579747447896e+00 = 0.08347826086956521 / 3.506635766311050e-02
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Final value: 9.369778105198419e-02 = 2.380579747447896e+00 * 3.935922800000000e-02
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.369778105198417e-02 = 0.08347826086956521 * (3.935922800000000e-02 / 3.506635766311050e-02)
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.541702123974161e-02 = 3.489233000000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.357009650938511e+00 = 0.08347826086956521 / 3.541702123974161e-02
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Final value: 9.277008024948928e-02 = 2.357009650938511e+00 * 3.935922800000000e-02
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.277008024948930e-02 = 0.08347826086956521 * (3.935922800000000e-02 / 3.541702123974161e-02)
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.577119145213903e-02 = 3.489233000000000e-02 * 1.025187812110542
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.333672921721298e+00 = 0.08347826086956521 / 3.577119145213903e-02
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Final value: 9.185156460345473e-02 = 2.333672921721298e+00 * 3.935922800000000e-02
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.185156460345474e-02 = 0.08347826086956521 * (3.935922800000000e-02 / 3.577119145213903e-02)
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.612890336666041e-02 = 3.489233000000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.310567249229008e+00 = 0.08347826086956521 / 3.612890336666041e-02
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Final value: 9.094214317173738e-02 = 2.310567249229008e+00 * 3.935922800000000e-02
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.094214317173736e-02 = 0.08347826086956521 * (3.935922800000000e-02 / 3.612890336666041e-02)
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.649019240032703e-02 = 3.489233000000000e-02 * 1.045794087133964
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.287690345771295e+00 = 0.08347826086956521 / 3.649019240032703e-02
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Final value: 9.004172591261123e-02 = 2.287690345771295e+00 * 3.935922800000000e-02
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.004172591261124e-02 = 0.08347826086956521 * (3.935922800000000e-02 / 3.649019240032703e-02)
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 7 more bins processed)
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.758260869565217 = 5.76 - 1.0017391304347825
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   Total token value: 1.065121542682019e+00
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.758260869565217
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   Final asset value: 5.823382412247236e+00
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   PnL from assets: 6.338241224723618e-02
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   initial_price: 3.489233000000000e-02
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   final_price: 3.935922800000000e-02
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1280194816453932
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   active_bin_index: 12
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 12 bins): 1.277550730860418
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG - 
Calculating token values for 12 activated bins:
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1243033957473818
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.506635766311050e-02 = 3.489233000000000e-02 * 1.004987562112089
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.544804879411467e+00 = 0.1243033957473818 / 3.506635766311050e-02
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Final value: 1.395207834642685e-01 = 3.544804879411467e+00 * 3.935922800000000e-02
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.395207834642685e-01 = 0.1243033957473818 * (3.935922800000000e-02 / 3.506635766311050e-02)
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12070117796404507
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.541702123974161e-02 = 3.489233000000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,292 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.407999141062877e+00 = 0.12070117796404507 / 3.541702123974161e-02
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -     Final value: 1.341362152168979e-01 = 3.407999141062877e+00 * 3.935922800000000e-02
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.341362152168980e-01 = 0.12070117796404507 * (3.935922800000000e-02 / 3.541702123974161e-02)
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1172064890697631
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.577119145213903e-02 = 3.489233000000000e-02 * 1.025187812110542
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.276560950634884e+00 = 0.1172064890697631 / 3.577119145213903e-02
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -     Final value: 1.289629095119351e-01 = 3.276560950634884e+00 * 3.935922800000000e-02
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.289629095119352e-01 = 0.1172064890697631 * (3.935922800000000e-02 / 3.577119145213903e-02)
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11381932906453603
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.612890336666041e-02 = 3.489233000000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.150367668495800e+00 = 0.11381932906453603 / 3.612890336666041e-02
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -     Final value: 1.239960393481546e-01 = 3.150367668495800e+00 * 3.935922800000000e-02
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.239960393481546e-01 = 0.11381932906453603 * (3.935922800000000e-02 / 3.612890336666041e-02)
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11053969794836377
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.649019240032703e-02 = 3.489233000000000e-02 * 1.045794087133964
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.029298852021759e+00 = 0.11053969794836377 / 3.649019240032703e-02
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -     Final value: 1.192308641968627e-01 = 3.029298852021759e+00 * 3.935922800000000e-02
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.192308641968627e-01 = 0.11053969794836377 * (3.935922800000000e-02 / 3.649019240032703e-02)
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 7 more bins processed)
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.482449269139582 = 5.76 - 1.277550730860418
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -   Total token value: 1.363023541433350e+00
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.482449269139582
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -   Final asset value: 5.845472810572931e+00
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -   PnL from assets: 8.547281057293166e-02
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -     PnL: 6.914241224723618e-02
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759999999999999e-03
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -     PnL from IL: 6.338241224723618e-02
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -     PnL: 8.950481057293165e-02
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.031999999999999e-03
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -     PnL from IL: 8.547281057293166e-02
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -   position_id: pos_05-26-14-59-35_10537969
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8 (from CSV: 5.8)
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02006 (from CSV: 0.02006)
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -   Total points: 13
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748269800, 'close': 0.040211301, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748291400, 'close': 0.043007895, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -   Valid prices: 13
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -   Min price: 3.378526400000000e-02
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -   Max price: 4.300789500000000e-02
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -   Price ratio: 1.272977917236343
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8 (type: <class 'float'>)
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02006 (type: <class 'float'>)
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-26 14:59:35
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-26 20:30:00
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -   price_history length: 13
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.040211301, 0.035305397, 0.037117322, 0.035862765, 0.035088487]
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.035417784, 0.037323507, 0.037741224, 0.040621719, 0.043007895]
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -   Initial price: 4.021130100000000e-02
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -   Final price: 4.300789500000000e-02
2025-07-15 17:58:17,293 - DEEP_DEBUG - DEBUG -   Price ratio: 1.069547463783875
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -   initial_price: 4.021130100000000e-02
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -   final_price: 4.300789500000000e-02
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -   price_ratio: 1.069547463783875
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -   active_bin_index: 6
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 6 bins): 0.5043478260869565
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG - 
Calculating token values for 6 activated bins:
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08405797101449275
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.041185736134540e-02 = 4.021130100000000e-02 * 1.004987562112089
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.080032359386074e+00 = 0.08405797101449275 / 4.041185736134540e-02
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Final value: 8.945781330907852e-02 = 2.080032359386074e+00 * 4.300789500000000e-02
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.945781330907852e-02 = 0.08405797101449275 * (4.300789500000000e-02 / 4.041185736134540e-02)
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08405797101449275
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.081597593495886e-02 = 4.021130100000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.059437979590172e+00 = 0.08405797101449275 / 4.081597593495886e-02
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Final value: 8.857209238522626e-02 = 2.059437979590172e+00 * 4.300789500000000e-02
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.857209238522626e-02 = 0.08405797101449275 * (4.300789500000000e-02 / 4.081597593495886e-02)
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08405797101449275
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.122413569430845e-02 = 4.021130100000000e-02 * 1.025187812110542
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.039047504544725e+00 = 0.08405797101449275 / 4.122413569430845e-02
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Final value: 8.769514097547154e-02 = 2.039047504544725e+00 * 4.300789500000000e-02
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.769514097547154e-02 = 0.08405797101449275 * (4.300789500000000e-02 / 4.122413569430845e-02)
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08405797101449275
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.163637705125153e-02 = 4.021130100000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.018858915390816e+00 = 0.08405797101449275 / 4.163637705125153e-02
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Final value: 8.682687225294211e-02 = 2.018858915390816e+00 * 4.300789500000000e-02
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.682687225294211e-02 = 0.08405797101449275 * (4.300789500000000e-02 / 4.163637705125153e-02)
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08405797101449275
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.205274082176405e-02 = 4.021130100000000e-02 * 1.045794087133964
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.998870213258234e+00 = 0.08405797101449275 / 4.205274082176405e-02
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Final value: 8.596720025043772e-02 = 1.998870213258234e+00 * 4.300789500000000e-02
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.596720025043772e-02 = 0.08405797101449275 * (4.300789500000000e-02 / 4.205274082176405e-02)
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 1 more bins processed)
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.2956521739130435 = 5.8 - 0.5043478260869565
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -   Total token value: 5.236351590250746e-01
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.2956521739130435
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -   Final asset value: 5.819287332938118e+00
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.928733293811824e-02
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -   initial_price: 4.021130100000000e-02
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -   final_price: 4.300789500000000e-02
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -   price_ratio: 1.069547463783875
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -   active_bin_index: 6
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 6 bins): 0.6987566972203038
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG - 
Calculating token values for 6 activated bins:
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1251666137734053
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.041185736134540e-02 = 4.021130100000000e-02 * 1.004987562112089
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.097274462151527e+00 = 0.1251666137734053 / 4.041185736134540e-02
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Final value: 1.332072548543943e-01 = 3.097274462151527e+00 * 4.300789500000000e-02
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.332072548543943e-01 = 0.1251666137734053 * (4.300789500000000e-02 / 4.041185736134540e-02)
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12153938058879538
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.081597593495886e-02 = 4.021130100000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.977740402005112e+00 = 0.12153938058879538 / 4.081597593495886e-02
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Final value: 1.280663465466936e-01 = 2.977740402005112e+00 * 4.300789500000000e-02
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.280663465466937e-01 = 0.12153938058879538 * (4.300789500000000e-02 / 4.081597593495886e-02)
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11802042302163646
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.122413569430845e-02 = 4.021130100000000e-02 * 1.025187812110542
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.862896238669494e+00 = 0.11802042302163646 / 4.122413569430845e-02
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Final value: 1.231271408285925e-01 = 2.862896238669494e+00 * 4.300789500000000e-02
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.231271408285925e-01 = 0.11802042302163646 * (4.300789500000000e-02 / 4.122413569430845e-02)
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11460974107192863
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.163637705125153e-02 = 4.021130100000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.752634815725006e+00 = 0.11460974107192863 / 4.163637705125153e-02
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Final value: 1.183850291280454e-01 = 2.752634815725006e+00 * 4.300789500000000e-02
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.183850291280454e-01 = 0.11460974107192863 * (4.300789500000000e-02 / 4.163637705125153e-02)
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11130733473967185
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.205274082176405e-02 = 4.021130100000000e-02 * 1.045794087133964
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.646850896388319e+00 = 0.11130733473967185 / 4.205274082176405e-02
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Final value: 1.138354854325247e-01 = 2.646850896388319e+00 * 4.300789500000000e-02
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.138354854325247e-01 = 0.11130733473967185 * (4.300789500000000e-02 / 4.205274082176405e-02)
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 1 more bins processed)
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.101243302779696 = 5.8 - 0.6987566972203038
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -   Total token value: 7.260953217865675e-01
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.101243302779696
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -   Final asset value: 5.827338624566263e+00
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.733862456626301e-02
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     PnL: 2.508733293811824e-02
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.800000000000000e-03
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.928733293811824e-02
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     PnL: 3.139862456626302e-02
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.059999999999999e-03
2025-07-15 17:58:17,294 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.733862456626301e-02
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for TROLL-SOL
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   position_id: pos_05-26-16-16-47_25938959
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (from CSV: 5.76)
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02445 (from CSV: 0.02445)
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   Total points: 9
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748275200, 'close': 0.025176074, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748289600, 'close': 0.026834384, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   Valid prices: 9
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   Min price: 2.384981200000000e-02
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   Max price: 2.683438400000000e-02
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1251402736424085
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (type: <class 'float'>)
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02445 (type: <class 'float'>)
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-26 16:16:47
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-26 20:27:00
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   price_history length: 9
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.025176074, 0.024697886, 0.024391781, 0.024072945, 0.023849812]
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.023849812, 0.02526975, 0.025571388, 0.025571388, 0.026834384]
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   Initial price: 2.517607400000000e-02
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   Final price: 2.683438400000000e-02
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0658684908536573
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   initial_price: 2.517607400000000e-02
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   final_price: 2.683438400000000e-02
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0658684908536573
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   active_bin_index: 6
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 6 bins): 0.5008695652173912
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG - 
Calculating token values for 6 activated bins:
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.530164123281355e-02 = 2.517607400000000e-02 * 1.004987562112089
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.299321972888571e+00 = 0.08347826086956521 / 2.530164123281355e-02
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -     Final value: 8.853527276012951e-02 = 3.299321972888571e+00 * 2.683438400000000e-02
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.853527276012950e-02 = 0.08347826086956521 * (2.683438400000000e-02 / 2.530164123281355e-02)
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.555465764514168e-02 = 2.517607400000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.266655418701555e+00 = 0.08347826086956521 / 2.555465764514168e-02
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -     Final value: 8.765868590111832e-02 = 3.266655418701555e+00 * 2.683438400000000e-02
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.765868590111832e-02 = 0.08347826086956521 * (2.683438400000000e-02 / 2.555465764514168e-02)
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.581020422159310e-02 = 2.517607400000000e-02 * 1.025187812110542
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.234312295744114e+00 = 0.08347826086956521 / 2.581020422159310e-02
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -     Final value: 8.679077811991913e-02 = 3.234312295744114e+00 * 2.683438400000000e-02
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.679077811991913e-02 = 0.08347826086956521 * (2.683438400000000e-02 / 2.581020422159310e-02)
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.606830626380903e-02 = 2.517607400000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.202289401726846e+00 = 0.08347826086956521 / 2.606830626380903e-02
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -     Final value: 8.593146348506843e-02 = 3.202289401726846e+00 * 2.683438400000000e-02
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.593146348506844e-02 = 0.08347826086956521 * (2.683438400000000e-02 / 2.606830626380903e-02)
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347826086956521
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.632898932644712e-02 = 2.517607400000000e-02 * 1.045794087133964
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.170583566066184e+00 = 0.08347826086956521 / 2.632898932644712e-02
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -     Final value: 8.508065691590934e-02 = 3.170583566066184e+00 * 2.683438400000000e-02
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.508065691590934e-02 = 0.08347826086956521 * (2.683438400000000e-02 / 2.632898932644712e-02)
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 1 more bins processed)
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.259130434782609 = 5.76 - 0.5008695652173912
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   Total token value: 5.182351313563124e-01
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.259130434782609
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   Final asset value: 5.777365566138921e+00
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:17,295 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.736556613892137e-02
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -   initial_price: 2.517607400000000e-02
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -   final_price: 2.683438400000000e-02
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0658684908536573
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -   active_bin_index: 6
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 6 bins): 0.6939376855153361
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG - 
Calculating token values for 6 activated bins:
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1243033957473818
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.530164123281355e-02 = 2.517607400000000e-02 * 1.004987562112089
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.912858996126049e+00 = 0.1243033957473818 / 2.530164123281355e-02
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     Final value: 1.318335448399009e-01 = 4.912858996126049e+00 * 2.683438400000000e-02
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.318335448399009e-01 = 0.1243033957473818 * (2.683438400000000e-02 / 2.530164123281355e-02)
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12070117796404507
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.555465764514168e-02 = 2.517607400000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.723255527040572e+00 = 0.12070117796404507 / 2.555465764514168e-02
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     Final value: 1.267456525427291e-01 = 4.723255527040572e+00 * 2.683438400000000e-02
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.267456525427291e-01 = 0.12070117796404507 * (2.683438400000000e-02 / 2.555465764514168e-02)
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1172064890697631
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.581020422159310e-02 = 2.517607400000000e-02 * 1.025187812110542
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.541091115106592e+00 = 0.1172064890697631 / 2.581020422159310e-02
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     Final value: 1.218573827617585e-01 = 4.541091115106592e+00 * 2.683438400000000e-02
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.218573827617585e-01 = 0.1172064890697631 * (2.683438400000000e-02 / 2.581020422159310e-02)
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11381932906453603
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.606830626380903e-02 = 2.517607400000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.366195790117476e+00 = 0.11381932906453603 / 2.606830626380903e-02
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     Final value: 1.171641744511957e-01 = 4.366195790117476e+00 * 2.683438400000000e-02
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.171641744511958e-01 = 0.11381932906453603 * (2.683438400000000e-02 / 2.606830626380903e-02)
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11053969794836377
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.632898932644712e-02 = 2.517607400000000e-02 * 1.045794087133964
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.198402626770337e+00 = 0.11053969794836377 / 2.632898932644712e-02
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     Final value: 1.126615482733639e-01 = 4.198402626770337e+00 * 2.683438400000000e-02
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.126615482733639e-01 = 0.11053969794836377 * (2.683438400000000e-02 / 2.632898932644712e-02)
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 1 more bins processed)
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.066062314484664 = 5.76 - 0.6939376855153361
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -   Total token value: 7.186074081882782e-01
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.066062314484664
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -   Final asset value: 5.784669722672942e+00
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.466972267294221e-02
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     PnL: 2.312556613892137e-02
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759999999999999e-03
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.736556613892137e-02
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     PnL: 2.870172267294221e-02
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.031999999999999e-03
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.466972267294221e-02
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -   position_id: pos_05-26-16-24-58_35564661
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7593 (from CSV: 5.7593)
2025-07-15 17:58:17,296 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.18534 (from CSV: 0.18534)
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   Total points: 20
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748275200, 'close': 0.08355363, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748343600, 'close': 0.072243844, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   Valid prices: 20
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   Min price: 6.151037400000000e-02
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   Max price: 8.355363000000000e-02
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   Price ratio: 1.358366476523131
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7593 (type: <class 'float'>)
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.18534 (type: <class 'float'>)
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-26 16:24:58
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-27 11:01:06
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   price_history length: 20
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.08355363, 0.074672891, 0.074742774, 0.076224782, 0.072468585]
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.068167721, 0.065598496, 0.065598496, 0.078195735, 0.072243844]
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   Initial price: 8.355363000000000e-02
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   Final price: 7.224384400000000e-02
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   Price ratio: 0.8646403992262215
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7593
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   initial_price: 8.355363000000000e-02
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   final_price: 7.224384400000000e-02
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8646403992262215
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7593 = 5.7593 - 0
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7593
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759300000000000e+00
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7593
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7593
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   initial_price: 8.355363000000000e-02
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   final_price: 7.224384400000000e-02
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8646403992262215
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7593 = 5.7593 - 0
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7593
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759300000000000e+00
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7593
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -     PnL: 5.759300000000000e-03
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759300000000000e-03
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -     PnL: 5.759300000000000e-03
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759300000000000e-03
2025-07-15 17:58:17,297 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for titcoin-SOL
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   position_id: pos_05-26-22-25-49_25973091
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7597 (from CSV: 5.7597)
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.17672 (from CSV: 0.17672)
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   Total points: 15
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748296800, 'close': 0.028181232, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748347200, 'close': 0.031999406, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   Valid prices: 15
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   Min price: 2.358016100000000e-02
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   Max price: 3.199940600000000e-02
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   Price ratio: 1.3570478165946367
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7597 (type: <class 'float'>)
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.17672 (type: <class 'float'>)
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-26 22:25:49
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-27 12:08:42
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   price_history length: 15
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.028181232, 0.028181232, 0.028181232, 0.026784322, 0.026023856]
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.027329023, 0.028680891, 0.023580161, 0.026491383, 0.031999406]
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   Initial price: 2.818123200000000e-02
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   Final price: 3.199940600000000e-02
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1354864116657497
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7597
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   initial_price: 2.818123200000000e-02
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   final_price: 3.199940600000000e-02
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1354864116657497
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   active_bin_index: 12
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 12 bins): 1.0016869565217392
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG - 
Calculating token values for 12 activated bins:
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347391304347826
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.832178764499519e-02 = 2.818123200000000e-02 * 1.004987562112089
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.947339133030649e+00 = 0.08347391304347826 / 2.832178764499519e-02
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -     Final value: 9.431310153753573e-02 = 2.947339133030649e+00 * 3.199940600000000e-02
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.431310153753575e-02 = 0.08347391304347826 * (3.199940600000000e-02 / 2.832178764499519e-02)
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347391304347826
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.860500552144514e-02 = 2.818123200000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.918157557456087e+00 = 0.08347391304347826 / 2.860500552144514e-02
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -     Final value: 9.337930845300567e-02 = 2.918157557456087e+00 * 3.199940600000000e-02
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.337930845300567e-02 = 0.08347391304347826 * (3.199940600000000e-02 / 2.860500552144514e-02)
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347391304347826
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.889105557665959e-02 = 2.818123200000000e-02 * 1.025187812110542
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.889264908372364e+00 = 0.08347391304347826 / 2.889105557665959e-02
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -     Final value: 9.245476084456009e-02 = 2.889264908372364e+00 * 3.199940600000000e-02
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.245476084456007e-02 = 0.08347391304347826 * (3.199940600000000e-02 / 2.889105557665959e-02)
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347391304347826
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.917996613242619e-02 = 2.818123200000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.860658325121153e+00 = 0.08347391304347826 / 2.917996613242619e-02
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -     Final value: 9.153936717283176e-02 = 2.860658325121153e+00 * 3.199940600000000e-02
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.153936717283176e-02 = 0.08347391304347826 * (3.199940600000000e-02 / 2.917996613242619e-02)
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08347391304347826
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.947176579375045e-02 = 2.818123200000000e-02 * 1.045794087133964
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.832334975367477e+00 = 0.08347391304347826 / 2.947176579375045e-02
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -     Final value: 9.063303680478391e-02 = 2.832334975367477e+00 * 3.199940600000000e-02
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.063303680478392e-02 = 0.08347391304347826 * (3.199940600000000e-02 / 2.947176579375045e-02)
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 7 more bins processed)
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.75801304347826 = 5.7597 - 1.0016869565217392
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   Total token value: 1.072116277215283e+00
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.75801304347826
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   Final asset value: 5.830129320693543e+00
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7597
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   PnL from assets: 7.042932069354357e-02
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7597
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   initial_price: 2.818123200000000e-02
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   final_price: 3.199940600000000e-02
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1354864116657497
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   active_bin_index: 12
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,298 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 12 bins): 1.2774841917598525
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG - 
Calculating token values for 12 activated bins:
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12429692161218663
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.832178764499519e-02 = 2.818123200000000e-02 * 1.004987562112089
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.388738563052938e+00 = 0.12429692161218663 / 2.832178764499519e-02
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     Final value: 1.404370271069875e-01 = 4.388738563052938e+00 * 3.199940600000000e-02
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.404370271069875e-01 = 0.12429692161218663 * (3.199940600000000e-02 / 2.832178764499519e-02)
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12069489144435944
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.860500552144514e-02 = 2.818123200000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.219362634063279e+00 = 0.12069489144435944 / 2.860500552144514e-02
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     Final value: 1.350170979886203e-01 = 4.219362634063279e+00 * 3.199940600000000e-02
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.350170979886203e-01 = 0.12069489144435944 * (3.199940600000000e-02 / 2.860500552144514e-02)
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11720038456512406
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.889105557665959e-02 = 2.818123200000000e-02 * 1.025187812110542
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.056632138418906e+00 = 0.11720038456512406 / 2.889105557665959e-02
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     Final value: 1.298098187899148e-01 = 4.056632138418906e+00 * 3.199940600000000e-02
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.298098187899148e-01 = 0.11720038456512406 * (3.199940600000000e-02 / 2.889105557665959e-02)
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11381340097448057
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.917996613242619e-02 = 2.818123200000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.900395238910357e+00 = 0.11381340097448057 / 2.917996613242619e-02
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     Final value: 1.248103308103595e-01 = 3.900395238910357e+00 * 3.199940600000000e-02
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.248103308103595e-01 = 0.11381340097448057 * (3.199940600000000e-02 / 2.917996613242619e-02)
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11053394067242896
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.947176579375045e-02 = 2.818123200000000e-02 * 1.045794087133964
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.750502818391285e+00 = 0.11053394067242896 / 2.947176579375045e-02
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     Final value: 1.200138623898470e-01 = 3.750502818391285e+00 * 3.199940600000000e-02
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.200138623898470e-01 = 0.11053394067242896 * (3.199940600000000e-02 / 2.947176579375045e-02)
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 7 more bins processed)
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.482215808240147 = 5.7597 - 1.2774841917598525
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -   Total token value: 1.371974621148542e+00
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.482215808240147
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -   Final asset value: 5.854190429388689e+00
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7597
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -   PnL from assets: 9.449042938868946e-02
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     PnL: 7.618902069354358e-02
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759700000000000e-03
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     PnL from IL: 7.042932069354357e-02
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     PnL: 1.002501293886895e-01
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759700000000000e-03
2025-07-15 17:58:17,299 - DEEP_DEBUG - DEBUG -     PnL from IL: 9.449042938868946e-02
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Hosico cat-SOL
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   position_id: pos_05-27-01-06-55_10598917
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8 (from CSV: 5.8)
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02964 (from CSV: 0.02964)
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   Total points: 14
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748307600, 'close': 0.021745182, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748331000, 'close': 0.021725029, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   Valid prices: 14
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   Min price: 1.994360800000000e-02
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   Max price: 2.288907400000000e-02
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1476897259512922
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8 (type: <class 'float'>)
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02964 (type: <class 'float'>)
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-27 01:06:55
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-27 07:43:26
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   price_history length: 14
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.021745182, 0.021081428, 0.02180363, 0.020917131, 0.020852949]
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.020190174, 0.022889074, 0.021954336, 0.021987641, 0.021725029]
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   Initial price: 2.174518200000000e-02
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   Final price: 2.172502900000000e-02
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9990732199896051
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   initial_price: 2.174518200000000e-02
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   final_price: 2.172502900000000e-02
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9990732199896051
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.8 = 5.8 - 0
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.8
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   Final asset value: 5.800000000000000e+00
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   initial_price: 2.174518200000000e-02
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   final_price: 2.172502900000000e-02
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9990732199896051
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.8 = 5.8 - 0
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.8
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   Final asset value: 5.800000000000000e+00
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -     PnL: 5.800000000000000e-03
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.800000000000000e-03
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -     PnL: 5.800000000000000e-03
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.800000000000000e-03
2025-07-15 17:58:17,300 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   position_id: pos_05-27-10-24-54_10638816
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8 (from CSV: 5.8)
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01566 (from CSV: 0.01566)
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   Total points: 16
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748340000, 'close': 0.041190206, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748367000, 'close': 0.043437469, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   Valid prices: 16
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   Min price: 3.767732100000000e-02
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   Max price: 4.343746900000000e-02
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1528810394985354
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8 (type: <class 'float'>)
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01566 (type: <class 'float'>)
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-27 10:24:54
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-27 17:45:50
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   price_history length: 16
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.041190206, 0.041078067, 0.039385899, 0.039247176, 0.039333823]
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.038763368, 0.040594013, 0.041278319, 0.043177182, 0.043437469]
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   Initial price: 4.119020600000000e-02
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   Final price: 4.343746900000000e-02
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0545581879342871
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   initial_price: 4.119020600000000e-02
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   final_price: 4.343746900000000e-02
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0545581879342871
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   active_bin_index: 5
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 5 bins): 0.42028985507246375
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG - 
Calculating token values for 5 activated bins:
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08405797101449275
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.139564471083474e-02 = 4.119020600000000e-02 * 1.004987562112089
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.030599392802590e+00 = 0.08405797101449275 / 4.139564471083474e-02
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Final value: 8.820409817628130e-02 = 2.030599392802590e+00 * 4.343746900000000e-02
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.820409817628130e-02 = 0.08405797101449275 * (4.343746900000000e-02 / 4.139564471083474e-02)
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08405797101449275
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.180960115794309e-02 = 4.119020600000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.010494448319395e+00 = 0.08405797101449275 / 4.180960115794309e-02
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Final value: 8.733079027354584e-02 = 2.010494448319395e+00 * 4.343746900000000e-02
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.733079027354584e-02 = 0.08405797101449275 * (4.343746900000000e-02 / 4.180960115794309e-02)
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08405797101449275
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.222769716952252e-02 = 4.119020600000000e-02 * 1.025187812110542
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.990588562692471e+00 = 0.08405797101449275 / 4.222769716952252e-02
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Final value: 8.646612898370874e-02 = 1.990588562692471e+00 * 4.343746900000000e-02
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.646612898370874e-02 = 0.08405797101449275 * (4.343746900000000e-02 / 4.222769716952252e-02)
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08405797101449275
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.264997414121775e-02 = 4.119020600000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.970879765042050e+00 = 0.08405797101449275 / 4.264997414121775e-02
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Final value: 8.561002869674134e-02 = 1.970879765042050e+00 * 4.343746900000000e-02
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.561002869674134e-02 = 0.08405797101449275 * (4.343746900000000e-02 / 4.264997414121775e-02)
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08405797101449275
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.307647388262992e-02 = 4.119020600000000e-02 * 1.045794087133964
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.951366104002030e+00 = 0.08405797101449275 / 4.307647388262992e-02
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Final value: 8.476240465023895e-02 = 1.951366104002030e+00 * 4.343746900000000e-02
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.476240465023896e-02 = 0.08405797101449275 * (4.343746900000000e-02 / 4.307647388262992e-02)
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.379710144927536 = 5.8 - 0.42028985507246375
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   Total token value: 4.323734507805161e-01
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.379710144927536
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   Final asset value: 5.812083595708052e+00
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.208359570805229e-02
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   initial_price: 4.119020600000000e-02
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   final_price: 4.343746900000000e-02
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0545581879342871
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   active_bin_index: 5
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 5 bins): 0.5906434931954376
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG - 
Calculating token values for 5 activated bins:
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1251666137734053
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.139564471083474e-02 = 4.119020600000000e-02 * 1.004987562112089
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.023666249136703e+00 = 0.1251666137734053 / 4.139564471083474e-02
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Final value: 1.313404089632218e-01 = 3.023666249136703e+00 * 4.343746900000000e-02
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.313404089632218e-01 = 0.1251666137734053 * (4.343746900000000e-02 / 4.139564471083474e-02)
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12153938058879538
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.180960115794309e-02 = 4.119020600000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,301 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.906972973257006e+00 = 0.12153938058879538 / 4.180960115794309e-02
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -     Final value: 1.262715484096890e-01 = 2.906972973257006e+00 * 4.343746900000000e-02
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.262715484096890e-01 = 0.12153938058879538 * (4.343746900000000e-02 / 4.180960115794309e-02)
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11802042302163646
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.222769716952252e-02 = 4.119020600000000e-02 * 1.025187812110542
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.794858136541168e+00 = 0.11802042302163646 / 4.222769716952252e-02
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -     Final value: 1.214015636654047e-01 = 2.794858136541168e+00 * 4.343746900000000e-02
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.214015636654047e-01 = 0.11802042302163646 * (4.343746900000000e-02 / 4.222769716952252e-02)
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11460974107192863
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.264997414121775e-02 = 4.119020600000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.687217129193229e+00 = 0.11460974107192863 / 4.264997414121775e-02
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -     Final value: 1.167259107455999e-01 = 2.687217129193229e+00 * 4.343746900000000e-02
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.167259107455999e-01 = 0.11460974107192863 * (4.343746900000000e-02 / 4.264997414121775e-02)
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11130733473967185
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.307647388262992e-02 = 4.119020600000000e-02 * 1.045794087133964
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.583947215432487e+00 = 0.11130733473967185 / 4.307647388262992e-02
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -     Final value: 1.122401270679850e-01 = 2.583947215432487e+00 * 4.343746900000000e-02
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.122401270679850e-01 = 0.11130733473967185 * (4.343746900000000e-02 / 4.307647388262992e-02)
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.209356506804562 = 5.8 - 0.5906434931954376
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -   Total token value: 6.079795588519005e-01
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.209356506804562
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -   Final asset value: 5.817336065656463e+00
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.733606565646273e-02
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -     PnL: 1.788359570805229e-02
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.800000000000000e-03
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.208359570805229e-02
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -     PnL: 2.139606565646273e-02
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.059999999999999e-03
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.733606565646273e-02
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -   position_id: pos_05-27-12-21-06_26010164
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (from CSV: 5.76)
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -   pnl_sol: -1.27883 (from CSV: -1.27883)
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -   close_reason: SL
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -   Total points: 28
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748347200, 'close': 0.072262985, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748444400, 'close': 0.039728277, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -   Valid prices: 28
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -   Min price: 3.781248000000000e-02
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -   Max price: 7.287589300000000e-02
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -   Price ratio: 1.9272973631986052
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -   investment_sol: 5.76 (type: <class 'float'>)
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -   pnl_sol: -1.27883 (type: <class 'float'>)
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-27 12:21:06
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-28 15:00:40
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -   close_reason: SL
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -   price_history length: 28
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.072262985, 0.071209936, 0.070794929, 0.072129504, 0.072875893]
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.053425255, 0.05450837, 0.056654688, 0.03781248, 0.039728277]
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -   Initial price: 7.226298500000000e-02
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -   Final price: 3.972827700000000e-02
2025-07-15 17:58:17,302 - DEEP_DEBUG - DEBUG -   Price ratio: 0.5497735389701933
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   initial_price: 7.226298500000000e-02
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   final_price: 3.972827700000000e-02
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   price_ratio: 0.5497735389701933
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.76 = 5.76 - 0
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.76
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   Final asset value: 5.760000000000000e+00
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   initial_sol: 5.76
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   initial_price: 7.226298500000000e-02
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   final_price: 3.972827700000000e-02
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   price_ratio: 0.5497735389701933
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.76 = 5.76 - 0
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.76
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   Final asset value: 5.760000000000000e+00
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.76
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -     PnL: 5.759999999999999e-03
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759999999999999e-03
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -     PnL: 3.455999999999999e-03
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -     PnL from fees: 3.455999999999999e-03
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   position_id: pos_05-27-17-46-48_35704088
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7597 (from CSV: 5.7597)
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.17494 (from CSV: 0.17494)
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   Total points: 43
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748365200, 'close': 0.043437469, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748516400, 'close': 0.035065179, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   Valid prices: 43
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   Min price: 2.635014400000000e-02
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   Max price: 4.343746900000000e-02
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   Price ratio: 1.6484717882376658
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7597 (type: <class 'float'>)
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.17494 (type: <class 'float'>)
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-27 17:46:48
2025-07-15 17:58:17,303 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-29 11:48:15
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   price_history length: 43
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.043437469, 0.041358597, 0.038732561, 0.036735005, 0.035916641]
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.028519909, 0.030470368, 0.028948323, 0.029265934, 0.035065179]
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   Initial price: 4.343746900000000e-02
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   Final price: 3.506517900000000e-02
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   Price ratio: 0.8072564955384487
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7597
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   initial_price: 4.343746900000000e-02
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   final_price: 3.506517900000000e-02
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8072564955384487
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7597 = 5.7597 - 0
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7597
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759700000000000e+00
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7597
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7597
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   initial_price: 4.343746900000000e-02
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   final_price: 3.506517900000000e-02
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8072564955384487
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7597 = 5.7597 - 0
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7597
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759700000000000e+00
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7597
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -     PnL: 5.759700000000000e-03
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759700000000000e-03
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -     PnL: 5.759700000000000e-03
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759700000000000e-03
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for moonpig-SOL
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   position_id: pos_05-29-03-04-35_10991668
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   investment_sol: 6.1 (from CSV: 6.1)
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.68084 (from CSV: -0.68084)
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   close_reason: SL
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   Total points: 46
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748487600, 'close': 0.03946315, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748649600, 'close': 0.028735036, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   Valid prices: 46
2025-07-15 17:58:17,304 - DEEP_DEBUG - DEBUG -   Min price: 1.766575300000000e-02
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   Max price: 3.946315000000000e-02
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   Price ratio: 2.2338787370116635
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   investment_sol: 6.1 (type: <class 'float'>)
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.68084 (type: <class 'float'>)
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-29 03:04:35
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-31 00:05:46
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   close_reason: SL
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   price_history length: 46
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.03946315, 0.037832318, 0.036463175, 0.037645238, 0.034765095]
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.032320795, 0.033933133, 0.028905976, 0.029375767, 0.028735036]
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   Initial price: 3.946315000000000e-02
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   Final price: 2.873503600000000e-02
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   Price ratio: 0.728148563913423
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   initial_sol: 6.1
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   initial_price: 3.946315000000000e-02
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   final_price: 2.873503600000000e-02
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   price_ratio: 0.728148563913423
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 6.1 = 6.1 - 0
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   Remaining SOL: 6.1
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   Final asset value: 6.100000000000000e+00
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   Initial SOL: 6.1
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   initial_sol: 6.1
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   initial_price: 3.946315000000000e-02
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   final_price: 2.873503600000000e-02
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   price_ratio: 0.728148563913423
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 6.1 = 6.1 - 0
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   Remaining SOL: 6.1
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   Final asset value: 6.100000000000000e+00
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   Initial SOL: 6.1
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -     PnL: 6.100000000000000e-03
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -     PnL from fees: 6.100000000000000e-03
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -     PnL: 3.660000000000000e-03
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -     PnL from fees: 3.660000000000000e-03
2025-07-15 17:58:17,305 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for SPX6900 (Wormhole)-SOL
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   position_id: pos_05-29-11-08-53_26366553
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7582 (from CSV: 5.7582)
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03392 (from CSV: 0.03392)
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   Total points: 24
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748516400, 'close': 1.169524509, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748599200, 'close': 1.168289868, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   Valid prices: 24
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   Min price: 1.062298695000000e+00
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   Max price: 1.174847906000000e+00
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1059487425991803
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7582 (type: <class 'float'>)
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03392 (type: <class 'float'>)
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-29 11:08:53
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-30 10:39:12
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   price_history length: 24
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   First 5 prices: [1.169524509, 1.153142963, 1.146991005, 1.14990733, 1.109150093]
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   Last 5 prices: [1.090260715, 1.090260715, 1.104945617, 1.150028092, 1.168289868]
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   Initial price: 1.169524509000000e+00
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   Final price: 1.168289868000000e+00
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9989443222519077
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7582
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   initial_price: 1.169524509000000e+00
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   final_price: 1.168289868000000e+00
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9989443222519077
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7582 = 5.7582 - 0
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7582
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   Final asset value: 5.758200000000000e+00
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7582
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7582
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   initial_price: 1.169524509000000e+00
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   final_price: 1.168289868000000e+00
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9989443222519077
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7582 = 5.7582 - 0
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7582
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   Final asset value: 5.758200000000000e+00
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7582
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -     PnL: 5.758200000000001e-03
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.758200000000001e-03
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -     PnL: 4.030740000000001e-03
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.030740000000001e-03
2025-07-15 17:58:17,306 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for GIGACHAD-SOL
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -   position_id: pos_05-29-11-50-38_35819123
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7592 (from CSV: 5.7592)
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.04662 (from CSV: 0.04662)
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -   Total points: 21
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748518200, 'close': 0.027624554, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748554200, 'close': 0.02902267, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -   Valid prices: 21
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -   Min price: 2.403100400000000e-02
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -   Max price: 2.902267000000000e-02
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2077177466243192
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7592 (type: <class 'float'>)
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.04662 (type: <class 'float'>)
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-29 11:50:38
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-29 21:32:39
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -   price_history length: 21
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.027624554, 0.026479243, 0.025912748, 0.026072024, 0.025983676]
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.025700726, 0.026005358, 0.027706193, 0.028075947, 0.02902267]
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -   Initial price: 2.762455400000000e-02
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -   Final price: 2.902267000000000e-02
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0506113510466089
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7592
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -   initial_price: 2.762455400000000e-02
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -   final_price: 2.902267000000000e-02
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0506113510466089
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -   active_bin_index: 4
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 4 bins): 0.33386666666666664
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG - 
Calculating token values for 4 activated bins:
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08346666666666666
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.776233317889375e-02 = 2.762455400000000e-02 * 1.004987562112089
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.006471614933358e+00 = 0.08346666666666666 / 2.776233317889375e-02
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -     Final value: 8.725583354457793e-02 = 3.006471614933358e+00 * 2.902267000000000e-02
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.725583354457793e-02 = 0.08346666666666666 * (2.902267000000000e-02 / 2.776233317889375e-02)
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08346666666666666
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.803995651068269e-02 = 2.762455400000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.976704569240949e+00 = 0.08346666666666666 / 2.803995651068269e-02
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -     Final value: 8.639191440057221e-02 = 2.976704569240949e+00 * 2.902267000000000e-02
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.639191440057221e-02 = 0.08346666666666666 * (2.902267000000000e-02 / 2.803995651068269e-02)
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08346666666666666
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.832035607578952e-02 = 2.762455400000000e-02 * 1.025187812110542
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.947232246773216e+00 = 0.08346666666666666 / 2.832035607578952e-02
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -     Final value: 8.553654891145762e-02 = 2.947232246773216e+00 * 2.902267000000000e-02
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.553654891145762e-02 = 0.08346666666666666 * (2.902267000000000e-02 / 2.832035607578952e-02)
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08346666666666666
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.860355963654742e-02 = 2.762455400000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.918051729478432e+00 = 0.08346666666666666 / 2.860355963654742e-02
2025-07-15 17:58:17,307 - DEEP_DEBUG - DEBUG -     Final value: 8.468965238758180e-02 = 2.918051729478432e+00 * 2.902267000000000e-02
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.468965238758180e-02 = 0.08346666666666666 * (2.902267000000000e-02 / 2.860355963654742e-02)
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.425333333333334 = 5.7592 - 0.33386666666666664
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -   Total token value: 3.438739492441896e-01
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.425333333333334
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -   Final asset value: 5.769207282577523e+00
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7592
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.000728257752304e-02
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7592
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -   initial_price: 2.762455400000000e-02
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -   final_price: 2.902267000000000e-02
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0506113510466089
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -   active_bin_index: 4
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 4 bins): 0.4759642765135252
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG - 
Calculating token values for 4 activated bins:
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12428613138686134
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.776233317889375e-02 = 2.762455400000000e-02 * 1.004987562112089
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.476789849973761e+00 = 0.12428613138686134 / 2.776233317889375e-02
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -     Final value: 1.299283944751380e-01 = 4.476789849973761e+00 * 2.902267000000000e-02
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.299283944751380e-01 = 0.12428613138686134 * (2.902267000000000e-02 / 2.776233317889375e-02)
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12068441391155006
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.803995651068269e-02 = 2.762455400000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.304015730750923e+00 = 0.12068441391155006 / 2.803995651068269e-02
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -     Final value: 1.249140282283929e-01 = 4.304015730750923e+00 * 2.902267000000000e-02
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.249140282283929e-01 = 0.12068441391155006 * (2.902267000000000e-02 / 2.803995651068269e-02)
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11719021039072565
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.832035607578952e-02 = 2.762455400000000e-02 * 1.025187812110542
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.138020372240627e+00 = 0.11719021039072565 / 2.832035607578952e-02
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -     Final value: 1.200963997168169e-01 = 4.138020372240627e+00 * 2.902267000000000e-02
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.200963997168169e-01 = 0.11719021039072565 * (2.902267000000000e-02 / 2.832035607578952e-02)
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11380352082438817
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.860355963654742e-02 = 2.762455400000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.978648890922612e+00 = 0.11380352082438817 / 2.860355963654742e-02
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -     Final value: 1.154710138071130e-01 = 3.978648890922612e+00 * 2.902267000000000e-02
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.154710138071130e-01 = 0.11380352082438817 * (2.902267000000000e-02 / 2.860355963654742e-02)
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.283235723486475 = 5.7592 - 0.4759642765135252
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -   Total token value: 4.904098362274607e-01
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.283235723486475
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -   Final asset value: 5.773645559713936e+00
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7592
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.444555971393591e-02
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -     PnL: 1.576648257752303e-02
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759200000000000e-03
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.000728257752304e-02
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -     PnL: 1.847699971393591e-02
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.031440000000000e-03
2025-07-15 17:58:17,308 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.444555971393591e-02
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for GIGACHAD-SOL
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   position_id: pos_05-29-21-39-40_35850676
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7599 (from CSV: 5.7599)
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01052 (from CSV: 0.01052)
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   Total points: 6
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748554200, 'close': 0.029184224, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748557200, 'close': 0.029383346, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   Valid prices: 6
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   Min price: 2.790322500000000e-02
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   Max price: 2.938334600000000e-02
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0530448003770174
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7599 (type: <class 'float'>)
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01052 (type: <class 'float'>)
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-29 21:39:40
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-29 22:21:58
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   price_history length: 6
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.029184224, 0.027903225, 0.02902267, 0.029214498, 0.029290788]
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.027903225, 0.02902267, 0.029214498, 0.029290788, 0.029383346]
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   Initial price: 2.918422400000000e-02
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   Final price: 2.938334600000000e-02
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0068229328283664
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7599
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   initial_price: 2.918422400000000e-02
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   final_price: 2.938334600000000e-02
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0068229328283664
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7599 = 5.7599 - 0
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7599
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759900000000000e+00
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7599
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7599
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   initial_price: 2.918422400000000e-02
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   final_price: 2.938334600000000e-02
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0068229328283664
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7599 = 5.7599 - 0
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7599
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   Final asset value: 5.759900000000000e+00
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7599
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -     PnL: 5.759900000000000e-03
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.759900000000000e-03
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -     PnL: 4.031930000000000e-03
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.031930000000000e-03
2025-07-15 17:58:17,309 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for GIGACHAD-SOL
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   position_id: pos_05-29-22-23-54_35853711
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7589 (from CSV: 5.7589)
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01163 (from CSV: 0.01163)
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   Total points: 42
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748556000, 'close': 0.026741768, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748703600, 'close': 0.022934131, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   Valid prices: 42
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   Min price: 2.026653200000000e-02
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   Max price: 2.790013300000000e-02
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   Price ratio: 1.3766604468884958
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7589 (type: <class 'float'>)
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01163 (type: <class 'float'>)
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-29 22:23:54
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-31 15:23:09
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   price_history length: 42
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.026741768, 0.026741768, 0.026741768, 0.026905519, 0.027900133]
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.0212687, 0.021489028, 0.022576986, 0.022708171, 0.022934131]
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   Initial price: 2.674176800000000e-02
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   Final price: 2.293413100000000e-02
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   Price ratio: 0.8576146124669095
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7589
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   initial_price: 2.674176800000000e-02
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   final_price: 2.293413100000000e-02
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8576146124669095
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7589 = 5.7589 - 0
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7589
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   Final asset value: 5.758900000000000e+00
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7589
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7589
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   initial_price: 2.674176800000000e-02
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   final_price: 2.293413100000000e-02
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8576146124669095
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.7589 = 5.7589 - 0
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.7589
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   Final asset value: 5.758900000000000e+00
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7589
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -     PnL: 5.758900000000000e-03
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.758900000000000e-03
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -     PnL: 4.031229999999999e-03
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.031229999999999e-03
2025-07-15 17:58:17,310 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG -   position_id: pos_05-30-08-15-19_11093433
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG -   investment_sol: 6.1 (from CSV: 6.1)
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01286 (from CSV: 0.01286)
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG -   Total points: 19
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748592600, 'close': 0.06269823, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748603400, 'close': 0.064686117, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG -   Valid prices: 19
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG -   Min price: 5.486500100000000e-02
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG -   Max price: 6.544771600000000e-02
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG -   Price ratio: 1.19288644503989
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG -   investment_sol: 6.1 (type: <class 'float'>)
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01286 (type: <class 'float'>)
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-30 08:15:19
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-30 11:14:39
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG -   price_history length: 19
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.06269823, 0.059762272, 0.058298337, 0.057832159, 0.05702052]
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.058095334, 0.057627423, 0.06382797, 0.065447716, 0.064686117]
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG -   Initial price: 6.269822999999999e-02
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG -   Final price: 6.468611700000000e-02
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0317056318814743
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG -   initial_sol: 6.1
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG -   initial_price: 6.269822999999999e-02
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG -   final_price: 6.468611700000000e-02
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0317056318814743
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.26521739130434785
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:17,311 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08840579710144927
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.301094131644304e-02 = 6.269822999999999e-02 * 1.004987562112089
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.403022955290771e+00 = 0.08840579710144927 / 6.301094131644304e-02
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     Final value: 9.075610703962461e-02 = 1.403022955290771e+00 * 6.468611700000000e-02
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.075610703962460e-02 = 0.08840579710144927 * (6.468611700000000e-02 / 6.301094131644304e-02)
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08840579710144927
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.364105072960746e-02 = 6.269822999999999e-02 * 1.0150374377332099
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.389131638901754e+00 = 0.08840579710144927 / 6.364105072960746e-02
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     Final value: 8.985753172240060e-02 = 1.389131638901754e+00 * 6.468611700000000e-02
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.985753172240060e-02 = 0.08840579710144927 * (6.468611700000000e-02 / 6.364105072960746e-02)
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08840579710144927
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.427746123690355e-02 = 6.269822999999999e-02 * 1.025187812110542
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.375377860298766e+00 = 0.08840579710144927 / 6.427746123690355e-02
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     Final value: 8.896785319049563e-02 = 1.375377860298766e+00 * 6.468611700000000e-02
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.896785319049565e-02 = 0.08840579710144927 * (6.468611700000000e-02 / 6.427746123690355e-02)
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.834782608695652 = 6.1 - 0.26521739130434785
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -   Total token value: 2.695814919525208e-01
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.834782608695652
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -   Final asset value: 6.104364100648173e+00
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -   Initial SOL: 6.1
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -   PnL from assets: 4.364100648173164e-03
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -   initial_sol: 6.1
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -   initial_price: 6.269822999999999e-02
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -   final_price: 6.468611700000000e-02
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0317056318814743
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.3835915769036907
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1316407489685814
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.301094131644304e-02 = 6.269822999999999e-02 * 1.004987562112089
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.089172867732243e+00 = 0.1316407489685814 / 6.301094131644304e-02
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     Final value: 1.351404805553534e-01 = 2.089172867732243e+00 * 6.468611700000000e-02
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.351404805553534e-01 = 0.1316407489685814 * (6.468611700000000e-02 / 6.301094131644304e-02)
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12782590027442273
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.364105072960746e-02 = 6.269822999999999e-02 * 1.0150374377332099
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.008544780593241e+00 = 0.12782590027442273 / 6.364105072960746e-02
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     Final value: 1.299249626771937e-01 = 2.008544780593241e+00 * 6.468611700000000e-02
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.299249626771937e-01 = 0.12782590027442273 * (6.468611700000000e-02 / 6.364105072960746e-02)
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12412492766068663
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.427746123690355e-02 = 6.269822999999999e-02 * 1.025187812110542
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.931080121587362e+00 = 0.12412492766068663 / 6.427746123690355e-02
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     Final value: 1.249140746813743e-01 = 1.931080121587362e+00 * 6.468611700000000e-02
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.249140746813743e-01 = 0.12412492766068663 * (6.468611700000000e-02 / 6.427746123690355e-02)
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.716408423096309 = 6.1 - 0.3835915769036907
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -   Total token value: 3.899795179139214e-01
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.716408423096309
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -   Final asset value: 6.106387941010230e+00
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -   Initial SOL: 6.1
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -   PnL from assets: 6.387941010229881e-03
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     PnL: 1.046410064817316e-02
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     PnL from fees: 6.100000000000000e-03
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     PnL from IL: 4.364100648173164e-03
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     PnL: 1.065794101022988e-02
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.269999999999999e-03
2025-07-15 17:58:17,312 - DEEP_DEBUG - DEBUG -     PnL from IL: 6.387941010229881e-03
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   position_id: pos_05-30-12-04-03_26456341
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7586 (from CSV: 5.7586)
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.05095 (from CSV: 0.05095)
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   Total points: 17
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748606400, 'close': 0.065250053, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1748616000, 'close': 0.066935389, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   Valid prices: 17
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   Min price: 5.862079700000000e-02
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   Max price: 6.693538900000000e-02
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1418368979186686
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   investment_sol: 5.7586 (type: <class 'float'>)
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.05095 (type: <class 'float'>)
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-05-30 12:04:03
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-05-30 14:48:12
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   price_history length: 17
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.065250053, 0.062550738, 0.061636567, 0.062697296, 0.063518592]
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.062973388, 0.064900183, 0.06328621, 0.066908101, 0.066935389]
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   Initial price: 6.525005300000000e-02
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   Final price: 6.693538900000000e-02
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0258288832347768
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7586
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   initial_price: 6.525005300000000e-02
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   final_price: 6.693538900000000e-02
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0258288832347768
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   active_bin_index: 2
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 2 bins): 0.16691594202898552
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG - 
Calculating token values for 2 activated bins:
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08345797101449276
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.557549169215460e-02 = 6.525005300000000e-02 * 1.004987562112089
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.272700651735679e+00 = 0.08345797101449276 / 6.557549169215460e-02
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -     Final value: 8.518871320448120e-02 = 1.272700651735679e+00 * 6.693538900000000e-02
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.518871320448120e-02 = 0.08345797101449276 * (6.693538900000000e-02 / 6.557549169215460e-02)
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08345797101449276
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.623124660907614e-02 = 6.525005300000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.260099655183841e+00 = 0.08345797101449276 / 6.623124660907614e-02
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -     Final value: 8.434526059849623e-02 = 1.260099655183841e+00 * 6.693538900000000e-02
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.434526059849623e-02 = 0.08345797101449276 * (6.693538900000000e-02 / 6.623124660907614e-02)
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.5916840579710145 = 5.7586 - 0.16691594202898552
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   Total token value: 1.695339738029774e-01
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.5916840579710145
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   Final asset value: 5.761218031773992e+00
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7586
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.618031773991447e-03
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   initial_sol: 5.7586
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   initial_price: 6.525005300000000e-02
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   final_price: 6.693538900000000e-02
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0258288832347768
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   active_bin_index: 2
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 2 bins): 0.2449450239886498
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG - 
Calculating token values for 2 activated bins:
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.124273183116471
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.557549169215460e-02 = 6.525005300000000e-02 * 1.004987562112089
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.895116298934880e+00 = 0.124273183116471 / 6.557549169215460e-02
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -     Final value: 1.268503466694465e-01 = 1.895116298934880e+00 * 6.693538900000000e-02
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.268503466694465e-01 = 0.124273183116471 * (6.693538900000000e-02 / 6.557549169215460e-02)
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12067184087217882
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -     Avg bin price: 6.623124660907614e-02 = 6.525005300000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.821977496278053e+00 = 0.12067184087217882 / 6.623124660907614e-02
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -     Final value: 1.219547724626175e-01 = 1.821977496278053e+00 * 6.693538900000000e-02
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.219547724626175e-01 = 0.12067184087217882 * (6.693538900000000e-02 / 6.623124660907614e-02)
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.513654976011351 = 5.7586 - 0.2449450239886498
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   Total token value: 2.488051191320640e-01
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.513654976011351
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   Final asset value: 5.762460095143415e+00
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.7586
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   PnL from assets: 3.860095143414455e-03
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -     PnL: 8.376631773991448e-03
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.758600000000001e-03
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.618031773991447e-03
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -     PnL: 7.891115143414455e-03
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.031020000000001e-03
2025-07-15 17:58:17,313 - DEEP_DEBUG - DEBUG -     PnL from IL: 3.860095143414455e-03
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for alon-SOL
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   position_id: pos_06-03-10-19-55_36535072
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8269 (from CSV: 5.8269)
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.71807 (from CSV: -0.71807)
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   close_reason: SL
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   Total points: 22
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1748944800, 'close': 0.017889923, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749020400, 'close': 0.012138522, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   Valid prices: 22
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   Min price: 1.213852200000000e-02
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   Max price: 1.950814500000000e-02
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   Price ratio: 1.6071268808508976
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8269 (type: <class 'float'>)
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.71807 (type: <class 'float'>)
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-03 10:19:55
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-04 07:05:10
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   close_reason: SL
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   price_history length: 22
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.017889923, 0.019508145, 0.016839918, 0.014622399, 0.015204252]
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.016212531, 0.015902132, 0.014814263, 0.012774208, 0.012138522]
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   Initial price: 1.788992300000000e-02
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   Final price: 1.213852200000000e-02
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   Price ratio: 0.6785116962213869
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8269
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   initial_price: 1.788992300000000e-02
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   final_price: 1.213852200000000e-02
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   price_ratio: 0.6785116962213869
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.8269 = 5.8269 - 0
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.8269
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   Final asset value: 5.826900000000000e+00
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8269
2025-07-15 17:58:17,314 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,315 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,315 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,315 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,315 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,315 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8269
2025-07-15 17:58:17,315 - DEEP_DEBUG - DEBUG -   initial_price: 1.788992300000000e-02
2025-07-15 17:58:17,315 - DEEP_DEBUG - DEBUG -   final_price: 1.213852200000000e-02
2025-07-15 17:58:17,315 - DEEP_DEBUG - DEBUG -   price_ratio: 0.6785116962213869
2025-07-15 17:58:17,315 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,315 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,315 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,315 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,315 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,315 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.8269 = 5.8269 - 0
2025-07-15 17:58:17,315 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,315 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,315 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.8269
2025-07-15 17:58:17,315 - DEEP_DEBUG - DEBUG -   Final asset value: 5.826900000000000e+00
2025-07-15 17:58:17,315 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8269
2025-07-15 17:58:17,315 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,315 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,315 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,315 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,315 - DEEP_DEBUG - DEBUG -     PnL: 5.826900000000000e-03
2025-07-15 17:58:17,315 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.826900000000000e-03
2025-07-15 17:58:17,315 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,315 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,315 - DEEP_DEBUG - DEBUG -     PnL: 3.496140000000000e-03
2025-07-15 17:58:17,315 - DEEP_DEBUG - DEBUG -     PnL from fees: 3.496140000000000e-03
2025-07-15 17:58:17,315 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   position_id: pos_06-05-14-13-03_27517972
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8099 (from CSV: 5.8099)
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03815 (from CSV: 0.03815)
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   Total points: 35
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749132000, 'close': 0.021750189, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749254400, 'close': 0.020181982, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   Valid prices: 35
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   Min price: 1.857687700000000e-02
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   Max price: 2.403365000000000e-02
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2937400619059922
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8099 (type: <class 'float'>)
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03815 (type: <class 'float'>)
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-05 14:13:03
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-07 00:00:33
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   price_history length: 35
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.021750189, 0.021168785, 0.02045387, 0.020450715, 0.020040456]
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.020831167, 0.021278702, 0.020654558, 0.020510356, 0.020181982]
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   Initial price: 2.175018900000000e-02
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   Final price: 2.018198200000000e-02
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9278991552671106
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8099
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   initial_price: 2.175018900000000e-02
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   final_price: 2.018198200000000e-02
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9278991552671106
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.8099 = 5.8099 - 0
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.8099
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   Final asset value: 5.809900000000000e+00
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8099
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8099
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   initial_price: 2.175018900000000e-02
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   final_price: 2.018198200000000e-02
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9278991552671106
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.8099 = 5.8099 - 0
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.8099
2025-07-15 17:58:17,316 - DEEP_DEBUG - DEBUG -   Final asset value: 5.809900000000000e+00
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8099
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -     PnL: 5.809900000000000e-03
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.809900000000000e-03
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -     PnL: 5.809900000000000e-03
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.809900000000000e-03
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for catwifmask-SOL
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -   position_id: pos_06-05-14-44-27_3871990
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -   investment_sol: 5.827 (from CSV: 5.827)
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.18727 (from CSV: 0.18727)
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -   Total points: 16
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749133800, 'close': 0.024679854, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749160800, 'close': 0.021385979, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -   Valid prices: 16
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -   Min price: 1.667558900000000e-02
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -   Max price: 2.631878400000000e-02
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -   Price ratio: 1.5782821224485684
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -   investment_sol: 5.827 (type: <class 'float'>)
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.18727 (type: <class 'float'>)
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-05 14:44:27
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-05 22:23:57
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -   price_history length: 16
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.024679854, 0.024254619, 0.026318784, 0.023419299, 0.022038362]
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.017761518, 0.016675589, 0.018692742, 0.018396592, 0.021385979]
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -   Initial price: 2.467985400000000e-02
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -   Final price: 2.138597900000000e-02
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG -   Price ratio: 0.8665358798313798
2025-07-15 17:58:17,317 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   initial_sol: 5.827
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   initial_price: 2.467985400000000e-02
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   final_price: 2.138597900000000e-02
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8665358798313798
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.827 = 5.827 - 0
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.827
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   Final asset value: 5.827000000000000e+00
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.827
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   initial_sol: 5.827
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   initial_price: 2.467985400000000e-02
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   final_price: 2.138597900000000e-02
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8665358798313798
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.827 = 5.827 - 0
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.827
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   Final asset value: 5.827000000000000e+00
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.827
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -     PnL: 5.827000000000000e-03
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.827000000000000e-03
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -     PnL: 5.827000000000000e-03
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.827000000000000e-03
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for catwifmask-SOL
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   position_id: pos_06-05-23-24-16_3906280
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   investment_sol: 5.83 (from CSV: 5.83)
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.12005 (from CSV: 0.12005)
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   Total points: 13
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749164400, 'close': 0.018644273, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749186000, 'close': 0.021217356, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   Valid prices: 13
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   Min price: 1.754959100000000e-02
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   Max price: 2.273868100000000e-02
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2956815346864778
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,318 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -   investment_sol: 5.83 (type: <class 'float'>)
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.12005 (type: <class 'float'>)
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-05 23:24:16
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-06 05:02:01
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -   price_history length: 13
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.018644273, 0.018644273, 0.018644273, 0.020514253, 0.020667028]
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.017549591, 0.018924932, 0.020323859, 0.022738681, 0.021217356]
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -   Initial price: 1.864427300000000e-02
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -   Final price: 2.121735600000000e-02
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1380092964740434
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -   initial_sol: 5.83
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -   initial_price: 1.864427300000000e-02
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -   final_price: 2.121735600000000e-02
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1380092964740434
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -   active_bin_index: 12
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 12 bins): 1.0139130434782608
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG - 
Calculating token values for 12 activated bins:
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08449275362318841
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.873726246962224e-02 = 1.864427300000000e-02 * 1.004987562112089
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.509343547926073e+00 = 0.08449275362318841 / 1.873726246962224e-02
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Final value: 9.567634738265055e-02 = 4.509343547926073e+00 * 2.121735600000000e-02
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.567634738265055e-02 = 0.08449275362318841 * (2.121735600000000e-02 / 1.873726246962224e-02)
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08449275362318841
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.892463509431846e-02 = 1.864427300000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.464696582105022e+00 = 0.08449275362318841 / 1.892463509431846e-02
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Final value: 9.472905681450548e-02 = 4.464696582105022e+00 * 2.121735600000000e-02
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.472905681450550e-02 = 0.08449275362318841 * (2.121735600000000e-02 / 1.892463509431846e-02)
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08449275362318841
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.911388144526165e-02 = 1.864427300000000e-02 * 1.025187812110542
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.420491665450517e+00 = 0.08449275362318841 / 1.911388144526165e-02
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Final value: 9.379114536089651e-02 = 4.420491665450517e+00 * 2.121735600000000e-02
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.379114536089651e-02 = 0.08449275362318841 * (2.121735600000000e-02 / 1.911388144526165e-02)
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08449275362318841
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.930502025971427e-02 = 1.864427300000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.376724421238135e+00 = 0.08449275362318841 / 1.930502025971427e-02
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Final value: 9.286252015930348e-02 = 4.376724421238135e+00 * 2.121735600000000e-02
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.286252015930348e-02 = 0.08449275362318841 * (2.121735600000000e-02 / 1.930502025971427e-02)
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08449275362318841
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.949807046231141e-02 = 1.864427300000000e-02 * 1.045794087133964
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.333390516077362e+00 = 0.08449275362318841 / 1.949807046231141e-02
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Final value: 9.194308926663711e-02 = 4.333390516077362e+00 * 2.121735600000000e-02
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Alt calculation: 9.194308926663711e-02 = 0.08449275362318841 * (2.121735600000000e-02 / 1.949807046231141e-02)
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 7 more bins processed)
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.8160869565217395 = 5.83 - 1.0139130434782608
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -   Total token value: 1.087613149193478e+00
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.8160869565217395
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -   Final asset value: 5.903700105715217e+00
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.83
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -   PnL from assets: 7.370010571521668e-02
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -   initial_sol: 5.83
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -   initial_price: 1.864427300000000e-02
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -   final_price: 2.121735600000000e-02
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1380092964740434
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -   active_bin_index: 12
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 12 bins): 1.2930765209924024
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG - 
Calculating token values for 12 activated bins:
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1258140272929229
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.873726246962224e-02 = 1.864427300000000e-02 * 1.004987562112089
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.714642947276781e+00 = 0.1258140272929229 / 1.873726246962224e-02
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Final value: 1.424669698252607e-01 = 6.714642947276781e+00 * 2.121735600000000e-02
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.424669698252607e-01 = 0.1258140272929229 * (2.121735600000000e-02 / 1.873726246962224e-02)
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12216803255735813
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.892463509431846e-02 = 1.864427300000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.455502679363962e+00 = 0.12216803255735813 / 1.892463509431846e-02
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Final value: 1.369686985070190e-01 = 6.455502679363962e+00 * 2.121735600000000e-02
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.369686985070191e-01 = 0.12216803255735813 * (2.121735600000000e-02 / 1.892463509431846e-02)
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11863087348554148
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.911388144526165e-02 = 1.864427300000000e-02 * 1.025187812110542
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.206529732083809e+00 = 0.11863087348554148 / 1.911388144526165e-02
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Final value: 1.316861508502068e-01 = 6.206529732083809e+00 * 2.121735600000000e-02
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.316861508502068e-01 = 0.11863087348554148 * (2.121735600000000e-02 / 1.911388144526165e-02)
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1152025500774731
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.930502025971427e-02 = 1.864427300000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.967491798901547e+00 = 0.1152025500774731 / 1.930502025971427e-02
2025-07-15 17:58:17,319 - DEEP_DEBUG - DEBUG -     Final value: 1.266143979243745e-01 = 5.967491798901547e+00 * 2.121735600000000e-02
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.266143979243745e-01 = 0.1152025500774731 * (2.121735600000000e-02 / 1.930502025971427e-02)
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1118830623331529
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.949807046231141e-02 = 1.864427300000000e-02 * 1.045794087133964
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.738160734900209e+00 = 0.1118830623331529 / 1.949807046231141e-02
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG -     Final value: 1.217485990975994e-01 = 5.738160734900209e+00 * 2.121735600000000e-02
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.217485990975994e-01 = 0.1118830623331529 * (2.121735600000000e-02 / 1.949807046231141e-02)
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 7 more bins processed)
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 4.536923479007598 = 5.83 - 1.2930765209924024
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG -   Total token value: 1.391805786399102e+00
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG -   Remaining SOL: 4.536923479007598
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG -   Final asset value: 5.928729265406700e+00
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.83
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG -   PnL from assets: 9.872926540669980e-02
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG -     PnL: 7.953010571521668e-02
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.830000000000000e-03
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG -     PnL from IL: 7.370010571521668e-02
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG -     PnL: 1.028102654066998e-01
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.081000000000000e-03
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG -     PnL from IL: 9.872926540669980e-02
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for catwifmask-SOL
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG -   position_id: pos_06-06-05-03-58_3930426
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8298 (from CSV: 5.8298)
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02139 (from CSV: 0.02139)
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG -   Total points: 9
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749186000, 'close': 0.021217356, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749190800, 'close': 0.022699902, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG -   Valid prices: 9
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG -   Min price: 2.071321200000000e-02
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG -   Max price: 2.374375800000000e-02
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG -   Price ratio: 1.146309804582698
2025-07-15 17:58:17,320 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8298 (type: <class 'float'>)
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02139 (type: <class 'float'>)
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-06 05:03:58
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-06 06:20:58
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -   price_history length: 9
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.021217356, 0.021217356, 0.021217356, 0.020713212, 0.021575604]
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.021575604, 0.021575604, 0.022733296, 0.023743758, 0.022699902]
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -   Initial price: 2.121735600000000e-02
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -   Final price: 2.269990200000000e-02
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0698742105283996
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8298
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -   initial_price: 2.121735600000000e-02
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -   final_price: 2.269990200000000e-02
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0698742105283996
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -   active_bin_index: 6
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 6 bins): 0.5069391304347826
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG - 
Calculating token values for 6 activated bins:
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08448985507246376
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.132317888090430e-02 = 2.121735600000000e-02 * 1.004987562112089
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.962347994375621e+00 = 0.08448985507246376 / 2.132317888090430e-02
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Final value: 8.994491116222315e-02 = 3.962347994375621e+00 * 2.269990200000000e-02
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.994491116222315e-02 = 0.08448985507246376 * (2.269990200000000e-02 / 2.132317888090430e-02)
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08448985507246376
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.153641066971335e-02 = 2.121735600000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.923116826114476e+00 = 0.08448985507246376 / 2.153641066971335e-02
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Final value: 8.905436748734966e-02 = 3.923116826114476e+00 * 2.269990200000000e-02
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.905436748734966e-02 = 0.08448985507246376 * (2.269990200000000e-02 / 2.153641066971335e-02)
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08448985507246376
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.175177477641048e-02 = 2.121735600000000e-02 * 1.025187812110542
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.884274085261858e+00 = 0.08448985507246376 / 2.175177477641048e-02
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Final value: 8.817264107658382e-02 = 3.884274085261858e+00 * 2.269990200000000e-02
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.817264107658380e-02 = 0.08448985507246376 * (2.269990200000000e-02 / 2.175177477641048e-02)
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08448985507246376
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.196929252417458e-02 = 2.121735600000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.845815926001839e+00 = 0.08448985507246376 / 2.196929252417458e-02
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Final value: 8.729964463028100e-02 = 3.845815926001839e+00 * 2.269990200000000e-02
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.729964463028100e-02 = 0.08448985507246376 * (2.269990200000000e-02 / 2.196929252417458e-02)
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.08448985507246376
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.218898544941633e-02 = 2.121735600000000e-02 * 1.045794087133964
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.807738540595880e+00 = 0.08448985507246376 / 2.218898544941633e-02
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Final value: 8.643529171314951e-02 = 3.807738540595880e+00 * 2.269990200000000e-02
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Alt calculation: 8.643529171314950e-02 = 0.08448985507246376 * (2.269990200000000e-02 / 2.218898544941633e-02)
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 1 more bins processed)
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.322860869565217 = 5.8298 - 0.5069391304347826
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -   Total token value: 5.264863528152797e-01
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.322860869565217
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -   Final asset value: 5.849347222380496e+00
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8298
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.954722238049644e-02
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8298
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -   initial_price: 2.121735600000000e-02
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -   final_price: 2.269990200000000e-02
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0698742105283996
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -   active_bin_index: 6
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 6 bins): 0.7023468609405046
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG - 
Calculating token values for 6 activated bins:
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12580971120279277
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.132317888090430e-02 = 2.121735600000000e-02 * 1.004987562112089
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.900138619362240e+00 = 0.12580971120279277 / 2.132317888090430e-02
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Final value: 1.339325684459381e-01 = 5.900138619362240e+00 * 2.269990200000000e-02
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.339325684459381e-01 = 0.12580971120279277 * (2.269990200000000e-02 / 2.132317888090430e-02)
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.12216384154423436
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.153641066971335e-02 = 2.121735600000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.672432765968443e+00 = 0.12216384154423436 / 2.153641066971335e-02
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Final value: 1.287636678890726e-01 = 5.672432765968443e+00 * 2.269990200000000e-02
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.287636678890726e-01 = 0.12216384154423436 * (2.269990200000000e-02 / 2.153641066971335e-02)
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11862680381578211
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.175177477641048e-02 = 2.121735600000000e-02 * 1.025187812110542
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.453660909749368e+00 = 0.11862680381578211 / 2.175177477641048e-02
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Final value: 1.237975681925415e-01 = 5.453660909749368e+00 * 2.269990200000000e-02
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.237975681925415e-01 = 0.11862680381578211 * (2.269990200000000e-02 / 2.175177477641048e-02)
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11519859801743614
2025-07-15 17:58:17,321 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.196929252417458e-02 = 2.121735600000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.243618923580440e+00 = 0.11519859801743614 / 2.196929252417458e-02
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -     Final value: 1.190296356906215e-01 = 5.243618923580440e+00 * 2.269990200000000e-02
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.190296356906215e-01 = 0.11519859801743614 * (2.269990200000000e-02 / 2.196929252417458e-02)
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.11187922414919636
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.218898544941633e-02 = 2.121735600000000e-02 * 1.045794087133964
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.042106337139415e+00 = 0.11187922414919636 / 2.218898544941633e-02
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -     Final value: 1.144553197266437e-01 = 5.042106337139415e+00 * 2.269990200000000e-02
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.144553197266437e-01 = 0.11187922414919636 * (2.269990200000000e-02 / 2.218898544941633e-02)
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 1 more bins processed)
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.1274531390594955 = 5.8298 - 0.7023468609405046
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -   Total token value: 7.300489112980687e-01
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.1274531390594955
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -   Final asset value: 5.857502050357565e+00
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8298
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.770205035756490e-02
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -     PnL: 2.537702238049644e-02
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.829800000000000e-03
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.954722238049644e-02
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -     PnL: 3.178291035756490e-02
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.080860000000000e-03
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.770205035756490e-02
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for LABUBU-SOL
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -   position_id: pos_06-06-11-59-08_27685301
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8079 (from CSV: 5.8079)
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01558 (from CSV: 0.01558)
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -   Total points: 20
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749209400, 'close': 0.02403365, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749243600, 'close': 0.021450862, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -   Valid prices: 20
2025-07-15 17:58:17,322 - DEEP_DEBUG - DEBUG -   Min price: 2.083116700000000e-02
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   Max price: 2.441778400000000e-02
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1721755194992196
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8079 (type: <class 'float'>)
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01558 (type: <class 'float'>)
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-06 11:59:08
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-06 21:29:11
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   price_history length: 20
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.02403365, 0.024188081, 0.023119936, 0.022778434, 0.022881845]
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.021466597, 0.021704261, 0.02130093, 0.020831167, 0.021450862]
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   Initial price: 2.403365000000000e-02
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   Final price: 2.145086200000000e-02
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   Price ratio: 0.8925345089073029
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8079
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   initial_price: 2.403365000000000e-02
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   final_price: 2.145086200000000e-02
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8925345089073029
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.8079 = 5.8079 - 0
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.8079
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   Final asset value: 5.807900000000000e+00
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8079
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8079
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   initial_price: 2.403365000000000e-02
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   final_price: 2.145086200000000e-02
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8925345089073029
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.8079 = 5.8079 - 0
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.8079
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   Final asset value: 5.807900000000000e+00
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8079
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -     PnL: 5.807900000000000e-03
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.807900000000000e-03
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -     PnL: 5.807900000000000e-03
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.807900000000000e-03
2025-07-15 17:58:17,323 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for KILL BIG BEAUTIFUL BILL-SOL
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   position_id: pos_06-06-13-31-43_4031915
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8299 (from CSV: 5.8299)
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.53439 (from CSV: -0.53439)
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   close_reason: SL
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   Total points: 17
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749216600, 'close': 0.044741014, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749226200, 'close': 0.027104298, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   Valid prices: 17
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   Min price: 2.710429800000000e-02
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   Max price: 4.474101400000000e-02
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   Price ratio: 1.6506981291306642
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8299 (type: <class 'float'>)
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.53439 (type: <class 'float'>)
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-06 13:31:43
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-06 16:15:31
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   close_reason: SL
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   price_history length: 17
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.044741014, 0.036364409, 0.037817953, 0.03707745, 0.038325797]
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.031630843, 0.029891622, 0.027640604, 0.027839813, 0.027104298]
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   Initial price: 4.474101400000000e-02
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   Final price: 2.710429800000000e-02
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   Price ratio: 0.6058042850794575
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8299
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   initial_price: 4.474101400000000e-02
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   final_price: 2.710429800000000e-02
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   price_ratio: 0.6058042850794575
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.8299 = 5.8299 - 0
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.8299
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   Final asset value: 5.829900000000000e+00
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8299
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8299
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   initial_price: 4.474101400000000e-02
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   final_price: 2.710429800000000e-02
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   price_ratio: 0.6058042850794575
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.8299 = 5.8299 - 0
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.8299
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   Final asset value: 5.829900000000000e+00
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8299
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -     PnL: 5.829900000000001e-03
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.829900000000001e-03
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -     PnL: 4.663920000000001e-03
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.663920000000001e-03
2025-07-15 17:58:17,324 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Collaterize-SOL
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   position_id: pos_06-06-21-47-39_27723868
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8092 (from CSV: 5.8092)
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01631 (from CSV: 0.01631)
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   Total points: 10
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749245400, 'close': 0.034251189, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749261600, 'close': 0.031645305, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   Valid prices: 10
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   Min price: 3.047639100000000e-02
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   Max price: 3.425118900000000e-02
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   Price ratio: 1.123859744416588
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8092 (type: <class 'float'>)
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01631 (type: <class 'float'>)
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-06 21:47:39
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-07 02:14:02
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   price_history length: 10
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.034251189, 0.03119037, 0.031168043, 0.030476391, 0.032036805]
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.031009697, 0.031485873, 0.032572203, 0.032595592, 0.031645305]
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   Initial price: 3.425118900000000e-02
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   Final price: 3.164530500000000e-02
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9239184368168941
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8092
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   initial_price: 3.425118900000000e-02
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   final_price: 3.164530500000000e-02
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9239184368168941
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.8092 = 5.8092 - 0
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.8092
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   Final asset value: 5.809200000000000e+00
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8092
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8092
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   initial_price: 3.425118900000000e-02
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   final_price: 3.164530500000000e-02
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9239184368168941
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.8092 = 5.8092 - 0
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.8092
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   Final asset value: 5.809200000000000e+00
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8092
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -     PnL: 5.809200000000000e-03
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.809200000000000e-03
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -     PnL: 3.246353519207936e-03
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -     PnL from fees: 3.246353519207936e-03
2025-07-15 17:58:17,325 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   position_id: pos_06-10-13-20-52_37955031
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8097 (from CSV: 5.8097)
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.09708 (from CSV: 0.09708)
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   Total points: 16
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749560400, 'close': 0.048390571, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749587400, 'close': 0.041512644, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   Valid prices: 16
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   Min price: 3.857639100000000e-02
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   Max price: 4.839057100000000e-02
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2544089725759986
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   investment_sol: 5.8097 (type: <class 'float'>)
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.09708 (type: <class 'float'>)
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-10 13:20:52
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-10 20:36:39
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   price_history length: 16
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.048390571, 0.042793578, 0.042682772, 0.040364179, 0.041446393]
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.045333856, 0.04316816, 0.043706951, 0.047808876, 0.041512644]
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   Initial price: 4.839057100000000e-02
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   Final price: 4.151264400000000e-02
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   Price ratio: 0.8578663806219604
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8097
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   initial_price: 4.839057100000000e-02
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   final_price: 4.151264400000000e-02
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8578663806219604
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.8097 = 5.8097 - 0
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.8097
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   Final asset value: 5.809700000000000e+00
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8097
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   initial_sol: 5.8097
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   initial_price: 4.839057100000000e-02
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   final_price: 4.151264400000000e-02
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8578663806219604
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.8097 = 5.8097 - 0
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.8097
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   Final asset value: 5.809700000000000e+00
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   Initial SOL: 5.8097
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,327 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -     PnL: 5.809700000000000e-03
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.809700000000000e-03
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -     PnL: 4.066790000000000e-03
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.066790000000000e-03
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -   position_id: pos_06-11-03-27-18_13856731
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1074 (from CSV: 11.1074)
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.05132 (from CSV: 0.05132)
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -   Total points: 22
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749612000, 'close': 0.041467444, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749624600, 'close': 0.045940235, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -   Valid prices: 22
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -   Min price: 4.146744400000000e-02
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -   Max price: 4.594023500000000e-02
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1078627127343563
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1074 (type: <class 'float'>)
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.05132 (type: <class 'float'>)
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-11 03:27:18
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-11 06:55:12
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -   price_history length: 22
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.041467444, 0.041467444, 0.041467444, 0.041467444, 0.041467444]
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.041467444, 0.042287992, 0.04522928, 0.04522928, 0.045940235]
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -   Initial price: 4.146744400000000e-02
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -   Final price: 4.594023500000000e-02
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1078627127343563
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1074
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -   initial_price: 4.146744400000000e-02
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -   final_price: 4.594023500000000e-02
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1078627127343563
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -   active_bin_index: 10
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 10 bins): 1.6097681159420294
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG - 
Calculating token values for 10 activated bins:
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,328 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1609768115942029
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.167426545257957e-02 = 4.146744400000000e-02 * 1.004987562112089
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.862739027215145e+00 = 0.1609768115942029 / 4.167426545257957e-02
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Final value: 1.774551386539352e-01 = 3.862739027215145e+00 * 4.594023500000000e-02
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.774551386539352e-01 = 0.1609768115942029 * (4.594023500000000e-02 / 4.167426545257957e-02)
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1609768115942029
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.209100810710537e-02 = 4.146744400000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.824494086351628e+00 = 0.1609768115942029 / 4.209100810710537e-02
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Final value: 1.756981570831041e-01 = 3.824494086351628e+00 * 4.594023500000000e-02
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.756981570831041e-01 = 0.1609768115942029 * (4.594023500000000e-02 / 4.209100810710537e-02)
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1609768115942029
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.251191818817642e-02 = 4.146744400000000e-02 * 1.025187812110542
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.786627808268939e+00 = 0.1609768115942029 / 4.251191818817642e-02
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Final value: 1.739585713694100e-01 = 3.786627808268939e+00 * 4.594023500000000e-02
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.739585713694100e-01 = 0.1609768115942029 * (4.594023500000000e-02 / 4.251191818817642e-02)
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1609768115942029
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.293703737005818e-02 = 4.146744400000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.749136443830632e+00 = 0.1609768115942029 / 4.293703737005818e-02
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Final value: 1.722362092766436e-01 = 3.749136443830632e+00 * 4.594023500000000e-02
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.722362092766435e-01 = 0.1609768115942029 * (4.594023500000000e-02 / 4.293703737005818e-02)
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1609768115942029
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.336640774375877e-02 = 4.146744400000000e-02 * 1.045794087133964
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.712016281020428e+00 = 0.1609768115942029 / 4.336640774375877e-02
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Final value: 1.705309002739045e-01 = 3.712016281020428e+00 * 4.594023500000000e-02
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.705309002739045e-01 = 0.1609768115942029 * (4.594023500000000e-02 / 4.336640774375877e-02)
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 5 more bins processed)
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.49763188405797 = 11.1074 - 1.6097681159420294
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -   Total token value: 1.697538975316602e+00
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.49763188405797
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -   Final asset value: 1.119517085937457e+01
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1074
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -   PnL from assets: 8.777085937457230e-02
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1074
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -   initial_price: 4.146744400000000e-02
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -   final_price: 4.594023500000000e-02
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1078627127343563
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -   active_bin_index: 10
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 10 bins): 2.1093215319133054
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG - 
Calculating token values for 10 activated bins:
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23970269755633136
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.167426545257957e-02 = 4.146744400000000e-02 * 1.004987562112089
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.751815777751019e+00 = 0.23970269755633136 / 4.167426545257957e-02
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Final value: 2.642397685065896e-01 = 5.751815777751019e+00 * 4.594023500000000e-02
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.642397685065896e-01 = 0.23970269755633136 * (4.594023500000000e-02 / 4.167426545257957e-02)
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23275629585379065
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.209100810710537e-02 = 4.146744400000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.529834193125423e+00 = 0.23275629585379065 / 4.209100810710537e-02
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Final value: 2.540418823432173e-01 = 5.529834193125423e+00 * 4.594023500000000e-02
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.540418823432173e-01 = 0.23275629585379065 * (4.594023500000000e-02 / 4.209100810710537e-02)
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.22601724942595255
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.251191818817642e-02 = 4.146744400000000e-02 * 1.025187812110542
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.316562015044838e+00 = 0.22601724942595255 / 4.251191818817642e-02
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Final value: 2.442441083632334e-01 = 5.316562015044838e+00 * 4.594023500000000e-02
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.442441083632334e-01 = 0.22601724942595255 * (4.594023500000000e-02 / 4.251191818817642e-02)
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21948555827281727
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.293703737005818e-02 = 4.146744400000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.111800247910766e+00 = 0.21948555827281727 / 4.293703737005818e-02
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Final value: 2.348373046620789e-01 = 5.111800247910766e+00 * 4.594023500000000e-02
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.348373046620789e-01 = 0.21948555827281727 * (4.594023500000000e-02 / 4.293703737005818e-02)
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21316122239438465
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.336640774375877e-02 = 4.146744400000000e-02 * 1.045794087133964
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.915353460999142e+00 = 0.21316122239438465 / 4.336640774375877e-02
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Final value: 2.258124931063639e-01 = 4.915353460999142e+00 * 4.594023500000000e-02
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.258124931063639e-01 = 0.21316122239438465 * (4.594023500000000e-02 / 4.336640774375877e-02)
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 5 more bins processed)
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.998078468086694 = 11.1074 - 2.1093215319133054
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -   Total token value: 2.229627205997204e+00
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.998078468086694
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -   Final asset value: 1.122770567408390e+01
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1074
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.203056740838981e-01
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     PnL: 9.887825937457230e-02
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110740000000000e-02
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     PnL from IL: 8.777085937457230e-02
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     PnL: 1.280808540838981e-01
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     PnL from fees: 7.775180000000000e-03
2025-07-15 17:58:17,329 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.203056740838981e-01
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   position_id: pos_06-11-14-42-46_5129239
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1097 (from CSV: 11.1097)
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.20393 (from CSV: 0.20393)
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   Total points: 20
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749650400, 'close': 0.05475886, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749718800, 'close': 0.041743608, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   Valid prices: 20
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   Min price: 3.912527500000000e-02
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   Max price: 5.475886000000000e-02
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   Price ratio: 1.399577638751421
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1097 (type: <class 'float'>)
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.20393 (type: <class 'float'>)
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-11 14:42:46
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-12 09:26:13
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   price_history length: 20
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.05475886, 0.052770855, 0.053164528, 0.049158371, 0.048953512]
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.041573677, 0.043412897, 0.04030268, 0.04235015, 0.041743608]
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   Initial price: 5.475886000000000e-02
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   Final price: 4.174360800000000e-02
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   Price ratio: 0.7623169656928578
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1097
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   initial_price: 5.475886000000000e-02
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   final_price: 4.174360800000000e-02
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   price_ratio: 0.7623169656928578
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.1097 = 11.1097 - 0
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.1097
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   Final asset value: 1.110970000000000e+01
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1097
2025-07-15 17:58:17,330 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1097
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -   initial_price: 5.475886000000000e-02
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -   final_price: 4.174360800000000e-02
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -   price_ratio: 0.7623169656928578
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.1097 = 11.1097 - 0
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.1097
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -   Final asset value: 1.110970000000000e+01
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1097
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -     PnL: 1.110970000000000e-02
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110970000000000e-02
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -     PnL: 3.565667865462922e-03
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -     PnL from fees: 3.565667865462922e-03
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for catwifmask-SOL
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -   position_id: pos_06-12-19-11-17_5310020
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1101 (from CSV: 11.1101)
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.69777 (from CSV: 0.69777)
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -   Total points: 22
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749754800, 'close': 0.017569859, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749830400, 'close': 0.016195327, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -   Valid prices: 22
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -   Min price: 1.477034800000000e-02
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -   Max price: 1.791865400000000e-02
2025-07-15 17:58:17,331 - DEEP_DEBUG - DEBUG -   Price ratio: 1.213150428141571
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1101 (type: <class 'float'>)
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.69777 (type: <class 'float'>)
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-12 19:11:17
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-13 16:27:23
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   close_reason: TP
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   price_history length: 22
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.017569859, 0.017690739, 0.017497743, 0.017918654, 0.017457756]
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.016931945, 0.015336538, 0.015149153, 0.014770348, 0.016195327]
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   Initial price: 1.756985900000000e-02
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   Final price: 1.619532700000000e-02
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9217676135021914
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1101
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   initial_price: 1.756985900000000e-02
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   final_price: 1.619532700000000e-02
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9217676135021914
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.1101 = 11.1101 - 0
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.1101
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111010000000000e+01
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1101
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1101
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   initial_price: 1.756985900000000e-02
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   final_price: 1.619532700000000e-02
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9217676135021914
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.1101 = 11.1101 - 0
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.1101
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111010000000000e+01
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1101
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -     PnL: 1.111010000000000e-02
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.111010000000000e-02
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -     PnL: 1.111010000000000e-02
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.111010000000000e-02
2025-07-15 17:58:17,332 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for SIGMA-SOL
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   position_id: pos_06-12-19-40-12_14207445
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   investment_sol: 11.22 (from CSV: 11.22)
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03134 (from CSV: 0.03134)
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   Total points: 22
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749757200, 'close': 0.031796191, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749769800, 'close': 0.028753458, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   Valid prices: 22
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   Min price: 2.682002300000000e-02
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   Max price: 3.284603600000000e-02
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2246833643654969
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   investment_sol: 11.22 (type: <class 'float'>)
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03134 (type: <class 'float'>)
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-12 19:40:12
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-12 23:12:31
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   price_history length: 22
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.031796191, 0.032846036, 0.027313379, 0.029101119, 0.029101119]
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.028753458, 0.028753458, 0.028753458, 0.028753458, 0.028753458]
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   Initial price: 3.179619100000000e-02
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   Final price: 2.875345800000000e-02
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9043051100051575
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   initial_sol: 11.22
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   initial_price: 3.179619100000000e-02
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   final_price: 2.875345800000000e-02
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9043051100051575
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.22 = 11.22 - 0
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.22
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   Final asset value: 1.122000000000000e+01
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.22
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   initial_sol: 11.22
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   initial_price: 3.179619100000000e-02
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   final_price: 2.875345800000000e-02
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9043051100051575
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.22 = 11.22 - 0
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.22
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   Final asset value: 1.122000000000000e+01
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.22
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -     PnL: 1.122000000000000e-02
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.122000000000000e-02
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -     PnL: 1.122000000000000e-02
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.122000000000000e-02
2025-07-15 17:58:17,333 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Shark Cat-SOL
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   position_id: pos_06-13-10-48-57_28383899
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   investment_sol: 8.8789 (from CSV: 8.8789)
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.01158 (from CSV: -0.01158)
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   Total points: 16
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749808800, 'close': 0.018682867, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749862800, 'close': 0.01196686, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   Valid prices: 16
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   Min price: 9.483752999999999e-03
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   Max price: 1.868286700000000e-02
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   Price ratio: 1.969986670888624
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   investment_sol: 8.8789 (type: <class 'float'>)
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.01158 (type: <class 'float'>)
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-13 10:48:57
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-14 01:16:39
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   price_history length: 16
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.018682867, 0.015726462, 0.014653528, 0.018370686, 0.014069854]
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.012476013, 0.011592004, 0.014087331, 0.013067303, 0.01196686]
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   Initial price: 1.868286700000000e-02
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   Final price: 1.196686000000000e-02
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   Price ratio: 0.6405258893081025
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   initial_sol: 8.8789
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   initial_price: 1.868286700000000e-02
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   final_price: 1.196686000000000e-02
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   price_ratio: 0.6405258893081025
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.8789 = 8.8789 - 0
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.8789
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   Final asset value: 8.878900000000000e+00
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.8789
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   initial_sol: 8.8789
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   initial_price: 1.868286700000000e-02
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   final_price: 1.196686000000000e-02
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   price_ratio: 0.6405258893081025
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.8789 = 8.8789 - 0
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.8789
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   Final asset value: 8.878900000000000e+00
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.8789
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -     PnL: 8.878900000000000e-03
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.878900000000000e-03
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -     PnL: 3.210531033746209e-03
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -     PnL from fees: 3.210531033746209e-03
2025-07-15 17:58:17,334 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   position_id: pos_06-13-15-17-00_14353594
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (from CSV: 9.44)
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03547 (from CSV: 0.03547)
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   Total points: 22
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749826800, 'close': 0.070981516, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749864600, 'close': 0.067946504, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   Valid prices: 22
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   Min price: 6.005876900000000e-02
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   Max price: 7.554121599999999e-02
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2577882840056211
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   investment_sol: 9.44 (type: <class 'float'>)
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03547 (type: <class 'float'>)
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-13 15:17:00
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-14 01:33:59
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   price_history length: 22
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.070981516, 0.060971463, 0.060320489, 0.066518793, 0.063084084]
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.067144234, 0.066037791, 0.065726525, 0.075541216, 0.067946504]
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   Initial price: 7.098151599999999e-02
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   Final price: 6.794650400000000e-02
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9572422206367078
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   initial_price: 7.098151599999999e-02
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   final_price: 6.794650400000000e-02
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9572422206367078
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.44 = 9.44 - 0
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.44
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   Final asset value: 9.440000000000000e+00
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   initial_sol: 9.44
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   initial_price: 7.098151599999999e-02
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   final_price: 6.794650400000000e-02
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9572422206367078
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.44 = 9.44 - 0
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.44
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   Final asset value: 9.440000000000000e+00
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   Initial SOL: 9.44
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,335 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,336 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,336 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,336 - DEEP_DEBUG - DEBUG -     PnL: 9.440000000000000e-03
2025-07-15 17:58:17,336 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.440000000000000e-03
2025-07-15 17:58:17,336 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,336 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,336 - DEEP_DEBUG - DEBUG -     PnL: 6.608000000000000e-03
2025-07-15 17:58:17,336 - DEEP_DEBUG - DEBUG -     PnL from fees: 6.608000000000000e-03
2025-07-15 17:58:17,336 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   position_id: pos_06-14-04-43-21_5474240
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1096 (from CSV: 11.1096)
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.0104 (from CSV: 0.0104)
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   Total points: 6
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749876000, 'close': 0.070850131, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749879000, 'close': 0.073208557, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   Valid prices: 6
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   Min price: 7.085013100000000e-02
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   Max price: 7.370324900000000e-02
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0402697632273963
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1096 (type: <class 'float'>)
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.0104 (type: <class 'float'>)
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-14 04:43:21
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-14 05:36:39
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   price_history length: 6
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.070850131, 0.070850131, 0.070850131, 0.072356772, 0.073703249]
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.070850131, 0.070850131, 0.072356772, 0.073703249, 0.073208557]
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   Initial price: 7.085013100000000e-02
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   Final price: 7.320855699999999e-02
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0332875319595387
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1096
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   initial_price: 7.085013100000000e-02
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   final_price: 7.320855699999999e-02
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0332875319595387
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.4830260869565217
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1610086956521739
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.120350042901213e-02 = 7.085013100000000e-02 * 1.004987562112089
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.261246914576833e+00 = 0.1610086956521739 / 7.120350042901213e-02
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -     Final value: 1.655426236368722e-01 = 2.261246914576833e+00 * 7.320855699999999e-02
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.655426236368722e-01 = 0.1610086956521739 * (7.320855699999999e-02 / 7.120350042901213e-02)
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1610086956521739
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.191553543330226e-02 = 7.085013100000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.238858331264191e+00 = 0.1610086956521739 / 7.191553543330226e-02
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -     Final value: 1.639035877592794e-01 = 2.238858331264191e+00 * 7.320855699999999e-02
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.639035877592794e-01 = 0.1610086956521739 * (7.320855699999999e-02 / 7.191553543330226e-02)
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1610086956521739
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.263469078763528e-02 = 7.085013100000000e-02 * 1.025187812110542
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.216691417093259e+00 = 0.1610086956521739 / 7.263469078763528e-02
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -     Final value: 1.622807799596826e-01 = 2.216691417093259e+00 * 7.320855699999999e-02
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.622807799596826e-01 = 0.1610086956521739 * (7.320855699999999e-02 / 7.263469078763528e-02)
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.62657391304348 = 11.1096 - 0.4830260869565217
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   Total token value: 4.917269913558342e-01
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.62657391304348
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111830090439931e+01
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1096
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   PnL from assets: 8.700904399313814e-03
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1096
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   initial_price: 7.085013100000000e-02
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   final_price: 7.320855699999999e-02
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0332875319595387
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.6986145873392202
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23975017454776268
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.120350042901213e-02 = 7.085013100000000e-02 * 1.004987562112089
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.367112193968424e+00 = 0.23975017454776268 / 7.120350042901213e-02
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -     Final value: 2.465014249775324e-01 = 3.367112193968424e+00 * 7.320855699999999e-02
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.465014249775324e-01 = 0.23975017454776268 * (7.320855699999999e-02 / 7.120350042901213e-02)
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23280239699815194
2025-07-15 17:58:17,337 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.191553543330226e-02 = 7.085013100000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.237164203749320e+00 = 0.23280239699815194 / 7.191553543330226e-02
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -     Final value: 2.369881201285417e-01 = 3.237164203749320e+00 * 7.320855699999999e-02
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.369881201285417e-01 = 0.23280239699815194 * (7.320855699999999e-02 / 7.191553543330226e-02)
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2260620157933056
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.263469078763528e-02 = 7.085013100000000e-02 * 1.025187812110542
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.112314698967349e+00 = 0.2260620157933056 / 7.263469078763528e-02
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -     Final value: 2.278480680412890e-01 = 3.112314698967349e+00 * 7.320855699999999e-02
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.278480680412890e-01 = 0.2260620157933056 * (7.320855699999999e-02 / 7.263469078763528e-02)
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.41098541266078 = 11.1096 - 0.6986145873392202
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   Total token value: 7.113376131473631e-01
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.41098541266078
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   Final asset value: 1.112232302580814e+01
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1096
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.272302580814255e-02
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -     PnL: 1.981050439931381e-02
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110960000000000e-02
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -     PnL from IL: 8.700904399313814e-03
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -     PnL: 2.049974580814255e-02
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -     PnL from fees: 7.776720000000000e-03
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.272302580814255e-02
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   position_id: pos_06-14-05-41-41_28442304
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   investment_sol: 8.88 (from CSV: 8.88)
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03953 (from CSV: 0.03953)
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   Total points: 18
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749879000, 'close': 0.070992337, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749909600, 'close': 0.073563934, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   Valid prices: 18
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   Min price: 6.288410500000000e-02
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   Max price: 7.473970400000000e-02
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1885309332143632
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   investment_sol: 8.88 (type: <class 'float'>)
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03953 (type: <class 'float'>)
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-14 05:41:41
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-14 14:10:24
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   price_history length: 18
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.070992337, 0.069532127, 0.070141166, 0.067287908, 0.066074588]
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.069846907, 0.06647871, 0.068969937, 0.074739704, 0.073563934]
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   Initial price: 7.099233700000000e-02
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   Final price: 7.356393400000000e-02
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0362235856526316
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   initial_sol: 8.88
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   initial_price: 7.099233700000000e-02
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   final_price: 7.356393400000000e-02
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0362235856526316
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,338 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.5328
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1776
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.134641569026985e-02 = 7.099233700000000e-02 * 1.004987562112089
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.489263101470995e+00 = 0.1776 / 7.134641569026985e-02
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     Final value: 1.831199865052476e-01 = 2.489263101470995e+00 * 7.356393400000000e-02
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.831199865052476e-01 = 0.1776 * (7.356393400000000e-02 / 7.134641569026985e-02)
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1776
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.205987984717255e-02 = 7.099233700000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.464616932149500e+00 = 0.1776 / 7.205987984717255e-02
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     Final value: 1.813069173319283e-01 = 2.464616932149500e+00 * 7.356393400000000e-02
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.813069173319283e-01 = 0.1776 * (7.356393400000000e-02 / 7.205987984717255e-02)
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1776
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.278047864564428e-02 = 7.099233700000000e-02 * 1.025187812110542
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.440214784306435e+00 = 0.1776 / 7.278047864564428e-02
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     Final value: 1.795117993385429e-01 = 2.440214784306435e+00 * 7.356393400000000e-02
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.795117993385429e-01 = 0.1776 * (7.356393400000000e-02 / 7.278047864564428e-02)
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.3472 = 8.88 - 0.5328
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -   Total token value: 5.439387031757188e-01
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.3472
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -   Final asset value: 8.891138703175720e+00
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.88
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.113870317571930e-02
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -   initial_sol: 8.88
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -   initial_price: 7.099233700000000e-02
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -   final_price: 7.356393400000000e-02
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0362235856526316
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.7599346938775509
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.26370909090909084
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.134641569026985e-02 = 7.099233700000000e-02 * 1.004987562112089
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.696178544608446e+00 = 0.26370909090909084 / 7.134641569026985e-02
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     Final value: 2.719054345077918e-01 = 3.696178544608446e+00 * 7.356393400000000e-02
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.719054345077918e-01 = 0.26370909090909084 * (7.356393400000000e-02 / 7.134641569026985e-02)
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.25316512059369195
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.205987984717255e-02 = 7.099233700000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.513260376378847e+00 = 0.25316512059369195 / 7.205987984717255e-02
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     Final value: 2.584492544527487e-01 = 3.513260376378847e+00 * 7.356393400000000e-02
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.584492544527486e-01 = 0.25316512059369195 * (7.356393400000000e-02 / 7.205987984717255e-02)
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.24306048237476802
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.278047864564428e-02 = 7.099233700000000e-02 * 1.025187812110542
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.339638415380421e+00 = 0.24306048237476802 / 7.278047864564428e-02
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     Final value: 2.456769399729098e-01 = 3.339638415380421e+00 * 7.356393400000000e-02
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.456769399729098e-01 = 0.24306048237476802 * (7.356393400000000e-02 / 7.278047864564428e-02)
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.12006530612245 = 8.88 - 0.7599346938775509
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -   Total token value: 7.760316289334502e-01
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.12006530612245
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -   Final asset value: 8.896096935055901e+00
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.88
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.609693505590037e-02
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     PnL: 2.001870317571930e-02
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.880000000000001e-03
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.113870317571930e-02
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     PnL: 2.231293505590037e-02
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     PnL from fees: 6.216000000000000e-03
2025-07-15 17:58:17,339 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.609693505590037e-02
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Brainlet-SOL
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   position_id: pos_06-14-14-17-37_28468413
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   investment_sol: 8.88 (from CSV: 8.88)
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.21248 (from CSV: -0.21248)
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   Total points: 11
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749909600, 'close': 0.013126531, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749927600, 'close': 0.01014668, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   Valid prices: 11
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   Min price: 1.014668000000000e-02
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   Max price: 1.312892500000000e-02
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2939133785632344
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   investment_sol: 8.88 (type: <class 'float'>)
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.21248 (type: <class 'float'>)
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-14 14:17:37
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-14 19:24:02
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   price_history length: 11
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.013126531, 0.013128925, 0.011125645, 0.011390814, 0.012411862]
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.0116123, 0.010937238, 0.010719301, 0.010667266, 0.01014668]
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   Initial price: 1.312653100000000e-02
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   Final price: 1.014668000000000e-02
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   Price ratio: 0.7729902134844309
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   initial_sol: 8.88
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   initial_price: 1.312653100000000e-02
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   final_price: 1.014668000000000e-02
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   price_ratio: 0.7729902134844309
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.88 = 8.88 - 0
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.88
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   Final asset value: 8.880000000000001e+00
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.88
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   initial_sol: 8.88
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   initial_price: 1.312653100000000e-02
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   final_price: 1.014668000000000e-02
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   price_ratio: 0.7729902134844309
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.88 = 8.88 - 0
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.88
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   Final asset value: 8.880000000000001e+00
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.88
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -     PnL: 8.880000000000001e-03
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.880000000000001e-03
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -     PnL: 8.880000000000001e-03
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.880000000000001e-03
2025-07-15 17:58:17,340 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   position_id: pos_06-14-14-57-39_5576326
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1079 (from CSV: 11.1079)
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.08014 (from CSV: 0.08014)
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   Total points: 19
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749911400, 'close': 0.076433329, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749943800, 'close': 0.066712242, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   Valid prices: 19
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   Min price: 6.298178500000000e-02
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   Max price: 7.643332899999999e-02
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2135783226848842
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1079 (type: <class 'float'>)
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.08014 (type: <class 'float'>)
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-14 14:57:39
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-14 23:54:09
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   price_history length: 19
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.076433329, 0.07637433, 0.074781372, 0.070192549, 0.069652993]
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.068529461, 0.069720533, 0.067495038, 0.068528804, 0.066712242]
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   Initial price: 7.643332899999999e-02
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   Final price: 6.671224200000000e-02
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   Price ratio: 0.8728161244945907
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1079
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   initial_price: 7.643332899999999e-02
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   final_price: 6.671224200000000e-02
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8728161244945907
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.1079 = 11.1079 - 0
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.1079
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   Final asset value: 1.110790000000000e+01
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1079
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1079
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   initial_price: 7.643332899999999e-02
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   final_price: 6.671224200000000e-02
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8728161244945907
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.1079 = 11.1079 - 0
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.1079
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   Final asset value: 1.110790000000000e+01
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1079
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,341 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -     PnL: 1.110790000000000e-02
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110790000000000e-02
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -     PnL: 4.856725199783929e-03
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -     PnL from fees: 4.856725199783929e-03
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   position_id: pos_06-15-02-54-32_28536243
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   investment_sol: 8.8798 (from CSV: 8.8798)
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01006 (from CSV: 0.01006)
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   Total points: 21
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749955800, 'close': 0.070811117, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749967800, 'close': 0.082560036, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   Valid prices: 21
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   Min price: 7.081111700000001e-02
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   Max price: 8.256003600000000e-02
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1659191310313604
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   investment_sol: 8.8798 (type: <class 'float'>)
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01006 (type: <class 'float'>)
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-15 02:54:32
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-15 06:16:30
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   price_history length: 21
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.070811117, 0.070811117, 0.070811117, 0.070811117, 0.070811117]
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.071811494, 0.072525802, 0.073887497, 0.077151002, 0.082560036]
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   Initial price: 7.081111700000001e-02
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   Final price: 8.256003600000000e-02
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1659191310313604
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   initial_sol: 8.8798
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   initial_price: 7.081111700000001e-02
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   final_price: 8.256003600000000e-02
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1659191310313604
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   active_bin_index: 15
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,342 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 15 bins): 2.663939999999999
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG - 
Calculating token values for 15 activated bins:
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.17759599999999998
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.116429184426390e-02 = 7.081111700000001e-02 * 1.004987562112089
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.495577422292791e+00 = 0.17759599999999998 / 7.116429184426390e-02
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Final value: 2.060349618252800e-01 = 2.495577422292791e+00 * 8.256003600000000e-02
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.060349618252800e-01 = 0.17759599999999998 * (8.256003600000000e-02 / 7.116429184426390e-02)
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.17759599999999998
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.187593476270654e-02 = 7.081111700000001e-02 * 1.0150374377332099
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.470868734943357e+00 = 0.17759599999999998 / 7.187593476270654e-02
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Final value: 2.039950117081980e-01 = 2.470868734943357e+00 * 8.256003600000000e-02
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.039950117081980e-01 = 0.17759599999999998 * (8.256003600000000e-02 / 7.187593476270654e-02)
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.17759599999999998
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.259469411033362e-02 = 7.081111700000001e-02 * 1.025187812110542
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.446404688062729e+00 = 0.17759599999999998 / 7.259469411033362e-02
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Final value: 2.019752591170277e-01 = 2.446404688062729e+00 * 8.256003600000000e-02
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.019752591170277e-01 = 0.17759599999999998 * (8.256003600000000e-02 / 7.259469411033362e-02)
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.17759599999999998
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.332064105143694e-02 = 7.081111700000001e-02 * 1.0354396902316474
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.422182859468049e+00 = 0.17759599999999998 / 7.332064105143694e-02
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Final value: 1.999755040762651e-01 = 2.422182859468049e+00 * 8.256003600000000e-02
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.999755040762651e-01 = 0.17759599999999998 * (8.256003600000000e-02 / 7.332064105143694e-02)
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.17759599999999998
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.405384746195132e-02 = 7.081111700000001e-02 * 1.045794087133964
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.398200850958465e+00 = 0.17759599999999998 / 7.405384746195132e-02
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Final value: 1.979955485903615e-01 = 2.398200850958465e+00 * 8.256003600000000e-02
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.979955485903615e-01 = 0.17759599999999998 * (8.256003600000000e-02 / 7.405384746195132e-02)
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 10 more bins processed)
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 6.215860000000001 = 8.8798 - 2.663939999999999
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -   Total token value: 2.885252421739785e+00
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -   Remaining SOL: 6.215860000000001
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -   Final asset value: 9.101112421739787e+00
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.8798
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.213124217397873e-01
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -   initial_sol: 8.8798
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -   initial_price: 7.081111700000001e-02
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -   final_price: 8.256003600000000e-02
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1659191310313604
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -   active_bin_index: 15
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 15 bins): 3.0483469264069254
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG - 
Calculating token values for 15 activated bins:
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.26370315151515145
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.116429184426390e-02 = 7.081111700000001e-02 * 1.004987562112089
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.705554354313537e+00 = 0.26370315151515145 / 7.116429184426390e-02
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Final value: 3.059307008920824e-01 = 3.705554354313537e+00 * 8.256003600000000e-02
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.059307008920825e-01 = 0.26370315151515145 * (8.256003600000000e-02 / 7.116429184426390e-02)
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.25315941867656144
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.187593476270654e-02 = 7.081111700000001e-02 * 1.0150374377332099
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.522172191740530e+00 = 0.25315941867656144 / 7.187593476270654e-02
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Final value: 2.907906629482971e-01 = 3.522172191740530e+00 * 8.256003600000000e-02
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.907906629482970e-01 = 0.25315941867656144 * (8.256003600000000e-02 / 7.187593476270654e-02)
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.24305500803957936
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.259469411033362e-02 = 7.081111700000001e-02 * 1.025187812110542
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.348109817367235e+00 = 0.24305500803957936 / 7.259469411033362e-02
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Final value: 2.764200670537924e-01 = 3.348109817367235e+00 * 8.256003600000000e-02
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.764200670537923e-01 = 0.24305500803957936 * (8.256003600000000e-02 / 7.259469411033362e-02)
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23338991960420527
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.332064105143694e-02 = 7.081111700000001e-02 * 1.0354396902316474
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.183140739869885e+00 = 0.23338991960420527 / 7.332064105143694e-02
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Final value: 2.628002140767244e-01 = 3.183140739869885e+00 * 8.256003600000000e-02
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.628002140767244e-01 = 0.23338991960420527 * (8.256003600000000e-02 / 7.332064105143694e-02)
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.22416415337043902
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Avg bin price: 7.405384746195132e-02 = 7.081111700000001e-02 * 1.045794087133964
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.027042632533225e+00 = 0.22416415337043902 / 7.405384746195132e-02
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Final value: 2.499127487154779e-01 = 3.027042632533225e+00 * 8.256003600000000e-02
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.499127487154779e-01 = 0.22416415337043902 * (8.256003600000000e-02 / 7.405384746195132e-02)
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 10 more bins processed)
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.8314530735930745 = 8.8798 - 3.0483469264069254
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -   Total token value: 3.324834042592155e+00
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.8314530735930745
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -   Final asset value: 9.156287116185229e+00
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.8798
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.764871161852298e-01
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     PnL: 2.301922217397873e-01
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.879800000000000e-03
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.213124217397873e-01
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     PnL: 2.827029761852298e-01
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     PnL from fees: 6.215860000000000e-03
2025-07-15 17:58:17,343 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.764871161852298e-01
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   position_id: pos_06-15-06-18-00_5677029
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   investment_sol: 11.11 (from CSV: 11.11)
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.04854 (from CSV: -0.04854)
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   Total points: 15
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749967800, 'close': 0.082560036, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749976200, 'close': 0.072607351, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   Valid prices: 15
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   Min price: 7.260735100000000e-02
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   Max price: 8.256003600000000e-02
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1370754457079697
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   investment_sol: 11.11 (type: <class 'float'>)
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.04854 (type: <class 'float'>)
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-15 06:18:00
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-15 08:32:30
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   price_history length: 15
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.082560036, 0.078544202, 0.078544202, 0.075540149, 0.079591908]
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.074011811, 0.073738928, 0.073732262, 0.073115543, 0.072607351]
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   Initial price: 8.256003600000000e-02
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   Final price: 7.260735100000000e-02
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   Price ratio: 0.8794491199107519
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   initial_sol: 11.11
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   initial_price: 8.256003600000000e-02
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   final_price: 7.260735100000000e-02
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8794491199107519
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.11 = 11.11 - 0
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.11
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111000000000000e+01
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.11
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   initial_sol: 11.11
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   initial_price: 8.256003600000000e-02
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   final_price: 7.260735100000000e-02
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8794491199107519
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.11 = 11.11 - 0
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.11
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111000000000000e+01
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.11
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,344 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -     PnL: 1.111000000000000e-02
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.111000000000000e-02
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -     PnL: 7.691661312005741e-03
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -     PnL from fees: 7.691661312005741e-03
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Brainlet-SOL
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -   position_id: pos_06-15-06-18-28_28546312
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -   investment_sol: 8.8711 (from CSV: 8.8711)
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02717 (from CSV: 0.02717)
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -   Total points: 12
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749967800, 'close': 0.018173597, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749974400, 'close': 0.018772013, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -   Valid prices: 12
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -   Min price: 1.715528900000000e-02
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -   Max price: 1.882445500000000e-02
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0972974573614003
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -   investment_sol: 8.8711 (type: <class 'float'>)
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02717 (type: <class 'float'>)
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-15 06:18:28
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-15 08:03:34
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -   price_history length: 12
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.018173597, 0.017184199, 0.017155289, 0.018157018, 0.018824455]
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.017419164, 0.017419164, 0.018455021, 0.018772013, 0.018772013]
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -   Initial price: 1.817359700000000e-02
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -   Final price: 1.877201300000000e-02
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0329277687845726
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -   initial_sol: 8.8711
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -   initial_price: 1.817359700000000e-02
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -   final_price: 1.877201300000000e-02
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0329277687845726
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,345 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.532266
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.177422
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.826423894383757e-02 = 1.817359700000000e-02 * 1.004987562112089
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     Tokens bought: 9.714174269487582e+00 = 0.177422 / 1.826423894383757e-02
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     Final value: 1.823546056710864e-01 = 9.714174269487582e+00 * 1.877201300000000e-02
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.823546056710864e-01 = 0.177422 * (1.877201300000000e-02 / 1.826423894383757e-02)
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.177422
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.844688133327595e-02 = 1.817359700000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     Tokens bought: 9.617994326225327e+00 = 0.177422 / 1.844688133327595e-02
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     Final value: 1.805491145258281e-01 = 9.617994326225327e+00 * 1.877201300000000e-02
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.805491145258281e-01 = 0.177422 * (1.877201300000000e-02 / 1.844688133327595e-02)
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.177422
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.863135014660871e-02 = 1.817359700000000e-02 * 1.025187812110542
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     Tokens bought: 9.522766659629038e+00 = 0.177422 / 1.863135014660871e-02
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     Final value: 1.787614995305229e-01 = 9.522766659629038e+00 * 1.877201300000000e-02
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.787614995305229e-01 = 0.177422 * (1.877201300000000e-02 / 1.863135014660871e-02)
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.338834 = 8.8711 - 0.532266
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -   Total token value: 5.416652197274374e-01
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.338834
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -   Final asset value: 8.880499219727438e+00
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.8711
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -   PnL from assets: 9.399219727438179e-03
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -   initial_sol: 8.8711
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -   initial_price: 1.817359700000000e-02
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -   final_price: 1.877201300000000e-02
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0329277687845726
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.7591730476190474
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2634447878787878
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.826423894383757e-02 = 1.817359700000000e-02 * 1.004987562112089
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.442407694560277e+01 = 0.2634447878787878 / 1.826423894383757e-02
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     Final value: 2.707689599358554e-01 = 1.442407694560277e+01 * 1.877201300000000e-02
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.707689599358555e-01 = 0.2634447878787878 * (1.877201300000000e-02 / 1.826423894383757e-02)
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.25291138528138524
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.844688133327595e-02 = 1.817359700000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.371025165241149e+01 = 0.25291138528138524 / 1.844688133327595e-02
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     Final value: 2.573690222523399e-01 = 1.371025165241149e+01 * 1.877201300000000e-02
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.573690222523399e-01 = 0.25291138528138524 * (1.877201300000000e-02 / 1.844688133327595e-02)
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.24281687445887437
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.863135014660871e-02 = 1.817359700000000e-02 * 1.025187812110542
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.303270415445829e+01 = 0.24281687445887437 / 1.863135014660871e-02
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     Final value: 2.446500918126450e-01 = 1.303270415445829e+01 * 1.877201300000000e-02
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.446500918126450e-01 = 0.24281687445887437 * (1.877201300000000e-02 / 1.863135014660871e-02)
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.111926952380953 = 8.8711 - 0.7591730476190474
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -   Total token value: 7.727880740008404e-01
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.111926952380953
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -   Final asset value: 8.884715026381794e+00
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.8711
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.361502638179424e-02
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     PnL: 1.827031972743818e-02
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.871100000000000e-03
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     PnL from IL: 9.399219727438179e-03
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     PnL: 2.073339427853374e-02
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     PnL from fees: 7.118367896739506e-03
2025-07-15 17:58:17,346 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.361502638179424e-02
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   position_id: pos_06-15-11-23-12_5697388
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1099 (from CSV: 11.1099)
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01709 (from CSV: 0.01709)
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   Total points: 4
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749986400, 'close': 0.082285582, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1749988200, 'close': 0.085364338, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   Valid prices: 4
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   Min price: 8.228558200000000e-02
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   Max price: 8.728069800000000e-02
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   Price ratio: 1.06070463231335
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1099 (type: <class 'float'>)
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01709 (type: <class 'float'>)
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-15 11:23:12
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-15 11:51:22
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   price_history length: 4
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.082285582, 0.087280698, 0.085336941, 0.085364338]
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.082285582, 0.087280698, 0.085336941, 0.085364338]
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   Initial price: 8.228558200000000e-02
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   Final price: 8.536433800000000e-02
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0374154976506091
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1099
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   initial_price: 8.228558200000000e-02
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   final_price: 8.536433800000000e-02
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0374154976506091
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.48303913043478264
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101304347826087
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.269598645115439e-02 = 8.228558200000000e-02 * 1.004987562112089
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.947047860338006e+00 = 0.16101304347826087 / 8.269598645115439e-02
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -     Final value: 1.662084516520703e-01 = 1.947047860338006e+00 * 8.536433800000000e-02
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.662084516520703e-01 = 0.16101304347826087 * (8.536433800000000e-02 / 8.269598645115439e-02)
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101304347826087
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.352294631566592e-02 = 8.228558200000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.927770158750501e+00 = 0.16101304347826087 / 8.352294631566592e-02
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -     Final value: 1.645628234178914e-01 = 1.927770158750501e+00 * 8.536433800000000e-02
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.645628234178914e-01 = 0.16101304347826087 * (8.536433800000000e-02 / 8.352294631566592e-02)
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101304347826087
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.435817577882260e-02 = 8.228558200000000e-02 * 1.025187812110542
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.908683325495545e+00 = 0.16101304347826087 / 8.435817577882260e-02
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -     Final value: 1.629334885325658e-01 = 1.908683325495545e+00 * 8.536433800000000e-02
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.629334885325657e-01 = 0.16101304347826087 * (8.536433800000000e-02 / 8.435817577882260e-02)
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.626860869565217 = 11.1099 - 0.48303913043478264
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   Total token value: 4.937047636025275e-01
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.626860869565217
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   Final asset value: 1.112056563316774e+01
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1099
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.066563316774527e-02
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1099
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   initial_price: 8.228558200000000e-02
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   final_price: 8.536433800000000e-02
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0374154976506091
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.6986334524987401
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23975664868295782
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.269598645115439e-02 = 8.228558200000000e-02 * 1.004987562112089
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.899253748240534e+00 = 0.23975664868295782 / 8.269598645115439e-02
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -     Final value: 2.474928769125719e-01 = 2.899253748240534e+00 * 8.536433800000000e-02
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.474928769125719e-01 = 0.23975664868295782 * (8.536433800000000e-02 / 8.269598645115439e-02)
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23280868351783757
2025-07-15 17:58:17,347 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.352294631566592e-02 = 8.228558200000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.787361962040496e+00 = 0.23280868351783757 / 8.352294631566592e-02
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -     Final value: 2.379413086559680e-01 = 2.787361962040496e+00 * 8.536433800000000e-02
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.379413086559680e-01 = 0.23280868351783757 * (8.536433800000000e-02 / 8.352294631566592e-02)
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.22606812029794465
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.435817577882260e-02 = 8.228558200000000e-02 * 1.025187812110542
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.679860229442007e+00 = 0.22606812029794465 / 8.435817577882260e-02
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -     Final value: 2.287644944188450e-01 = 2.679860229442007e+00 * 8.536433800000000e-02
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.287644944188450e-01 = 0.22606812029794465 * (8.536433800000000e-02 / 8.435817577882260e-02)
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.41126654750126 = 11.1099 - 0.6986334524987401
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -   Total token value: 7.141986799873850e-01
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.41126654750126
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -   Final asset value: 1.112546522748864e+01
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1099
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.556522748864531e-02
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -     PnL: 2.177553316774527e-02
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110990000000000e-02
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.066563316774527e-02
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -     PnL: 2.334215748864531e-02
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -     PnL from fees: 7.776930000000000e-03
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.556522748864531e-02
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -   position_id: pos_06-15-11-53-12_5698959
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1099 (from CSV: 11.1099)
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.09105 (from CSV: 0.09105)
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -   Total points: 21
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1749988200, 'close': 0.085364338, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750000200, 'close': 0.090074406, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -   Valid prices: 21
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -   Min price: 7.943393300000000e-02
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -   Max price: 9.044008300000000e-02
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1385572838247857
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,348 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1099 (type: <class 'float'>)
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.09105 (type: <class 'float'>)
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-15 11:53:12
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-15 15:18:10
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   price_history length: 21
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.085364338, 0.086793802, 0.084926071, 0.084926071, 0.085505274]
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.085238737, 0.087434176, 0.088952893, 0.090440083, 0.090074406]
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   Initial price: 8.536433800000000e-02
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   Final price: 9.007440600000000e-02
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0551760619288115
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1099
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   initial_price: 8.536433800000000e-02
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   final_price: 9.007440600000000e-02
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0551760619288115
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   active_bin_index: 5
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 5 bins): 0.8050652173913043
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG - 
Calculating token values for 5 activated bins:
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101304347826087
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.579009793793235e-02 = 8.536433800000000e-02 * 1.004987562112089
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.876825500243058e+00 = 0.16101304347826087 / 8.579009793793235e-02
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Final value: 1.690539421000463e-01 = 1.876825500243058e+00 * 9.007440600000000e-02
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.690539421000463e-01 = 0.16101304347826087 * (9.007440600000000e-02 / 8.579009793793235e-02)
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101304347826087
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.664799891731167e-02 = 8.536433800000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.858243069547583e+00 = 0.16101304347826087 / 8.664799891731167e-02
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Final value: 1.673801406931152e-01 = 1.858243069547583e+00 * 9.007440600000000e-02
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.673801406931152e-01 = 0.16101304347826087 * (9.007440600000000e-02 / 8.664799891731167e-02)
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101304347826087
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.751447890648480e-02 = 8.536433800000000e-02 * 1.025187812110542
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.839844623314438e+00 = 0.16101304347826087 / 8.751447890648480e-02
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Final value: 1.657229115773418e-01 = 1.839844623314438e+00 * 9.007440600000000e-02
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.657229115773418e-01 = 0.16101304347826087 * (9.007440600000000e-02 / 8.751447890648480e-02)
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101304347826087
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.838962369554965e-02 = 8.536433800000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.821628339915285e+00 = 0.16101304347826087 / 8.838962369554965e-02
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Final value: 1.640820906706354e-01 = 1.821628339915285e+00 * 9.007440600000000e-02
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.640820906706354e-01 = 0.16101304347826087 * (9.007440600000000e-02 / 8.838962369554965e-02)
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101304347826087
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.927351993250515e-02 = 8.536433800000000e-02 * 1.045794087133964
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.803592415757708e+00 = 0.16101304347826087 / 8.927351993250515e-02
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Final value: 1.624575155154806e-01 = 1.803592415757708e+00 * 9.007440600000000e-02
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.624575155154806e-01 = 0.16101304347826087 * (9.007440600000000e-02 / 8.927351993250515e-02)
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.304834782608696 = 11.1099 - 0.8050652173913043
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   Total token value: 8.286966005566193e-01
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.304834782608696
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   Final asset value: 1.113353138316531e+01
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1099
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.363138316531455e-02
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1099
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   initial_price: 8.536433800000000e-02
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   final_price: 9.007440600000000e-02
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0551760619288115
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   active_bin_index: 5
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 5 bins): 1.131377611215861
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG - 
Calculating token values for 5 activated bins:
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23975664868295782
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.579009793793235e-02 = 8.536433800000000e-02 * 1.004987562112089
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.794689066055358e+00 = 0.23975664868295782 / 8.579009793793235e-02
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Final value: 2.517299575796311e-01 = 2.794689066055358e+00 * 9.007440600000000e-02
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.517299575796311e-01 = 0.23975664868295782 * (9.007440600000000e-02 / 8.579009793793235e-02)
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23280868351783757
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.664799891731167e-02 = 8.536433800000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.686832776600037e+00 = 0.23280868351783757 / 8.664799891731167e-02
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Final value: 2.420148663735791e-01 = 2.686832776600037e+00 * 9.007440600000000e-02
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.420148663735791e-01 = 0.23280868351783757 * (9.007440600000000e-02 / 8.664799891731167e-02)
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.22606812029794465
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.751447890648480e-02 = 8.536433800000000e-02 * 1.025187812110542
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.583208208775532e+00 = 0.22606812029794465 / 8.751447890648480e-02
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Final value: 2.326809449797800e-01 = 2.583208208775532e+00 * 9.007440600000000e-02
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.326809449797800e-01 = 0.22606812029794465 * (9.007440600000000e-02 / 8.751447890648480e-02)
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2195349590232793
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.838962369554965e-02 = 8.536433800000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.483718674710601e+00 = 0.2195349590232793 / 8.838962369554965e-02
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Final value: 2.237194842956646e-01 = 2.483718674710601e+00 * 9.007440600000000e-02
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.237194842956646e-01 = 0.2195349590232793 * (9.007440600000000e-02 / 8.838962369554965e-02)
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2132091996938414
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.927351993250515e-02 = 8.536433800000000e-02 * 1.045794087133964
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.388269218633222e+00 = 0.2132091996938414 / 8.927351993250515e-02
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Final value: 2.151219312364716e-01 = 2.388269218633222e+00 * 9.007440600000000e-02
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.151219312364716e-01 = 0.2132091996938414 * (9.007440600000000e-02 / 8.927351993250515e-02)
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.978522388784139 = 11.1099 - 1.131377611215861
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   Total token value: 1.165267184465126e+00
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.978522388784139
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   Final asset value: 1.114378957324926e+01
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1099
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   PnL from assets: 3.388957324926523e-02
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     PnL: 3.474128316531454e-02
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110990000000000e-02
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.363138316531455e-02
2025-07-15 17:58:17,349 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -     PnL: 4.166650324926523e-02
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -     PnL from fees: 7.776930000000000e-03
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -     PnL from IL: 3.388957324926523e-02
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   position_id: pos_06-15-16-43-20_5714639
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1087 (from CSV: 11.1087)
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.1517 (from CSV: 0.1517)
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   Total points: 18
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750003200, 'close': 0.09245484, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750064400, 'close': 0.082587892, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   Valid prices: 18
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   Min price: 7.657622900000000e-02
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   Max price: 9.486903200000001e-02
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2388835705137689
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1087 (type: <class 'float'>)
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.1517 (type: <class 'float'>)
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-15 16:43:20
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-16 09:17:22
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   price_history length: 18
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.09245484, 0.093194113, 0.089887391, 0.094869032, 0.086604193]
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.078338159, 0.082320975, 0.083324532, 0.086707898, 0.082587892]
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   Initial price: 9.245484000000000e-02
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   Final price: 8.258789200000000e-02
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   Price ratio: 0.8932781885729292
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1087
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   initial_price: 9.245484000000000e-02
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   final_price: 8.258789200000000e-02
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8932781885729292
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.1087 = 11.1087 - 0
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.1087
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   Final asset value: 1.110870000000000e+01
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1087
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1087
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   initial_price: 9.245484000000000e-02
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   final_price: 8.258789200000000e-02
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8932781885729292
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,350 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.1087 = 11.1087 - 0
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.1087
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   Final asset value: 1.110870000000000e+01
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1087
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -     PnL: 1.110870000000000e-02
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110870000000000e-02
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -     PnL: 1.110870000000000e-02
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110870000000000e-02
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for catwifmask-SOL
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   position_id: pos_06-16-14-56-22_28651007
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   investment_sol: 8.8788 (from CSV: 8.8788)
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01067 (from CSV: 0.01067)
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   Total points: 12
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750085400, 'close': 0.014009265, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750092000, 'close': 0.015318517, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   Valid prices: 12
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   Min price: 1.373042500000000e-02
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   Max price: 1.553361800000000e-02
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1313282727956346
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   investment_sol: 8.8788 (type: <class 'float'>)
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01067 (type: <class 'float'>)
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-16 14:56:22
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-16 16:45:53
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   price_history length: 12
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.014009265, 0.013939412, 0.013730425, 0.014140234, 0.014279376]
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.014128678, 0.014187504, 0.014980752, 0.015533618, 0.015318517]
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   Initial price: 1.400926500000000e-02
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   Final price: 1.531851700000000e-02
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0934561520536588
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   initial_sol: 8.8788
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   initial_price: 1.400926500000000e-02
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   final_price: 1.531851700000000e-02
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0934561520536588
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   active_bin_index: 8
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 8 bins): 1.4206079999999999
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG - 
Calculating token values for 8 activated bins:
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.177576
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.407913707933221e-02 = 1.400926500000000e-02 * 1.004987562112089
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.261270481275992e+01 = 0.177576 / 1.407913707933221e-02
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -     Final value: 1.932079330902446e-01 = 1.261270481275992e+01 * 1.531851700000000e-02
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.932079330902446e-01 = 0.177576 * (1.531851700000000e-02 / 1.407913707933221e-02)
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.177576
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.421992845012554e-02 = 1.400926500000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.248782654728705e+01 = 0.177576 / 1.421992845012554e-02
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -     Final value: 1.912949832576679e-01 = 1.248782654728705e+01 * 1.531851700000000e-02
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.912949832576679e-01 = 0.177576 * (1.531851700000000e-02 / 1.421992845012554e-02)
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,351 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.177576
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.436212773462679e-02 = 1.400926500000000e-02 * 1.025187812110542
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.236418470028420e+01 = 0.177576 / 1.436212773462679e-02
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Final value: 1.894009735224435e-01 = 1.236418470028420e+01 * 1.531851700000000e-02
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.894009735224435e-01 = 0.177576 * (1.531851700000000e-02 / 1.436212773462679e-02)
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.177576
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.450574901197306e-02 = 1.400926500000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.224176702998436e+01 = 0.177576 / 1.450574901197306e-02
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Final value: 1.875257163588550e-01 = 1.224176702998436e+01 * 1.531851700000000e-02
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.875257163588549e-01 = 0.177576 * (1.531851700000000e-02 / 1.450574901197306e-02)
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.177576
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.465080650209279e-02 = 1.400926500000000e-02 * 1.045794087133964
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.212056141582610e+01 = 0.177576 / 1.465080650209279e-02
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Final value: 1.856690260978761e-01 = 1.212056141582610e+01 * 1.531851700000000e-02
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.856690260978762e-01 = 0.177576 * (1.531851700000000e-02 / 1.465080650209279e-02)
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 3 more bins processed)
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 7.458192 = 8.8788 - 1.4206079999999999
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -   Total token value: 1.493148491522773e+00
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -   Remaining SOL: 7.458192
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -   Final asset value: 8.951340491522773e+00
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.8788
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -   PnL from assets: 7.254049152277275e-02
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -   initial_sol: 8.8788
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -   initial_price: 1.400926500000000e-02
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -   final_price: 1.531851700000000e-02
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0934561520536588
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -   active_bin_index: 8
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 8 bins): 1.8387956363636362
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG - 
Calculating token values for 8 activated bins:
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2636734545454545
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.407913707933221e-02 = 1.400926500000000e-02 * 1.004987562112089
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.872795563106775e+01 = 0.2636734545454545 / 1.407913707933221e-02
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Final value: 2.868845067097571e-01 = 1.872795563106775e+01 * 1.531851700000000e-02
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.868845067097571e-01 = 0.2636734545454545 * (1.531851700000000e-02 / 1.407913707933221e-02)
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.253130909090909
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.421992845012554e-02 = 1.400926500000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.780113802813645e+01 = 0.253130909090909 / 1.421992845012554e-02
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Final value: 2.726870355033547e-01 = 1.780113802813645e+01 * 1.531851700000000e-02
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.726870355033546e-01 = 0.253130909090909 * (1.531851700000000e-02 / 1.421992845012554e-02)
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.24302763636363628
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.436212773462679e-02 = 1.400926500000000e-02 * 1.025187812110542
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.692142284584349e+01 = 0.24302763636363628 / 1.436212773462679e-02
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Final value: 2.592111035282419e-01 = 1.692142284584349e+01 * 1.531851700000000e-02
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.592111035282420e-01 = 0.24302763636363628 * (1.531851700000000e-02 / 1.436212773462679e-02)
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2333636363636363
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.450574901197306e-02 = 1.400926500000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.608766539190894e+01 = 0.2333636363636363 / 1.450574901197306e-02
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Final value: 2.464391757962688e-01 = 1.608766539190894e+01 * 1.531851700000000e-02
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.464391757962688e-01 = 0.2333636363636363 * (1.531851700000000e-02 / 1.450574901197306e-02)
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.22413890909090903
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.465080650209279e-02 = 1.400926500000000e-02 * 1.045794087133964
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.529874202207858e+01 = 0.22413890909090903 / 1.465080650209279e-02
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Final value: 2.343540397438250e-01 = 1.529874202207858e+01 * 1.531851700000000e-02
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.343540397438251e-01 = 0.22413890909090903 * (1.531851700000000e-02 / 1.465080650209279e-02)
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 3 more bins processed)
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 7.040004363636363 = 8.8788 - 1.8387956363636362
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -   Total token value: 1.936743520675702e+00
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -   Remaining SOL: 7.040004363636363
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -   Final asset value: 8.976747884312065e+00
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.8788
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -   PnL from assets: 9.794788431206491e-02
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     PnL: 8.141929152277276e-02
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.878800000000001e-03
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     PnL from IL: 7.254049152277275e-02
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     PnL: 1.068266843120649e-01
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.878800000000001e-03
2025-07-15 17:58:17,352 - DEEP_DEBUG - DEBUG -     PnL from IL: 9.794788431206491e-02
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for catwifmask-SOL
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   position_id: pos_06-16-17-05-40_28657713
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   investment_sol: 8.88 (from CSV: 8.88)
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.06953 (from CSV: -0.06953)
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   Total points: 21
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750093200, 'close': 0.015852106, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750129200, 'close': 0.011943046, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   Valid prices: 21
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   Min price: 1.020633400000000e-02
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   Max price: 1.585210600000000e-02
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   Price ratio: 1.5531635551021554
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   investment_sol: 8.88 (type: <class 'float'>)
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.06953 (type: <class 'float'>)
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-16 17:05:40
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-17 03:04:39
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   price_history length: 21
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.015852106, 0.015301484, 0.015325933, 0.014918176, 0.015301127]
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.010477906, 0.011462713, 0.011257244, 0.011257244, 0.011943046]
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   Initial price: 1.585210600000000e-02
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   Final price: 1.194304600000000e-02
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   Price ratio: 0.7534043741569731
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   initial_sol: 8.88
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   initial_price: 1.585210600000000e-02
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   final_price: 1.194304600000000e-02
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   price_ratio: 0.7534043741569731
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.88 = 8.88 - 0
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.88
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   Final asset value: 8.880000000000001e+00
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.88
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   initial_sol: 8.88
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   initial_price: 1.585210600000000e-02
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   final_price: 1.194304600000000e-02
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   price_ratio: 0.7534043741569731
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.88 = 8.88 - 0
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.88
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   Final asset value: 8.880000000000001e+00
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.88
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -     PnL: 8.880000000000001e-03
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.880000000000001e-03
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -     PnL: 8.880000000000001e-03
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.880000000000001e-03
2025-07-15 17:58:17,353 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   position_id: pos_06-16-23-37-38_5888897
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1044 (from CSV: 11.1044)
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.20889 (from CSV: 0.20889)
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   Total points: 21
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750116600, 'close': 0.084488794, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750128600, 'close': 0.086452159, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   Valid prices: 21
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   Min price: 8.448879400000001e-02
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   Max price: 8.645215900000000e-02
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0232381704963145
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1044 (type: <class 'float'>)
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.20889 (type: <class 'float'>)
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-16 23:37:38
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-17 02:51:44
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   price_history length: 21
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.084488794, 0.084488794, 0.084488794, 0.084488794, 0.084488794]
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.084488794, 0.084488794, 0.084488794, 0.084488794, 0.086452159]
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   Initial price: 8.448879400000001e-02
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   Final price: 8.645215900000000e-02
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0232381704963145
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1044
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   initial_price: 8.448879400000001e-02
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   final_price: 8.645215900000000e-02
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0232381704963145
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   active_bin_index: 2
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 2 bins): 0.3218666666666667
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG - 
Calculating token values for 2 activated bins:
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16093333333333334
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.491018710785049e-02 = 8.448879400000001e-02 * 1.004987562112089
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.895335987529040e+00 = 0.16093333333333334 / 8.491018710785049e-02
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -     Final value: 1.638558881522826e-01 = 1.895335987529040e+00 * 8.645215900000000e-02
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.638558881522826e-01 = 0.16093333333333334 * (8.645215900000000e-02 / 8.491018710785049e-02)
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16093333333333334
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.575928897892900e-02 = 8.448879400000001e-02 * 1.0150374377332099
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.876570284682217e+00 = 0.16093333333333334 / 8.575928897892900e-02
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -     Final value: 1.622335526260223e-01 = 1.876570284682217e+00 * 8.645215900000000e-02
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.622335526260223e-01 = 0.16093333333333334 * (8.645215900000000e-02 / 8.575928897892900e-02)
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.782533333333333 = 11.1044 - 0.3218666666666667
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   Total token value: 3.260894407783049e-01
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.782533333333333
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   Final asset value: 1.110862277411164e+01
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1044
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   PnL from assets: 4.222774111637406e-03
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1044
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   initial_price: 8.448879400000001e-02
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   final_price: 8.645215900000000e-02
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0232381704963145
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   active_bin_index: 2
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 2 bins): 0.47233138686131404
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG - 
Calculating token values for 2 activated bins:
2025-07-15 17:58:17,354 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2396379562043796
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.491018710785049e-02 = 8.448879400000001e-02 * 1.004987562112089
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.822252127415505e+00 = 0.2396379562043796 / 8.491018710785049e-02
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -     Final value: 2.439897896574135e-01 = 2.822252127415505e+00 * 8.645215900000000e-02
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.439897896574135e-01 = 0.2396379562043796 * (8.645215900000000e-02 / 8.491018710785049e-02)
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2326934306569344
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.575928897892900e-02 = 8.448879400000001e-02 * 1.0150374377332099
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.713332088307157e+00 = 0.2326934306569344 / 8.575928897892900e-02
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -     Final value: 2.345734171181324e-01 = 2.713332088307157e+00 * 8.645215900000000e-02
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.345734171181324e-01 = 0.2326934306569344 * (8.645215900000000e-02 / 8.575928897892900e-02)
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.632068613138687 = 11.1044 - 0.47233138686131404
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -   Total token value: 4.785632067755459e-01
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.632068613138687
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111063181991423e+01
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1044
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -   PnL from assets: 6.231819914232162e-03
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -     PnL: 1.532717411163741e-02
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110440000000000e-02
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -     PnL from IL: 4.222774111637406e-03
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -     PnL: 1.400489991423216e-02
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -     PnL from fees: 7.773080000000000e-03
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -     PnL from IL: 6.231819914232162e-03
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -   position_id: pos_06-17-16-11-07_6025235
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1096 (from CSV: 11.1096)
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.07439 (from CSV: 0.07439)
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -   Total points: 13
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750176600, 'close': 0.082790106, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750183800, 'close': 0.086177125, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -   Valid prices: 13
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -   Min price: 7.697916100000000e-02
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -   Max price: 8.617712499999999e-02
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -   Price ratio: 1.119486415291016
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1096 (type: <class 'float'>)
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.07439 (type: <class 'float'>)
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-17 16:11:07
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-17 18:18:30
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG -   price_history length: 13
2025-07-15 17:58:17,355 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.082790106, 0.080770007, 0.083520086, 0.081658367, 0.078348019]
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.080938544, 0.081288472, 0.081308971, 0.084285191, 0.086177125]
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   Initial price: 8.279010600000000e-02
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   Final price: 8.617712499999999e-02
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   Price ratio: 1.04091091512795
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1096
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   initial_price: 8.279010600000000e-02
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   final_price: 8.617712499999999e-02
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   price_ratio: 1.04091091512795
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   active_bin_index: 4
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 4 bins): 0.6440347826086956
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG - 
Calculating token values for 4 activated bins:
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1610086956521739
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.320302679594144e-02 = 8.279010600000000e-02 * 1.004987562112089
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.935130269323661e+00 = 0.1610086956521739 / 8.320302679594144e-02
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Final value: 1.667639631107888e-01 = 1.935130269323661e+00 * 8.617712499999999e-02
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.667639631107888e-01 = 0.1610086956521739 * (8.617712499999999e-02 / 8.320302679594144e-02)
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1610086956521739
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.403505706390085e-02 = 8.279010600000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.915970563686793e+00 = 0.1610086956521739 / 8.403505706390085e-02
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Final value: 1.651128347631572e-01 = 1.915970563686793e+00 * 8.617712499999999e-02
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.651128347631572e-01 = 0.1610086956521739 * (8.617712499999999e-02 / 8.403505706390085e-02)
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1610086956521739
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.487540763453985e-02 = 8.279010600000000e-02 * 1.025187812110542
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.897000558105736e+00 = 0.1610086956521739 / 8.487540763453985e-02
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Final value: 1.634780542209477e-01 = 1.897000558105736e+00 * 8.617712499999999e-02
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.634780542209477e-01 = 0.1610086956521739 * (8.617712499999999e-02 / 8.487540763453985e-02)
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1610086956521739
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.572416171088526e-02 = 8.279010600000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.878218374362114e+00 = 0.1610086956521739 / 8.572416171088526e-02
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Final value: 1.618594596247007e-01 = 1.878218374362114e+00 * 8.617712499999999e-02
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.618594596247007e-01 = 0.1610086956521739 * (8.617712499999999e-02 / 8.572416171088526e-02)
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.465565217391305 = 11.1096 - 0.6440347826086956
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   Total token value: 6.572143117195944e-01
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.465565217391305
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   Final asset value: 1.112277952911090e+01
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1096
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.317952911089826e-02
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1096
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   initial_price: 8.279010600000000e-02
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   final_price: 8.617712499999999e-02
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   price_ratio: 1.04091091512795
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   active_bin_index: 4
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 4 bins): 0.9181436182724441
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG - 
Calculating token values for 4 activated bins:
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23975017454776268
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.320302679594144e-02 = 8.279010600000000e-02 * 1.004987562112089
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.881507846292167e+00 = 0.23975017454776268 / 8.320302679594144e-02
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Final value: 2.483200618584009e-01 = 2.881507846292167e+00 * 8.617712499999999e-02
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.483200618584008e-01 = 0.23975017454776268 * (8.617712499999999e-02 / 8.320302679594144e-02)
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23280239699815194
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.403505706390085e-02 = 8.279010600000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.770300933110896e+00 = 0.23280239699815194 / 8.403505706390085e-02
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Final value: 2.387365698003143e-01 = 2.770300933110896e+00 * 8.617712499999999e-02
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.387365698003144e-01 = 0.23280239699815194 * (8.617712499999999e-02 / 8.403505706390085e-02)
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2260620157933056
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.487540763453985e-02 = 8.279010600000000e-02 * 1.025187812110542
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.663457202664558e+00 = 0.2260620157933056 / 8.487540763453985e-02
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Final value: 2.295290842861739e-01 = 2.663457202664558e+00 * 8.617712499999999e-02
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.295290842861739e-01 = 0.2260620157933056 * (8.617712499999999e-02 / 8.487540763453985e-02)
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21952903093322387
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.572416171088526e-02 = 8.279010600000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.560876963412149e+00 = 0.21952903093322387 / 8.572416171088526e-02
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Final value: 2.206890141855892e-01 = 2.560876963412149e+00 * 8.617712499999999e-02
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.206890141855892e-01 = 0.21952903093322387 * (8.617712499999999e-02 / 8.572416171088526e-02)
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.191456381727557 = 11.1096 - 0.9181436182724441
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   Total token value: 9.372747301304782e-01
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.191456381727557
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   Final asset value: 1.112873111185803e+01
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1096
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.913111185803373e-02
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     PnL: 2.428912911089826e-02
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110960000000000e-02
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.317952911089826e-02
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     PnL: 2.690783185803373e-02
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     PnL from fees: 7.776720000000000e-03
2025-07-15 17:58:17,356 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.913111185803373e-02
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   position_id: pos_06-17-19-35-55_6047694
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1096 (from CSV: 11.1096)
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03135 (from CSV: 0.03135)
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   Total points: 8
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750188600, 'close': 0.089378895, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750192800, 'close': 0.090301815, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   Valid prices: 8
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   Min price: 8.497180700000000e-02
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   Max price: 9.339428499999999e-02
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0991208531083727
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1096 (type: <class 'float'>)
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03135 (type: <class 'float'>)
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-17 19:35:55
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-17 20:47:32
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   price_history length: 8
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.089378895, 0.092285249, 0.09111325, 0.093394285, 0.084971807]
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.093394285, 0.084971807, 0.089731432, 0.093242732, 0.090301815]
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   Initial price: 8.937889500000000e-02
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   Final price: 9.030181499999999e-02
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0103259276141197
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1096
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   initial_price: 8.937889500000000e-02
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   final_price: 9.030181499999999e-02
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0103259276141197
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   active_bin_index: 1
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 1 bins): 0.1610086956521739
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG - 
Calculating token values for 1 activated bins:
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1610086956521739
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.982467779032238e-02 = 8.937889500000000e-02 * 1.004987562112089
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.792477297029846e+00 = 0.1610086956521739 / 8.982467779032238e-02
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -     Final value: 1.618639532680892e-01 = 1.792477297029846e+00 * 9.030181499999999e-02
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.618639532680892e-01 = 0.1610086956521739 * (9.030181499999999e-02 / 8.982467779032238e-02)
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.948591304347826 = 11.1096 - 0.1610086956521739
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   Total token value: 1.618639532680892e-01
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.948591304347826
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111045525761591e+01
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1096
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   PnL from assets: 8.552576159139846e-04
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1096
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   initial_price: 8.937889500000000e-02
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   final_price: 9.030181499999999e-02
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0103259276141197
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   active_bin_index: 1
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 1 bins): 0.23975017454776268
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG - 
Calculating token values for 1 activated bins:
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,357 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23975017454776268
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.982467779032238e-02 = 8.937889500000000e-02 * 1.004987562112089
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.669090281708677e+00 = 0.23975017454776268 / 8.982467779032238e-02
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -     Final value: 2.410236968371548e-01 = 2.669090281708677e+00 * 9.030181499999999e-02
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.410236968371548e-01 = 0.23975017454776268 * (9.030181499999999e-02 / 8.982467779032238e-02)
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.869849825452238 = 11.1096 - 0.23975017454776268
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   Total token value: 2.410236968371548e-01
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.869849825452238
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111087352228939e+01
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1096
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.273522289393370e-03
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -     PnL: 1.196485761591399e-02
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110960000000000e-02
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -     PnL from IL: 8.552576159139846e-04
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -     PnL: 9.050242289393370e-03
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -     PnL from fees: 7.776720000000000e-03
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.273522289393370e-03
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for unstable coin-SOL
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   position_id: pos_06-17-20-48-49_28757001
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   investment_sol: 8.88 (from CSV: 8.88)
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02346 (from CSV: 0.02346)
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   Total points: 8
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750192800, 'close': 0.010825761, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750197000, 'close': 0.011482864, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   Valid prices: 8
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   Min price: 1.046811800000000e-02
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   Max price: 1.188673100000000e-02
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1355174827031944
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   investment_sol: 8.88 (type: <class 'float'>)
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02346 (type: <class 'float'>)
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-17 20:48:49
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-17 21:56:40
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   price_history length: 8
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.010825761, 0.011230322, 0.011104284, 0.011230808, 0.011066374]
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.011230808, 0.011066374, 0.010468118, 0.011886731, 0.011482864]
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   Initial price: 1.082576100000000e-02
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   Final price: 1.148286400000000e-02
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0606980885685542
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   initial_sol: 8.88
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   initial_price: 1.082576100000000e-02
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   final_price: 1.148286400000000e-02
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0606980885685542
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   active_bin_index: 5
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 5 bins): 0.888
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG - 
Calculating token values for 5 activated bins:
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1776
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.087975515539813e-02 = 1.082576100000000e-02 * 1.004987562112089
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.632389676636073e+01 = 0.1776 / 1.087975515539813e-02
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -     Final value: 1.874450865181600e-01 = 1.632389676636073e+01 * 1.148286400000000e-02
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.874450865181601e-01 = 0.1776 * (1.148286400000000e-02 / 1.087975515539813e-02)
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,358 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1776
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.098855270695211e-02 = 1.082576100000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.616227402609973e+01 = 0.1776 / 1.098855270695211e-02
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Final value: 1.855891945724357e-01 = 1.616227402609973e+01 * 1.148286400000000e-02
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.855891945724357e-01 = 0.1776 * (1.148286400000000e-02 / 1.098855270695211e-02)
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1776
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.109843823402163e-02 = 1.082576100000000e-02 * 1.025187812110542
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.600225151098983e+01 = 0.1776 / 1.109843823402163e-02
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Final value: 1.837516777944908e-01 = 1.600225151098983e+01 * 1.148286400000000e-02
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.837516777944908e-01 = 0.1776 * (1.148286400000000e-02 / 1.109843823402163e-02)
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1776
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.120942261636185e-02 = 1.082576100000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.584381337721766e+01 = 0.1776 / 1.120942261636185e-02
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Final value: 1.819323542519711e-01 = 1.584381337721766e+01 * 1.148286400000000e-02
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.819323542519711e-01 = 0.1776 * (1.148286400000000e-02 / 1.120942261636185e-02)
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1776
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.132151684252547e-02 = 1.082576100000000e-02 * 1.045794087133964
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.568694393783926e+01 = 0.1776 / 1.132151684252547e-02
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Final value: 1.801310438138327e-01 = 1.568694393783926e+01 * 1.148286400000000e-02
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.801310438138327e-01 = 0.1776 * (1.148286400000000e-02 / 1.132151684252547e-02)
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 7.992000000000001 = 8.88 - 0.888
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -   Total token value: 9.188493569508902e-01
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -   Remaining SOL: 7.992000000000001
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -   Final asset value: 8.910849356950891e+00
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.88
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -   PnL from assets: 3.084935695089008e-02
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -   initial_sol: 8.88
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -   initial_price: 1.082576100000000e-02
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -   final_price: 1.148286400000000e-02
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0606980885685542
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -   active_bin_index: 5
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 5 bins): 1.217499072356215
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG - 
Calculating token values for 5 activated bins:
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.26370909090909084
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.087975515539813e-02 = 1.082576100000000e-02 * 1.004987562112089
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.423851338035380e+01 = 0.26370909090909084 / 1.087975515539813e-02
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Final value: 2.783275527087830e-01 = 2.423851338035380e+01 * 1.148286400000000e-02
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.783275527087830e-01 = 0.26370909090909084 * (1.148286400000000e-02 / 1.087975515539813e-02)
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.25316512059369195
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.098855270695211e-02 = 1.082576100000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.303898678426708e+01 = 0.25316512059369195 / 1.098855270695211e-02
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Final value: 2.645535519415362e-01 = 2.303898678426708e+01 * 1.148286400000000e-02
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.645535519415362e-01 = 0.25316512059369195 * (1.148286400000000e-02 / 1.098855270695211e-02)
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.24306048237476802
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.109843823402163e-02 = 1.082576100000000e-02 * 1.025187812110542
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.190042213594341e+01 = 0.24306048237476802 / 1.109843823402163e-02
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Final value: 2.514795689296277e-01 = 2.190042213594341e+01 * 1.148286400000000e-02
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.514795689296276e-01 = 0.24306048237476802 * (1.148286400000000e-02 / 1.109843823402163e-02)
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2333951762523191
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.120942261636185e-02 = 1.082576100000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.082133792615183e+01 = 0.2333951762523191 / 1.120942261636185e-02
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Final value: 2.390885917040436e-01 = 2.082133792615183e+01 * 1.148286400000000e-02
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.390885917040436e-01 = 0.2333951762523191 * (1.148286400000000e-02 / 1.120942261636185e-02)
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.22416920222634504
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.132151684252547e-02 = 1.082576100000000e-02 * 1.045794087133964
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.980027988690781e+01 = 0.22416920222634504 / 1.132151684252547e-02
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Final value: 2.273639211032978e-01 = 1.980027988690781e+01 * 1.148286400000000e-02
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.273639211032978e-01 = 0.22416920222634504 * (1.148286400000000e-02 / 1.132151684252547e-02)
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 7.662500927643785 = 8.88 - 1.217499072356215
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -   Total token value: 1.260813186387288e+00
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -   Remaining SOL: 7.662500927643785
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -   Final asset value: 8.923314114031074e+00
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.88
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -   PnL from assets: 4.331411403107310e-02
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     PnL: 3.972935695089008e-02
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.880000000000001e-03
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     PnL from IL: 3.084935695089008e-02
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     PnL: 4.953011403107310e-02
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     PnL from fees: 6.216000000000000e-03
2025-07-15 17:58:17,359 - DEEP_DEBUG - DEBUG -     PnL from IL: 4.331411403107310e-02
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for unstable coin-SOL
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   position_id: pos_06-17-22-19-01_28762337
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   investment_sol: 8.8789 (from CSV: 8.8789)
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.0141 (from CSV: 0.0141)
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   Total points: 50
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750197600, 'close': 0.010615046, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750374000, 'close': 0.008508519, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   Valid prices: 50
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   Min price: 7.584855000000000e-03
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   Max price: 1.264711300000000e-02
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   Price ratio: 1.6674165821231917
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   investment_sol: 8.8789 (type: <class 'float'>)
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.0141 (type: <class 'float'>)
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-17 22:19:01
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-19 23:28:02
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   price_history length: 50
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.010615046, 0.010615046, 0.010615046, 0.00957629, 0.009911333]
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.007584855, 0.008301017, 0.009002816, 0.008444326, 0.008508519]
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   Initial price: 1.061504600000000e-02
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   Final price: 8.508519000000001e-03
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   Price ratio: 0.8015527205440279
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   initial_sol: 8.8789
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   initial_price: 1.061504600000000e-02
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   final_price: 8.508519000000001e-03
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8015527205440279
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.8789 = 8.8789 - 0
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.8789
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   Final asset value: 8.878900000000000e+00
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.8789
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   initial_sol: 8.8789
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   initial_price: 1.061504600000000e-02
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   final_price: 8.508519000000001e-03
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8015527205440279
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.8789 = 8.8789 - 0
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.8789
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   Final asset value: 8.878900000000000e+00
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.8789
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,360 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -     PnL: 8.878900000000000e-03
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.878900000000000e-03
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -     PnL: 8.878900000000000e-03
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.878900000000000e-03
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   position_id: pos_06-18-12-59-53_6151224
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   investment_sol: 11.11 (from CSV: 11.11)
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.12008 (from CSV: 0.12008)
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   Total points: 12
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750249800, 'close': 0.102905887, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750269600, 'close': 0.099576945, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   Valid prices: 12
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   Min price: 9.696771200000000e-02
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   Max price: 1.031088150000000e-01
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0633314210816895
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   investment_sol: 11.11 (type: <class 'float'>)
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.12008 (type: <class 'float'>)
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-18 12:59:53
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-18 18:24:52
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   price_history length: 12
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.102905887, 0.098397871, 0.102906254, 0.102042314, 0.101040527]
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.101411442, 0.097814075, 0.103108815, 0.101866233, 0.099576945]
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   Initial price: 1.029058870000000e-01
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   Final price: 9.957694500000000e-02
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9676506165288677
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   initial_sol: 11.11
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   initial_price: 1.029058870000000e-01
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   final_price: 9.957694500000000e-02
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9676506165288677
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.11 = 11.11 - 0
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.11
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111000000000000e+01
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.11
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   initial_sol: 11.11
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   initial_price: 1.029058870000000e-01
2025-07-15 17:58:17,361 - DEEP_DEBUG - DEBUG -   final_price: 9.957694500000000e-02
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9676506165288677
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.11 = 11.11 - 0
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.11
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111000000000000e+01
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.11
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -     PnL: 1.111000000000000e-02
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.111000000000000e-02
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -     PnL: 1.111000000000000e-02
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.111000000000000e-02
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   position_id: pos_06-19-06-01-58_6261330
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1099 (from CSV: 11.1099)
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.05913 (from CSV: 0.05913)
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   Total points: 19
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750312800, 'close': 0.088483539, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750323600, 'close': 0.09001379, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   Valid prices: 19
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   Min price: 8.101630700000000e-02
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   Max price: 9.322113100000000e-02
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   Price ratio: 1.150646511201751
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1099 (type: <class 'float'>)
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.05913 (type: <class 'float'>)
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-19 06:01:58
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-19 09:04:33
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   price_history length: 19
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.088483539, 0.086370057, 0.086060443, 0.086058154, 0.086058154]
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.08488016, 0.085813995, 0.090750221, 0.093221131, 0.09001379]
2025-07-15 17:58:17,362 - DEEP_DEBUG - DEBUG -   Initial price: 8.848353900000000e-02
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -   Final price: 9.001379000000000e-02
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0172941884704678
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1099
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -   initial_price: 8.848353900000000e-02
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -   final_price: 9.001379000000000e-02
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0172941884704678
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -   active_bin_index: 1
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 1 bins): 0.16101304347826087
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG - 
Calculating token values for 1 activated bins:
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101304347826087
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.892485614665994e-02 = 8.848353900000000e-02 * 1.004987562112089
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.810664087133399e+00 = 0.16101304347826087 / 8.892485614665994e-02
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -     Final value: 1.629847368997675e-01 = 1.810664087133399e+00 * 9.001379000000000e-02
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.629847368997675e-01 = 0.16101304347826087 * (9.001379000000000e-02 / 8.892485614665994e-02)
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.948886956521738 = 11.1099 - 0.16101304347826087
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -   Total token value: 1.629847368997675e-01
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.948886956521738
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111187169342151e+01
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1099
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.971693421506160e-03
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1099
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -   initial_price: 8.848353900000000e-02
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -   final_price: 9.001379000000000e-02
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0172941884704678
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -   active_bin_index: 1
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 1 bins): 0.23975664868295782
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG - 
Calculating token values for 1 activated bins:
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23975664868295782
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.892485614665994e-02 = 8.848353900000000e-02 * 1.004987562112089
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.696171341424916e+00 = 0.23975664868295782 / 8.892485614665994e-02
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -     Final value: 2.426926009310407e-01 = 2.696171341424916e+00 * 9.001379000000000e-02
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.426926009310407e-01 = 0.23975664868295782 * (9.001379000000000e-02 / 8.892485614665994e-02)
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.870143351317042 = 11.1099 - 0.23975664868295782
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -   Total token value: 2.426926009310407e-01
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.870143351317042
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111283595224808e+01
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1099
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.935952248082074e-03
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -     PnL: 1.308159342150616e-02
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110990000000000e-02
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.971693421506160e-03
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -     PnL: 1.071288224808207e-02
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -     PnL from fees: 7.776930000000000e-03
2025-07-15 17:58:17,363 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.935952248082074e-03
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   position_id: pos_06-19-09-10-56_6276149
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   investment_sol: 11.11 (from CSV: 11.11)
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.011 (from CSV: 0.011)
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   Total points: 10
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750324200, 'close': 0.087872505, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750329600, 'close': 0.09011721, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   Valid prices: 10
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   Min price: 8.787250500000000e-02
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   Max price: 9.011721000000000e-02
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   Price ratio: 1.02554502116447
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   investment_sol: 11.11 (type: <class 'float'>)
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.011 (type: <class 'float'>)
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-19 09:10:56
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-19 10:44:24
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   price_history length: 10
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.087872505, 0.087872505, 0.089149557, 0.089907526, 0.090013396]
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.09011721, 0.09011721, 0.09011721, 0.09011721, 0.09011721]
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   Initial price: 8.787250500000000e-02
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   Final price: 9.011721000000000e-02
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   Price ratio: 1.02554502116447
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   initial_sol: 11.11
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   initial_price: 8.787250500000000e-02
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   final_price: 9.011721000000000e-02
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   price_ratio: 1.02554502116447
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   active_bin_index: 2
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 2 bins): 0.32202898550724635
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG - 
Calculating token values for 2 activated bins:
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.831077457663235e-02 = 8.787250500000000e-02 * 1.004987562112089
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.823271209266788e+00 = 0.16101449275362317 / 8.831077457663235e-02
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -     Final value: 1.643081144524491e-01 = 1.823271209266788e+00 * 9.011721000000000e-02
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.643081144524491e-01 = 0.16101449275362317 * (9.011721000000000e-02 / 8.831077457663235e-02)
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.919388232239868e-02 = 8.787250500000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.805219019076028e+00 = 0.16101449275362317 / 8.919388232239868e-02
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -     Final value: 1.626813014380684e-01 = 1.805219019076028e+00 * 9.011721000000000e-02
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.626813014380684e-01 = 0.16101449275362317 * (9.011721000000000e-02 / 8.919388232239868e-02)
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.787971014492753 = 11.11 - 0.32202898550724635
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   Total token value: 3.269894158905174e-01
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.787971014492753
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111496043038327e+01
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.11
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   PnL from assets: 4.960430383270875e-03
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   initial_sol: 11.11
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   initial_price: 8.787250500000000e-02
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   final_price: 9.011721000000000e-02
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   price_ratio: 1.02554502116447
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   active_bin_index: 2
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 2 bins): 0.4725695857524223
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG - 
Calculating token values for 2 activated bins:
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23975880672802288
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.831077457663235e-02 = 8.787250500000000e-02 * 1.004987562112089
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.714943990441057e+00 = 0.23975880672802288 / 8.831077457663235e-02
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -     Final value: 2.446631777248147e-01 = 2.714943990441057e+00 * 9.011721000000000e-02
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.446631777248147e-01 = 0.23975880672802288 * (9.011721000000000e-02 / 8.831077457663235e-02)
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23281077902439942
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.919388232239868e-02 = 8.787250500000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.610165327066778e+00 = 0.23281077902439942 / 8.919388232239868e-02
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -     Final value: 2.352208169139955e-01 = 2.610165327066778e+00 * 9.011721000000000e-02
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.352208169139955e-01 = 0.23281077902439942 * (9.011721000000000e-02 / 8.919388232239868e-02)
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.637430414247577 = 11.11 - 0.4725695857524223
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   Total token value: 4.798839946388103e-01
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.637430414247577
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111731440888639e+01
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.11
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   PnL from assets: 7.314408886387014e-03
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -     PnL: 1.607043038327088e-02
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.111000000000000e-02
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -     PnL from IL: 4.960430383270875e-03
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -     PnL: 1.601953333682155e-02
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.705124450434540e-03
2025-07-15 17:58:17,364 - DEEP_DEBUG - DEBUG -     PnL from IL: 7.314408886387014e-03
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -   position_id: pos_06-19-15-29-25_6330475
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -   investment_sol: 11.11 (from CSV: 11.11)
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.04899 (from CSV: 0.04899)
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -   Total points: 21
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750346400, 'close': 0.082650504, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750358400, 'close': 0.087415453, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -   Valid prices: 21
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -   Min price: 7.753931800000000e-02
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -   Max price: 8.741545300000000e-02
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1273693818147847
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -   investment_sol: 11.11 (type: <class 'float'>)
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.04899 (type: <class 'float'>)
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-19 15:29:25
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-19 18:47:48
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -   price_history length: 21
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.082650504, 0.081004545, 0.079874991, 0.079589409, 0.081909597]
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.084835885, 0.083139783, 0.084726125, 0.085587479, 0.087415453]
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -   Initial price: 8.265050400000000e-02
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -   Final price: 8.741545300000000e-02
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -   Price ratio: 1.057651783950404
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -   initial_sol: 11.11
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -   initial_price: 8.265050400000000e-02
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -   final_price: 8.741545300000000e-02
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -   price_ratio: 1.057651783950404
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -   active_bin_index: 5
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 5 bins): 0.8050724637681159
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG - 
Calculating token values for 5 activated bins:
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.306272852229546e-02 = 8.265050400000000e-02 * 1.004987562112089
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.938468620259737e+00 = 0.16101449275362317 / 8.306272852229546e-02
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -     Final value: 1.694521125662899e-01 = 1.938468620259737e+00 * 8.741545300000000e-02
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.694521125662899e-01 = 0.16101449275362317 * (8.741545300000000e-02 / 8.306272852229546e-02)
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.389335580751842e-02 = 8.265050400000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.919275861643304e+00 = 0.16101449275362317 / 8.389335580751842e-02
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -     Final value: 1.677743688775147e-01 = 1.919275861643304e+00 * 8.741545300000000e-02
2025-07-15 17:58:17,365 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.677743688775147e-01 = 0.16101449275362317 * (8.741545300000000e-02 / 8.389335580751842e-02)
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.473228936559360e-02 = 8.265050400000000e-02 * 1.025187812110542
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.900273130339905e+00 = 0.16101449275362317 / 8.473228936559360e-02
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Final value: 1.661132365123908e-01 = 1.900273130339905e+00 * 8.741545300000000e-02
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.661132365123908e-01 = 0.16101449275362317 * (8.741545300000000e-02 / 8.473228936559360e-02)
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.557961225924954e-02 = 8.265050400000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.881458544890995e+00 = 0.16101449275362317 / 8.557961225924954e-02
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Final value: 1.644685510023672e-01 = 1.881458544890995e+00 * 8.741545300000000e-02
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.644685510023671e-01 = 0.16101449275362317 * (8.741545300000000e-02 / 8.557961225924954e-02)
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.643540838184204e-02 = 8.265050400000000e-02 * 1.045794087133964
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.862830242466331e+00 = 0.16101449275362317 / 8.643540838184204e-02
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Final value: 1.628401495072942e-01 = 1.862830242466331e+00 * 8.741545300000000e-02
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.628401495072942e-01 = 0.16101449275362317 * (8.741545300000000e-02 / 8.643540838184204e-02)
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.304927536231883 = 11.11 - 0.8050724637681159
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -   Total token value: 8.306484184658568e-01
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.304927536231883
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -   Final asset value: 1.113557595469774e+01
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.11
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.557595469774121e-02
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -   initial_sol: 11.11
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -   initial_price: 8.265050400000000e-02
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -   final_price: 8.741545300000000e-02
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -   price_ratio: 1.057651783950404
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -   active_bin_index: 5
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 5 bins): 1.131387794724364
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG - 
Calculating token values for 5 activated bins:
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23975880672802288
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.306272852229546e-02 = 8.265050400000000e-02 * 1.004987562112089
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.886478821408660e+00 = 0.23975880672802288 / 8.306272852229546e-02
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Final value: 2.523228537483441e-01 = 2.886478821408660e+00 * 8.741545300000000e-02
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.523228537483441e-01 = 0.23975880672802288 * (8.741545300000000e-02 / 8.306272852229546e-02)
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23281077902439942
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.389335580751842e-02 = 8.265050400000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.775080061865105e+00 = 0.23281077902439942 / 8.389335580751842e-02
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Final value: 2.425848807192061e-01 = 2.775080061865105e+00 * 8.741545300000000e-02
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.425848807192061e-01 = 0.23281077902439942 * (8.741545300000000e-02 / 8.389335580751842e-02)
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2260701551328243
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.473228936559360e-02 = 8.265050400000000e-02 * 1.025187812110542
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.668052012113134e+00 = 0.2260701551328243 / 8.473228936559360e-02
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Final value: 2.332289752664311e-01 = 2.668052012113134e+00 * 8.741545300000000e-02
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.332289752664311e-01 = 0.2260701551328243 * (8.741545300000000e-02 / 8.473228936559360e-02)
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21953693505329777
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.557961225924954e-02 = 8.265050400000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.565294808630895e+00 = 0.21953693505329777 / 8.557961225924954e-02
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Final value: 2.242464077750180e-01 = 2.565294808630895e+00 * 8.741545300000000e-02
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.242464077750180e-01 = 0.21953693505329777 * (8.741545300000000e-02 / 8.557961225924954e-02)
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2132111187858197
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.643540838184204e-02 = 8.265050400000000e-02 * 1.045794087133964
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.466710376885431e+00 = 0.2132111187858197 / 8.643540838184204e-02
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Final value: 2.156286050152407e-01 = 2.466710376885431e+00 * 8.741545300000000e-02
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.156286050152407e-01 = 0.2132111187858197 * (8.741545300000000e-02 / 8.643540838184204e-02)
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.978612205275635 = 11.11 - 1.131387794724364
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -   Total token value: 1.168011722524240e+00
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.978612205275635
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -   Final asset value: 1.114662392779987e+01
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.11
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -   PnL from assets: 3.662392779987478e-02
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     PnL: 3.668595469774121e-02
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.111000000000000e-02
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.557595469774121e-02
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     PnL: 4.440092779987478e-02
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     PnL from fees: 7.776999999999999e-03
2025-07-15 17:58:17,366 - DEEP_DEBUG - DEBUG -     PnL from IL: 3.662392779987478e-02
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   position_id: pos_06-19-18-56-57_6344600
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1097 (from CSV: 11.1097)
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.08434 (from CSV: 0.08434)
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   Total points: 10
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750357800, 'close': 0.086136229, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750374000, 'close': 0.086303732, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   Valid prices: 10
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   Min price: 7.780702800000000e-02
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   Max price: 8.684085900000001e-02
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1161055913869375
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1097 (type: <class 'float'>)
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.08434 (type: <class 'float'>)
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-19 18:56:57
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-19 23:06:04
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   price_history length: 10
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.086136229, 0.08183636, 0.077807028, 0.080357086, 0.081629594]
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.086840859, 0.084083051, 0.083204476, 0.08422971, 0.086303732]
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   Initial price: 8.613622899999999e-02
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   Final price: 8.630373199999999e-02
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0019446288970928
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1097
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   initial_price: 8.613622899999999e-02
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   final_price: 8.630373199999999e-02
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0019446288970928
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.1097 = 11.1097 - 0
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.1097
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   Final asset value: 1.110970000000000e+01
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1097
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1097
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   initial_price: 8.613622899999999e-02
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   final_price: 8.630373199999999e-02
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0019446288970928
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.1097 = 11.1097 - 0
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.1097
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   Final asset value: 1.110970000000000e+01
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1097
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -     PnL: 1.110970000000000e-02
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110970000000000e-02
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -     PnL: 9.979153611389856e-03
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.979153611389856e-03
2025-07-15 17:58:17,367 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,369 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,369 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Gorbagana-SOL
2025-07-15 17:58:17,369 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,369 - DEEP_DEBUG - DEBUG -   position_id: pos_06-20-05-55-47_28952732
2025-07-15 17:58:17,369 - DEEP_DEBUG - DEBUG -   investment_sol: 8.88 (from CSV: 8.88)
2025-07-15 17:58:17,369 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.46272 (from CSV: 0.46272)
2025-07-15 17:58:17,369 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:17,369 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,369 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,369 - DEEP_DEBUG - DEBUG -   Total points: 30
2025-07-15 17:58:17,369 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750395600, 'close': 0.038697242, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,369 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750500000, 'close': 0.044597436, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,369 - DEEP_DEBUG - DEBUG -   Valid prices: 30
2025-07-15 17:58:17,369 - DEEP_DEBUG - DEBUG -   Min price: 2.888887800000000e-02
2025-07-15 17:58:17,369 - DEEP_DEBUG - DEBUG -   Max price: 4.459743600000000e-02
2025-07-15 17:58:17,369 - DEEP_DEBUG - DEBUG -   Price ratio: 1.5437579818780085
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   investment_sol: 8.88 (type: <class 'float'>)
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.46272 (type: <class 'float'>)
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-20 05:55:47
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-21 10:04:12
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   price_history length: 30
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.038697242, 0.036451038, 0.035920971, 0.030605496, 0.031913505]
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.036618467, 0.035069363, 0.038017487, 0.040773054, 0.044597436]
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   Initial price: 3.869724200000000e-02
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   Final price: 4.459743600000000e-02
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1524706592785088
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   initial_sol: 8.88
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   initial_price: 3.869724200000000e-02
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   final_price: 4.459743600000000e-02
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1524706592785088
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   active_bin_index: 14
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 14 bins): 2.4864
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG - 
Calculating token values for 14 activated bins:
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1776
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.889024689804154e-02 = 3.869724200000000e-02 * 1.004987562112089
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.566697672699623e+00 = 0.1776 / 3.889024689804154e-02
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Final value: 2.036630071895704e-01 = 4.566697672699623e+00 * 4.459743600000000e-02
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.036630071895703e-01 = 0.1776 * (4.459743600000000e-02 / 3.889024689804154e-02)
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1776
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.927914936702195e-02 = 3.869724200000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.521482844257052e+00 = 0.1776 / 3.927914936702195e-02
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Final value: 2.016465417718518e-01 = 4.521482844257052e+00 * 4.459743600000000e-02
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.016465417718518e-01 = 0.1776 * (4.459743600000000e-02 / 3.927914936702195e-02)
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1776
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.967194086069217e-02 = 3.869724200000000e-02 * 1.025187812110542
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.476715687383220e+00 = 0.1776 / 3.967194086069217e-02
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Final value: 1.996500413582692e-01 = 4.476715687383220e+00 * 4.459743600000000e-02
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.996500413582692e-01 = 0.1776 * (4.459743600000000e-02 / 3.967194086069217e-02)
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1776
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.006866026929910e-02 = 3.869724200000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.432391769686356e+00 = 0.1776 / 4.006866026929910e-02
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Final value: 1.976733082755140e-01 = 4.432391769686356e+00 * 4.459743600000000e-02
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.976733082755140e-01 = 0.1776 * (4.459743600000000e-02 / 4.006866026929910e-02)
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1776
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.046934687199209e-02 = 3.869724200000000e-02 * 1.045794087133964
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.388506702659758e+00 = 0.1776 / 4.046934687199209e-02
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Final value: 1.957161468074396e-01 = 4.388506702659758e+00 * 4.459743600000000e-02
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.957161468074396e-01 = 0.1776 * (4.459743600000000e-02 / 4.046934687199209e-02)
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 9 more bins processed)
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 6.393600000000001 = 8.88 - 2.4864
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   Total token value: 2.674856998863869e+00
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   Remaining SOL: 6.393600000000001
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   Final asset value: 9.068456998863869e+00
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.88
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.884569988638685e-01
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   initial_sol: 8.88
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   initial_price: 3.869724200000000e-02
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   final_price: 4.459743600000000e-02
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1524706592785088
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   active_bin_index: 14
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 14 bins): 2.8923428571428564
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG - 
Calculating token values for 14 activated bins:
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.26370909090909084
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.889024689804154e-02 = 3.869724200000000e-02 * 1.004987562112089
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.780854120069134e+00 = 0.26370909090909084 / 3.889024689804154e-02
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Final value: 3.024087076451195e-01 = 6.780854120069134e+00 * 4.459743600000000e-02
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.024087076451195e-01 = 0.26370909090909084 * (4.459743600000000e-02 / 3.889024689804154e-02)
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.25316512059369195
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.927914936702195e-02 = 3.869724200000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.445280121219852e+00 = 0.25316512059369195 / 3.927914936702195e-02
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Final value: 2.874429677081746e-01 = 6.445280121219852e+00 * 4.459743600000000e-02
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.874429677081746e-01 = 0.25316512059369195 * (4.459743600000000e-02 / 3.927914936702195e-02)
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.24306048237476802
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Avg bin price: 3.967194086069217e-02 = 3.869724200000000e-02 * 1.025187812110542
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Tokens bought: 6.126760554223291e+00 = 0.24306048237476802 / 3.967194086069217e-02
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Final value: 2.732378117042977e-01 = 6.126760554223291e+00 * 4.459743600000000e-02
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.732378117042978e-01 = 0.24306048237476802 * (4.459743600000000e-02 / 3.967194086069217e-02)
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2333951762523191
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.006866026929910e-02 = 3.869724200000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.824880958926101e+00 = 0.2333951762523191 / 4.006866026929910e-02
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Final value: 2.597747557733254e-01 = 5.824880958926101e+00 * 4.459743600000000e-02
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.597747557733254e-01 = 0.2333951762523191 * (4.459743600000000e-02 / 4.006866026929910e-02)
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.22416920222634504
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.046934687199209e-02 = 3.869724200000000e-02 * 1.045794087133964
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.539234496059719e+00 = 0.22416920222634504 / 4.046934687199209e-02
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Final value: 2.470356559270156e-01 = 5.539234496059719e+00 * 4.459743600000000e-02
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.470356559270155e-01 = 0.22416920222634504 * (4.459743600000000e-02 / 4.046934687199209e-02)
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 9 more bins processed)
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 5.987657142857144 = 8.88 - 2.8923428571428564
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   Total token value: 3.130854260783879e+00
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   Remaining SOL: 5.987657142857144
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   Final asset value: 9.118511403641023e+00
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.88
2025-07-15 17:58:17,370 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.385114036410219e-01
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -     PnL: 1.973369988638685e-01
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.880000000000001e-03
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.884569988638685e-01
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -     PnL: 2.447274036410219e-01
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -     PnL from fees: 6.216000000000000e-03
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.385114036410219e-01
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   position_id: pos_06-20-09-43-59_6454677
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1092 (from CSV: 11.1092)
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.02321 (from CSV: -0.02321)
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   Total points: 16
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750412400, 'close': 0.100990538, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750421400, 'close': 0.095823604, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   Valid prices: 16
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   Min price: 9.385684300000000e-02
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   Max price: 1.039415050000000e-01
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   Price ratio: 1.107447274782085
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1092 (type: <class 'float'>)
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.02321 (type: <class 'float'>)
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-20 09:43:59
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-20 12:15:10
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   price_history length: 16
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.100990538, 0.100990538, 0.096613435, 0.098860517, 0.098860517]
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.094488886, 0.096669378, 0.095431392, 0.093856843, 0.095823604]
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   Initial price: 1.009905380000000e-01
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   Final price: 9.582360400000001e-02
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   Price ratio: 0.948837444553469
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1092
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   initial_price: 1.009905380000000e-01
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   final_price: 9.582360400000001e-02
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   price_ratio: 0.948837444553469
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.1092 = 11.1092 - 0
2025-07-15 17:58:17,371 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.1092
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   Final asset value: 1.110920000000000e+01
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1092
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1092
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   initial_price: 1.009905380000000e-01
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   final_price: 9.582360400000001e-02
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   price_ratio: 0.948837444553469
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.1092 = 11.1092 - 0
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.1092
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   Final asset value: 1.110920000000000e+01
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1092
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -     PnL: 1.110920000000000e-02
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110920000000000e-02
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -     PnL: 1.110920000000000e-02
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110920000000000e-02
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   position_id: pos_06-20-14-10-05_6485297
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1095 (from CSV: 11.1095)
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.26245 (from CSV: 0.26245)
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   Total points: 13
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750428000, 'close': 0.104154056, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750449600, 'close': 0.103596117, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   Valid prices: 13
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   Min price: 8.225453500000000e-02
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   Max price: 1.041540560000000e-01
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2662408948029429
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1095 (type: <class 'float'>)
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.26245 (type: <class 'float'>)
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-20 14:10:05
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-20 20:07:38
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   price_history length: 13
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.104154056, 0.092901056, 0.094056228, 0.090515929, 0.086011088]
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.087221494, 0.096178076, 0.098684889, 0.103438744, 0.103596117]
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   Initial price: 1.041540560000000e-01
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   Final price: 1.035961170000000e-01
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9946431370853192
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,372 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1095
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   initial_price: 1.041540560000000e-01
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   final_price: 1.035961170000000e-01
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9946431370853192
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.1095 = 11.1095 - 0
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.1095
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   Final asset value: 1.110950000000000e+01
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1095
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1095
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   initial_price: 1.041540560000000e-01
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   final_price: 1.035961170000000e-01
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9946431370853192
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 11.1095 = 11.1095 - 0
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   Remaining SOL: 11.1095
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   Final asset value: 1.110950000000000e+01
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1095
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -     PnL: 1.110950000000000e-02
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110950000000000e-02
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -     PnL: 7.776650000000000e-03
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -     PnL from fees: 7.776650000000000e-03
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   position_id: pos_06-20-20-09-31_6504749
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   investment_sol: 11.11 (from CSV: 11.11)
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01014 (from CSV: 0.01014)
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   Total points: 9
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750449600, 'close': 0.101894233, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,373 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750454400, 'close': 0.103327841, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   Valid prices: 9
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   Min price: 1.012163290000000e-01
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   Max price: 1.059942540000000e-01
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0472050809114013
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   investment_sol: 11.11 (type: <class 'float'>)
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01014 (type: <class 'float'>)
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-20 20:09:31
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-20 21:26:59
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   price_history length: 9
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.101894233, 0.101216329, 0.103596117, 0.101661853, 0.102749398]
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.102749398, 0.102749398, 0.105811106, 0.105994254, 0.103327841]
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   Initial price: 1.018942330000000e-01
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   Final price: 1.033278410000000e-01
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0140695695702426
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   initial_sol: 11.11
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   initial_price: 1.018942330000000e-01
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   final_price: 1.033278410000000e-01
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0140695695702426
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   active_bin_index: 1
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 1 bins): 0.16101449275362317
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG - 
Calculating token values for 1 activated bins:
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.024024368159512e-01 = 1.018942330000000e-01 * 1.004987562112089
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.572369738066058e+00 = 0.16101449275362317 / 1.024024368159512e-01
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -     Final value: 1.624695702881013e-01 = 1.572369738066058e+00 * 1.033278410000000e-01
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.624695702881013e-01 = 0.16101449275362317 * (1.033278410000000e-01 / 1.024024368159512e-01)
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.948985507246377 = 11.11 - 0.16101449275362317
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   Total token value: 1.624695702881013e-01
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.948985507246377
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111145507753448e+01
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.11
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.455077534478377e-03
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   initial_sol: 11.11
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   initial_price: 1.018942330000000e-01
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   final_price: 1.033278410000000e-01
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0140695695702426
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   active_bin_index: 1
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 1 bins): 0.23975880672802288
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG - 
Calculating token values for 1 activated bins:
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23975880672802288
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.024024368159512e-01 = 1.018942330000000e-01 * 1.004987562112089
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.341338880039970e+00 = 0.23975880672802288 / 1.024024368159512e-01
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -     Final value: 2.419254915238881e-01 = 2.341338880039970e+00 * 1.033278410000000e-01
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.419254915238881e-01 = 0.23975880672802288 * (1.033278410000000e-01 / 1.024024368159512e-01)
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.870241193271976 = 11.11 - 0.23975880672802288
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   Total token value: 2.419254915238881e-01
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.870241193271976
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111216668479586e+01
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.11
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.166684795865237e-03
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -     PnL: 1.256507753447838e-02
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.111000000000000e-02
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.455077534478377e-03
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -     PnL: 1.327668479586524e-02
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.111000000000000e-02
2025-07-15 17:58:17,374 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.166684795865237e-03
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   position_id: pos_06-20-22-14-52_6512538
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1076 (from CSV: 11.1076)
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.07503 (from CSV: 0.07503)
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   Total points: 15
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750456800, 'close': 0.089024236, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750482000, 'close': 0.098914755, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   Valid prices: 15
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   Min price: 8.902423600000001e-02
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   Max price: 1.068355660000000e-01
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2000728206193199
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1076 (type: <class 'float'>)
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.07503 (type: <class 'float'>)
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-20 22:14:52
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-21 05:14:32
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   price_history length: 15
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.089024236, 0.089024236, 0.089024236, 0.089024236, 0.089024236]
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.106835566, 0.098980626, 0.097180898, 0.098242199, 0.098914755]
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   Initial price: 8.902423600000001e-02
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   Final price: 9.891475499999999e-02
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1110991730386766
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1076
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   initial_price: 8.902423600000001e-02
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   final_price: 9.891475499999999e-02
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1110991730386766
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   active_bin_index: 10
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 10 bins): 1.6097971014492753
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG - 
Calculating token values for 10 activated bins:
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16097971014492754
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.946824990653127e-02 = 8.902423600000001e-02 * 1.004987562112089
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.799294278284255e+00 = 0.16097971014492754 / 8.946824990653127e-02
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Final value: 1.779767527093889e-01 = 1.799294278284255e+00 * 9.891475499999999e-02
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.779767527093889e-01 = 0.16097971014492754 * (9.891475499999999e-02 / 8.946824990653127e-02)
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16097971014492754
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.036293240559659e-02 = 8.902423600000001e-02 * 1.0150374377332099
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.781479483449757e+00 = 0.16097971014492754 / 9.036293240559659e-02
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Final value: 1.762146066429593e-01 = 1.781479483449757e+00 * 9.891475499999999e-02
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.762146066429593e-01 = 0.16097971014492754 * (9.891475499999999e-02 / 9.036293240559659e-02)
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16097971014492754
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.126656172965256e-02 = 8.902423600000001e-02 * 1.025187812110542
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.763841072722532e+00 = 0.16097971014492754 / 9.126656172965256e-02
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Final value: 1.744699075672864e-01 = 1.763841072722532e+00 * 9.891475499999999e-02
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.744699075672864e-01 = 0.16097971014492754 * (9.891475499999999e-02 / 9.126656172965256e-02)
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16097971014492754
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.217922734694908e-02 = 8.902423600000001e-02 * 1.0354396902316474
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.746377299725279e+00 = 0.16097971014492754 / 9.217922734694908e-02
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Final value: 1.727424827398875e-01 = 1.746377299725279e+00 * 9.891475499999999e-02
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.727424827398875e-01 = 0.16097971014492754 * (9.891475499999999e-02 / 9.217922734694908e-02)
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16097971014492754
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.310101962041857e-02 = 8.902423600000001e-02 * 1.045794087133964
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.729086435371564e+00 = 0.16097971014492754 / 9.310101962041857e-02
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Final value: 1.710321611286015e-01 = 1.729086435371564e+00 * 9.891475499999999e-02
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.710321611286015e-01 = 0.16097971014492754 * (9.891475499999999e-02 / 9.310101962041857e-02)
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 5 more bins processed)
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.497802898550724 = 11.1076 - 1.6097971014492753
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   Total token value: 1.702528744538966e+00
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.497802898550724
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   Final asset value: 1.120033164308969e+01
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1076
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   PnL from assets: 9.273164308969051e-02
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1076
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   initial_price: 8.902423600000001e-02
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   final_price: 9.891475499999999e-02
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   price_ratio: 1.1110991730386766
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   active_bin_index: 10
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 10 bins): 2.1093595123863578
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG - 
Calculating token values for 10 activated bins:
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2397070136464615
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.946824990653127e-02 = 8.902423600000001e-02 * 1.004987562112089
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.679241115109402e+00 = 0.2397070136464615 / 8.946824990653127e-02
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Final value: 2.650164784869733e-01 = 2.679241115109402e+00 * 9.891475499999999e-02
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.650164784869733e-01 = 0.2397070136464615 * (9.891475499999999e-02 / 8.946824990653127e-02)
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23276048686691442
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.036293240559659e-02 = 8.902423600000001e-02 * 1.0150374377332099
2025-07-15 17:58:17,375 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.575840343717072e+00 = 0.23276048686691442 / 9.036293240559659e-02
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -     Final value: 2.547886165178899e-01 = 2.575840343717072e+00 * 9.891475499999999e-02
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.547886165178899e-01 = 0.23276048686691442 * (9.891475499999999e-02 / 9.036293240559659e-02)
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.22602131909571194
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.126656172965256e-02 = 8.902423600000001e-02 * 1.025187812110542
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.476496482525839e+00 = 0.22602131909571194 / 9.126656172965256e-02
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -     Final value: 2.449620428274052e-01 = 2.476496482525839e+00 * 9.891475499999999e-02
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.449620428274052e-01 = 0.22602131909571194 * (9.891475499999999e-02 / 9.126656172965256e-02)
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21948951033285422
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.217922734694908e-02 = 8.902423600000001e-02 * 1.0354396902316474
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.381116837817786e+00 = 0.21948951033285422 / 9.217922734694908e-02
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -     Final value: 2.355275886391210e-01 = 2.381116837817786e+00 * 9.891475499999999e-02
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.355275886391210e-01 = 0.21948951033285422 * (9.891475499999999e-02 / 9.217922734694908e-02)
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2131650605783412
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.310101962041857e-02 = 8.902423600000001e-02 * 1.045794087133964
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.289610376421598e+00 = 0.2131650605783412 / 9.310101962041857e-02
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -     Final value: 2.264762494292002e-01 = 2.289610376421598e+00 * 9.891475499999999e-02
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.264762494292002e-01 = 0.2131650605783412 * (9.891475499999999e-02 / 9.310101962041857e-02)
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 5 more bins processed)
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.998240487613643 = 11.1076 - 2.1093595123863578
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -   Total token value: 2.236181002623732e+00
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.998240487613643
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -   Final asset value: 1.123442149023738e+01
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1076
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.268214902373757e-01
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -     PnL: 1.038392430896905e-01
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110760000000000e-02
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -     PnL from IL: 9.273164308969051e-02
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -     PnL: 1.359490718985412e-01
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -     PnL from fees: 9.127581661165516e-03
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.268214902373757e-01
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Gorbagana-SOL
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -   position_id: pos_06-21-12-26-37_29054741
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -   investment_sol: 8.8796 (from CSV: 8.8796)
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02674 (from CSV: 0.02674)
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -   Total points: 10
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750507200, 'close': 0.048005421, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,376 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750523400, 'close': 0.054722662, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   Valid prices: 10
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   Min price: 4.013819700000000e-02
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   Max price: 5.472266200000000e-02
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   Price ratio: 1.3633562563859059
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   investment_sol: 8.8796 (type: <class 'float'>)
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.02674 (type: <class 'float'>)
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-21 12:26:37
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-21 16:30:58
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   price_history length: 10
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.048005421, 0.044782503, 0.041743896, 0.043499804, 0.040138197]
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.042993273, 0.042324529, 0.043810932, 0.052047188, 0.054722662]
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   Initial price: 4.800542100000000e-02
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   Final price: 5.472266200000000e-02
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   Price ratio: 1.139926717859635
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   initial_sol: 8.8796
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   initial_price: 4.800542100000000e-02
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   final_price: 5.472266200000000e-02
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   price_ratio: 1.139926717859635
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   active_bin_index: 13
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 13 bins): 2.3086960000000003
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG - 
Calculating token values for 13 activated bins:
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.177592
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.824485101895448e-02 = 4.800542100000000e-02 * 1.004987562112089
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.681056034979308e+00 = 0.177592 / 4.824485101895448e-02
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Final value: 2.014371852052328e-01 = 3.681056034979308e+00 * 5.472266200000000e-02
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.014371852052328e-01 = 0.177592 * (5.472266200000000e-02 / 4.824485101895448e-02)
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.177592
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.872729952914402e-02 = 4.800542100000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.644609935623077e+00 = 0.177592 / 4.872729952914402e-02
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Final value: 1.994427576289434e-01 = 3.644609935623077e+00 * 5.472266200000000e-02
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.994427576289434e-01 = 0.177592 * (5.472266200000000e-02 / 4.872729952914402e-02)
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.177592
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.921457252443547e-02 = 4.800542100000000e-02 * 1.025187812110542
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.608524688735720e+00 = 0.177592 / 4.921457252443547e-02
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Final value: 1.974680768603400e-01 = 3.608524688735720e+00 * 5.472266200000000e-02
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.974680768603400e-01 = 0.177592 * (5.472266200000000e-02 / 4.921457252443547e-02)
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.177592
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.970671824967982e-02 = 4.800542100000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.572796721520515e+00 = 0.177592 / 4.970671824967982e-02
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Final value: 1.955129473864753e-01 = 3.572796721520515e+00 * 5.472266200000000e-02
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.955129473864753e-01 = 0.177592 * (5.472266200000000e-02 / 4.970671824967982e-02)
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.177592
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.020378543217662e-02 = 4.800542100000000e-02 * 1.045794087133964
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Tokens bought: 3.537422496554965e+00 = 0.177592 / 5.020378543217662e-02
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Final value: 1.935771756301735e-01 = 3.537422496554965e+00 * 5.472266200000000e-02
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.935771756301735e-01 = 0.177592 * (5.472266200000000e-02 / 5.020378543217662e-02)
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 8 more bins processed)
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 6.570904 = 8.8796 - 2.3086960000000003
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   Total token value: 2.468628310730800e+00
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   Remaining SOL: 6.570904
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   Final asset value: 9.039532310730799e+00
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.8796
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.599323107307988e-01
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   initial_sol: 8.8796
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   initial_price: 4.800542100000000e-02
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   final_price: 5.472266200000000e-02
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   price_ratio: 1.139926717859635
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   active_bin_index: 13
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 13 bins): 2.731314439084724
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG - 
Calculating token values for 13 activated bins:
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.26369721212121205
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.824485101895448e-02 = 4.800542100000000e-02 * 1.004987562112089
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.465810476181395e+00 = 0.26369721212121205 / 4.824485101895448e-02
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Final value: 2.991036992441335e-01 = 5.465810476181395e+00 * 5.472266200000000e-02
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.991036992441335e-01 = 0.26369721212121205 * (5.472266200000000e-02 / 4.824485101895448e-02)
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.253153716759431
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.872729952914402e-02 = 4.800542100000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Tokens bought: 5.195315956469506e+00 = 0.253153716759431 / 4.872729952914402e-02
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Final value: 2.843015190690875e-01 = 5.195315956469506e+00 * 5.472266200000000e-02
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.843015190690875e-01 = 0.253153716759431 * (5.472266200000000e-02 / 4.872729952914402e-02)
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.24304953370439072
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.921457252443547e-02 = 4.800542100000000e-02 * 1.025187812110542
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.938568420638308e+00 = 0.24304953370439072 / 4.921457252443547e-02
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Final value: 2.702516104464640e-01 = 4.938568420638308e+00 * 5.472266200000000e-02
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.702516104464640e-01 = 0.24304953370439072 * (5.472266200000000e-02 / 4.921457252443547e-02)
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2333846629560915
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Avg bin price: 4.970671824967982e-02 = 4.800542100000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.695233786784844e+00 = 0.2333846629560915 / 4.970671824967982e-02
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Final value: 2.569356915252071e-01 = 4.695233786784844e+00 * 5.472266200000000e-02
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.569356915252071e-01 = 0.2333846629560915 * (5.472266200000000e-02 / 4.970671824967982e-02)
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.22415910451453303
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Avg bin price: 5.020378543217662e-02 = 4.800542100000000e-02 * 1.045794087133964
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Tokens bought: 4.464984115936105e+00 = 0.22415910451453303 / 5.020378543217662e-02
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Final value: 2.443358166117403e-01 = 4.464984115936105e+00 * 5.472266200000000e-02
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.443358166117403e-01 = 0.22415910451453303 * (5.472266200000000e-02 / 5.020378543217662e-02)
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 8 more bins processed)
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 6.1482855609152764 = 8.8796 - 2.731314439084724
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,377 - DEEP_DEBUG - DEBUG -   Total token value: 2.936279782319554e+00
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   Remaining SOL: 6.1482855609152764
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   Final asset value: 9.084565343234830e+00
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.8796
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.049653432348304e-01
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -     PnL: 1.688119107307988e-01
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.879600000000000e-03
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.599323107307988e-01
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -     PnL: 2.138449432348304e-01
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.879600000000000e-03
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.049653432348304e-01
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Gorbagana-SOL
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   position_id: pos_06-21-17-08-23_29069972
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   investment_sol: 8.8797 (from CSV: 8.8797)
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.14853 (from CSV: -0.14853)
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   step_size: WIDE
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   Total points: 72
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750525200, 'close': 0.050775963, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750780800, 'close': 0.023439453, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   Valid prices: 72
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   Min price: 2.075794200000000e-02
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   Max price: 5.077596300000000e-02
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   Price ratio: 2.446098124756298
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   investment_sol: 8.8797 (type: <class 'float'>)
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.14853 (type: <class 'float'>)
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-21 17:08:23
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-24 16:58:13
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   close_reason: other
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   price_history length: 72
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.050775963, 0.048076854, 0.045941939, 0.045527297, 0.04319001]
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.026624946, 0.025193726, 0.02566411, 0.023364885, 0.023439453]
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   Initial price: 5.077596300000000e-02
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   Final price: 2.343945300000000e-02
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   Price ratio: 0.4616249818836523
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   initial_sol: 8.8797
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   initial_price: 5.077596300000000e-02
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   final_price: 2.343945300000000e-02
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   price_ratio: 0.4616249818836523
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.8797 = 8.8797 - 0
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.8797
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   Final asset value: 8.879700000000000e+00
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.8797
2025-07-15 17:58:17,378 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -   initial_sol: 8.8797
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -   initial_price: 5.077596300000000e-02
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -   final_price: 2.343945300000000e-02
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -   price_ratio: 0.4616249818836523
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -   num_bins: 50
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 8.8797 = 8.8797 - 0
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -   Remaining SOL: 8.8797
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -   Final asset value: 8.879700000000000e+00
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -   Initial SOL: 8.8797
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -     PnL: 8.879699999999999e-03
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.879699999999999e-03
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -     PnL: 8.879699999999999e-03
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -     PnL from fees: 8.879699999999999e-03
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -   position_id: pos_06-22-10-36-19_6733664
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1085 (from CSV: 11.1085)
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01521 (from CSV: 0.01521)
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -   Total points: 7
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750588200, 'close': 0.091597917, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750591800, 'close': 0.09438536, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -   Valid prices: 7
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -   Min price: 8.973778500000000e-02
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -   Max price: 9.622970500000000e-02
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0723432164054416
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -   investment_sol: 11.1085 (type: <class 'float'>)
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01521 (type: <class 'float'>)
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-22 10:36:19
2025-07-15 17:58:17,379 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-22 11:32:11
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   price_history length: 7
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.091597917, 0.090158238, 0.089737785, 0.08990594, 0.096229705]
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.089737785, 0.08990594, 0.096229705, 0.09438536, 0.09438536]
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   Initial price: 9.159791700000000e-02
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   Final price: 9.438536000000000e-02
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   Price ratio: 1.030431292449587
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1085
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   initial_price: 9.159791700000000e-02
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   final_price: 9.438536000000000e-02
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   price_ratio: 1.030431292449587
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.4829782608695652
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1609927536231884
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.205476730037547e-02 = 9.159791700000000e-02 * 1.004987562112089
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.748880132387579e+00 = 0.1609927536231884 / 9.205476730037547e-02
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     Final value: 1.650686808922493e-01 = 1.748880132387579e+00 * 9.438536000000000e-02
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.650686808922493e-01 = 0.1609927536231884 * (9.438536000000000e-02 / 9.205476730037547e-02)
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1609927536231884
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.297531497337923e-02 = 9.159791700000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.731564487512454e+00 = 0.1609927536231884 / 9.297531497337923e-02
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     Final value: 1.634343375170785e-01 = 1.731564487512454e+00 * 9.438536000000000e-02
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.634343375170785e-01 = 0.1609927536231884 * (9.438536000000000e-02 / 9.297531497337923e-02)
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.1609927536231884
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.390506812311303e-02 = 9.159791700000000e-02 * 1.025187812110542
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.714420284665796e+00 = 0.1609927536231884 / 9.390506812311303e-02
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     Final value: 1.618161757594836e-01 = 1.714420284665796e+00 * 9.438536000000000e-02
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.618161757594836e-01 = 0.1609927536231884 * (9.438536000000000e-02 / 9.390506812311303e-02)
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.625521739130434 = 11.1085 - 0.4829782608695652
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   Total token value: 4.903191941688114e-01
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.625521739130434
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111584093329925e+01
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1085
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   PnL from assets: 7.340933299246899e-03
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   initial_sol: 11.1085
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   initial_price: 9.159791700000000e-02
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   final_price: 9.438536000000000e-02
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   price_ratio: 1.030431292449587
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.6985454150876473
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.239726436052047
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.205476730037547e-02 = 9.159791700000000e-02 * 1.004987562112089
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.604171875963986e+00 = 0.239726436052047 / 9.205476730037547e-02
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     Final value: 2.457957000147362e-01 = 2.604171875963986e+00 * 9.438536000000000e-02
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.457957000147362e-01 = 0.239726436052047 * (9.438536000000000e-02 / 9.205476730037547e-02)
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2327793464259713
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.297531497337923e-02 = 9.159791700000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.503668274666463e+00 = 0.2327793464259713 / 9.297531497337923e-02
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     Final value: 2.363096314249730e-01 = 2.503668274666463e+00 * 9.438536000000000e-02
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.363096314249730e-01 = 0.2327793464259713 * (9.438536000000000e-02 / 9.297531497337923e-02)
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.22603963260962906
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     Avg bin price: 9.390506812311303e-02 = 9.159791700000000e-02 * 1.025187812110542
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.407107913635532e+00 = 0.22603963260962906 / 9.390506812311303e-02
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     Final value: 2.271957469873385e-01 = 2.407107913635532e+00 * 9.438536000000000e-02
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.271957469873385e-01 = 0.22603963260962906 * (9.438536000000000e-02 / 9.390506812311303e-02)
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.409954584912352 = 11.1085 - 0.6985454150876473
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   Total token value: 7.093010784270477e-01
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.409954584912352
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   Final asset value: 1.111925566333940e+01
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.1085
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.075566333940081e-02
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     PnL: 1.844943329924690e-02
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.110850000000000e-02
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     PnL from IL: 7.340933299246899e-03
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     PnL: 1.853161333940081e-02
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     PnL from fees: 7.775949999999999e-03
2025-07-15 17:58:17,380 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.075566333940081e-02
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   position_id: pos_06-22-13-10-39_6758081
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   investment_sol: 11.11 (from CSV: 11.11)
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.35679 (from CSV: 0.35679)
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   Total points: 9
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750597200, 'close': 0.081411947, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750611600, 'close': 0.086855018, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   Valid prices: 9
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   Min price: 7.647619899999999e-02
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   Max price: 8.685501800000001e-02
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1357130602162904
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   investment_sol: 11.11 (type: <class 'float'>)
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.35679 (type: <class 'float'>)
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-22 13:10:39
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-22 17:26:13
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   price_history length: 9
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.081411947, 0.079498086, 0.07698792, 0.076476199, 0.078564372]
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.078564372, 0.084423714, 0.082102824, 0.086659568, 0.086855018]
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   Initial price: 8.141194700000000e-02
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   Final price: 8.685501800000001e-02
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0668583813626273
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   initial_sol: 11.11
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   initial_price: 8.141194700000000e-02
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   final_price: 8.685501800000001e-02
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0668583813626273
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   active_bin_index: 6
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 6 bins): 0.9660869565217391
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG - 
Calculating token values for 6 activated bins:
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.181799414232860e-02 = 8.141194700000000e-02 * 1.004987562112089
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.967959425569958e+00 = 0.16101449275362317 / 8.181799414232860e-02
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -     Final value: 1.709271513311484e-01 = 1.967959425569958e+00 * 8.685501800000001e-02
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.709271513311484e-01 = 0.16101449275362317 * (8.685501800000001e-02 / 8.181799414232860e-02)
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.263617408375189e-02 = 8.141194700000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.948474678782137e+00 = 0.16101449275362317 / 8.263617408375189e-02
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -     Final value: 1.692348032981667e-01 = 1.948474678782137e+00 * 8.685501800000001e-02
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.692348032981667e-01 = 0.16101449275362317 * (8.685501800000001e-02 / 8.263617408375189e-02)
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.346253582458940e-02 = 8.141194700000000e-02 * 1.025187812110542
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.929182850279343e+00 = 0.16101449275362317 / 8.346253582458940e-02
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -     Final value: 1.675592111863037e-01 = 1.929182850279343e+00 * 8.685501800000001e-02
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.675592111863037e-01 = 0.16101449275362317 * (8.685501800000001e-02 / 8.346253582458940e-02)
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.429716118283530e-02 = 8.141194700000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.910082029979548e+00 = 0.16101449275362317 / 8.429716118283530e-02
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -     Final value: 1.659002090953502e-01 = 1.910082029979548e+00 * 8.685501800000001e-02
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.659002090953502e-01 = 0.16101449275362317 * (8.685501800000001e-02 / 8.429716118283530e-02)
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.16101449275362317
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.514013279466365e-02 = 8.141194700000000e-02 * 1.045794087133964
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.891170326712424e+00 = 0.16101449275362317 / 8.514013279466365e-02
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -     Final value: 1.642576327676734e-01 = 1.891170326712424e+00 * 8.685501800000001e-02
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -     Alt calculation: 1.642576327676734e-01 = 0.16101449275362317 * (8.685501800000001e-02 / 8.514013279466365e-02)
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 1 more bins processed)
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 10.14391304347826 = 11.11 - 0.9660869565217391
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   Total token value: 1.000510327250596e+00
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   Remaining SOL: 10.14391304347826
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   Final asset value: 1.114442337072886e+01
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.11
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   PnL from assets: 3.442337072885771e-02
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   initial_sol: 11.11
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   initial_price: 8.141194700000000e-02
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   final_price: 8.685501800000001e-02
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0668583813626273
2025-07-15 17:58:17,381 - DEEP_DEBUG - DEBUG -   active_bin_index: 6
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 6 bins): 1.338480501054754
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG - 
Calculating token values for 6 activated bins:
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23975880672802288
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.181799414232860e-02 = 8.141194700000000e-02 * 1.004987562112089
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.930392137345048e+00 = 0.23975880672802288 / 8.181799414232860e-02
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     Final value: 2.545192618361626e-01 = 2.930392137345048e+00 * 8.685501800000001e-02
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.545192618361626e-01 = 0.23975880672802288 * (8.685501800000001e-02 / 8.181799414232860e-02)
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.23281077902439942
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.263617408375189e-02 = 8.141194700000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.817298617775374e+00 = 0.23281077902439942 / 8.263617408375189e-02
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     Final value: 2.446965221582553e-01 = 2.817298617775374e+00 * 8.685501800000001e-02
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.446965221582553e-01 = 0.23281077902439942 * (8.685501800000001e-02 / 8.263617408375189e-02)
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2260701551328243
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.346253582458940e-02 = 8.141194700000000e-02 * 1.025187812110542
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.708642301594441e+00 = 0.2260701551328243 / 8.346253582458940e-02
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     Final value: 2.352591758605466e-01 = 2.708642301594441e+00 * 8.685501800000001e-02
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.352591758605466e-01 = 0.2260701551328243 * (8.685501800000001e-02 / 8.346253582458940e-02)
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21953693505329777
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.429716118283530e-02 = 8.141194700000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.604321806011187e+00 = 0.21953693505329777 / 8.429716118283530e-02
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     Final value: 2.261984173388942e-01 = 2.604321806011187e+00 * 8.685501800000001e-02
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.261984173388942e-01 = 0.21953693505329777 * (8.685501800000001e-02 / 8.429716118283530e-02)
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.2132111187858197
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     Avg bin price: 8.514013279466365e-02 = 8.141194700000000e-02 * 1.045794087133964
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     Tokens bought: 2.504237564440153e+00 = 0.2132111187858197 / 8.514013279466365e-02
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     Final value: 2.175055987357257e-01 = 2.504237564440153e+00 * 8.685501800000001e-02
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.175055987357257e-01 = 0.2132111187858197 * (8.685501800000001e-02 / 8.514013279466365e-02)
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 1 more bins processed)
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.771519498945246 = 11.11 - 1.338480501054754
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -   Total token value: 1.387351203399652e+00
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.771519498945246
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -   Final asset value: 1.115887070234490e+01
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -   Initial SOL: 11.11
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -   PnL from assets: 4.887070234489777e-02
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     PnL: 4.553337072885771e-02
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.111000000000000e-02
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     PnL from IL: 3.442337072885771e-02
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     PnL: 5.664770234489776e-02
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     PnL from fees: 7.776999999999999e-03
2025-07-15 17:58:17,382 - DEEP_DEBUG - DEBUG -     PnL from IL: 4.887070234489777e-02
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Hosico cat-SOL
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   position_id: pos_06-23-23-31-04_6949218
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   investment_sol: 20.2 (from CSV: 20.2)
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01028 (from CSV: 0.01028)
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   Total points: 14
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750721400, 'close': 0.021908858, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750729200, 'close': 0.02209561, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   Valid prices: 14
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   Min price: 2.190885800000000e-02
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   Max price: 2.209561000000000e-02
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0085240408240357
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   investment_sol: 20.2 (type: <class 'float'>)
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01028 (type: <class 'float'>)
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-23 23:31:04
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-24 01:40:52
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   price_history length: 14
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.021908858, 0.021908858, 0.021908858, 0.021908858, 0.021908858]
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.021908858, 0.021908858, 0.021908858, 0.021908858, 0.02209561]
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   Initial price: 2.190885800000000e-02
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   Final price: 2.209561000000000e-02
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0085240408240357
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   initial_sol: 20.2
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   initial_price: 2.190885800000000e-02
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   final_price: 2.209561000000000e-02
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0085240408240357
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 20.2 = 20.2 - 0
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   Remaining SOL: 20.2
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   Final asset value: 2.020000000000000e+01
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   Initial SOL: 20.2
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   initial_sol: 20.2
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   initial_price: 2.190885800000000e-02
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   final_price: 2.209561000000000e-02
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0085240408240357
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 20.2 = 20.2 - 0
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   Remaining SOL: 20.2
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   Final asset value: 2.020000000000000e+01
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   Initial SOL: 20.2
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -     PnL: 2.020000000000000e-02
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -     PnL from fees: 2.020000000000000e-02
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -     PnL: 1.414000000000000e-02
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.414000000000000e-02
2025-07-15 17:58:17,385 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   position_id: pos_06-24-01-42-49_6954614
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   investment_sol: 20.2 (from CSV: 20.2)
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01229 (from CSV: 0.01229)
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   Total points: 22
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750729200, 'close': 0.13373865, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750741800, 'close': 0.131754401, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   Valid prices: 22
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   Min price: 1.254976190000000e-01
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   Max price: 1.350940850000000e-01
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0764673152882684
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   investment_sol: 20.2 (type: <class 'float'>)
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01229 (type: <class 'float'>)
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-24 01:42:49
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-24 05:19:40
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   price_history length: 22
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.13373865, 0.13373865, 0.13373865, 0.133757398, 0.12733241]
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.131754401, 0.131754401, 0.131754401, 0.131754401, 0.131754401]
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   Initial price: 1.337386500000000e-01
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   Final price: 1.317544010000000e-01
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9851632344127895
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   initial_sol: 20.2
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   initial_price: 1.337386500000000e-01
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   final_price: 1.317544010000000e-01
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9851632344127895
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 20.2 = 20.2 - 0
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   Remaining SOL: 20.2
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   Final asset value: 2.020000000000000e+01
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   Initial SOL: 20.2
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   initial_sol: 20.2
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   initial_price: 1.337386500000000e-01
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   final_price: 1.317544010000000e-01
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9851632344127895
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 20.2 = 20.2 - 0
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   Remaining SOL: 20.2
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   Final asset value: 2.020000000000000e+01
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   Initial SOL: 20.2
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -     PnL: 2.020000000000000e-02
2025-07-15 17:58:17,386 - DEEP_DEBUG - DEBUG -     PnL from fees: 2.020000000000000e-02
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -     PnL: 2.020000000000000e-02
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -     PnL from fees: 2.020000000000000e-02
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   position_id: pos_06-24-05-45-19_6968710
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   investment_sol: 20.2 (from CSV: 20.2)
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.01853 (from CSV: -0.01853)
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   Total points: 12
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750743000, 'close': 0.143552032, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750762800, 'close': 0.124816337, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   Valid prices: 12
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   Min price: 1.243232660000000e-01
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   Max price: 1.435520320000000e-01
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1546674779280652
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   investment_sol: 20.2 (type: <class 'float'>)
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.01853 (type: <class 'float'>)
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-24 05:45:19
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-24 11:05:36
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   price_history length: 12
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.143552032, 0.134505974, 0.133764418, 0.134183398, 0.131296559]
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.129353914, 0.127521823, 0.12657393, 0.12553784, 0.124816337]
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   Initial price: 1.435520320000000e-01
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   Final price: 1.248163370000000e-01
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   Price ratio: 0.8694849892476618
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   initial_sol: 20.2
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   initial_price: 1.435520320000000e-01
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   final_price: 1.248163370000000e-01
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8694849892476618
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 20.2 = 20.2 - 0
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   Remaining SOL: 20.2
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   Final asset value: 2.020000000000000e+01
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   Initial SOL: 20.2
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   initial_sol: 20.2
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   initial_price: 1.435520320000000e-01
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   final_price: 1.248163370000000e-01
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8694849892476618
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 20.2 = 20.2 - 0
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   Remaining SOL: 20.2
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   Final asset value: 2.020000000000000e+01
2025-07-15 17:58:17,387 - DEEP_DEBUG - DEBUG -   Initial SOL: 20.2
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -     PnL: 2.020000000000000e-02
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -     PnL from fees: 2.020000000000000e-02
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -     PnL: 1.056126109565737e-02
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.056126109565737e-02
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Gorbagana-SOL
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   position_id: pos_06-25-02-45-13_16368025
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (from CSV: 15.0)
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.60608 (from CSV: 0.60608)
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   Total points: 38
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750816800, 'close': 0.022297335, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750950000, 'close': 0.022337649, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   Valid prices: 38
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   Min price: 1.532342000000000e-02
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   Max price: 2.233764900000000e-02
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   Price ratio: 1.4577456599114298
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (type: <class 'float'>)
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.60608 (type: <class 'float'>)
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-25 02:45:13
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-26 15:03:51
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   price_history length: 38
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.022297335, 0.020955459, 0.02175348, 0.018933202, 0.018461528]
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.016103668, 0.016315112, 0.016360249, 0.02122294, 0.022337649]
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   Initial price: 2.229733500000000e-02
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   Final price: 2.233764900000000e-02
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0018080187609864
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   initial_price: 2.229733500000000e-02
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   final_price: 2.233764900000000e-02
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0018080187609864
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 15.0 = 15.0 - 0
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   Remaining SOL: 15.0
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500000000000000e+01
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   initial_price: 2.229733500000000e-02
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   final_price: 2.233764900000000e-02
2025-07-15 17:58:17,388 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0018080187609864
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 15.0 = 15.0 - 0
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -   Remaining SOL: 15.0
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500000000000000e+01
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -     PnL: 1.500000000000000e-02
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.500000000000000e-02
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -     PnL: 1.050000000000000e-02
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.050000000000000e-02
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for unstable coin-SOL
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -   position_id: pos_06-26-07-50-04_7154127
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (from CSV: 15.0)
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.04777 (from CSV: 0.04777)
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -   Total points: 14
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1750923000, 'close': 0.019883641, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1750946400, 'close': 0.020707398, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -   Valid prices: 14
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -   Min price: 1.803940800000000e-02
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -   Max price: 2.070739800000000e-02
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -   Price ratio: 1.147897868932284
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (type: <class 'float'>)
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.04777 (type: <class 'float'>)
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-26 07:50:04
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-26 14:21:41
2025-07-15 17:58:17,389 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   price_history length: 14
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.019883641, 0.019955716, 0.019816267, 0.019564895, 0.018970667]
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.018395355, 0.018273164, 0.019234215, 0.020270524, 0.020707398]
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   Initial price: 1.988364100000000e-02
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   Final price: 2.070739800000000e-02
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0414288811591397
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   initial_price: 1.988364100000000e-02
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   final_price: 2.070739800000000e-02
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0414288811591397
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   active_bin_index: 4
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 4 bins): 0.8695652173913043
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG - 
Calculating token values for 4 activated bins:
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.998281189450198e-02 = 1.988364100000000e-02 * 1.004987562112089
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.087891461399577e+01 = 0.21739130434782608 / 1.998281189450198e-02
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Final value: 2.252740147200268e-01 = 1.087891461399577e+01 * 2.070739800000000e-02
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.252740147200268e-01 = 0.21739130434782608 * (2.070739800000000e-02 / 1.998281189450198e-02)
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.018264001344700e-02 = 1.988364100000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.077120258811462e+01 = 0.21739130434782608 / 2.018264001344700e-02
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Final value: 2.230435789307196e-01 = 1.077120258811462e+01 * 2.070739800000000e-02
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.230435789307195e-01 = 0.21739130434782608 * (2.070739800000000e-02 / 2.018264001344700e-02)
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.038446641358147e-02 = 1.988364100000000e-02 * 1.025187812110542
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.066455701793527e+01 = 0.21739130434782608 / 2.038446641358147e-02
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Final value: 2.208352266640788e-01 = 1.066455701793527e+01 * 2.070739800000000e-02
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.208352266640788e-01 = 0.21739130434782608 * (2.070739800000000e-02 / 2.038446641358147e-02)
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.058831107771729e-02 = 1.988364100000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.055896734449037e+01 = 0.21739130434782608 / 2.058831107771729e-02
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Final value: 2.186487392713651e-01 = 1.055896734449037e+01 * 2.070739800000000e-02
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.186487392713651e-01 = 0.21739130434782608 * (2.070739800000000e-02 / 2.058831107771729e-02)
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 14.130434782608695 = 15.0 - 0.8695652173913043
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   Total token value: 8.878015595861901e-01
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   Remaining SOL: 14.130434782608695
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   Final asset value: 1.501823634219489e+01
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.823634219488568e-02
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   initial_price: 1.988364100000000e-02
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   final_price: 2.070739800000000e-02
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0414288811591397
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   active_bin_index: 4
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 4 bins): 1.2396624787649115
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG - 
Calculating token values for 4 activated bins:
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.3237067597588068
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.998281189450198e-02 = 1.988364100000000e-02 * 1.004987562112089
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.619925971719078e+01 = 0.3237067597588068 / 1.998281189450198e-02
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Final value: 3.354445182692370e-01 = 1.619925971719078e+01 * 2.070739800000000e-02
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.354445182692370e-01 = 0.3237067597588068 * (2.070739800000000e-02 / 1.998281189450198e-02)
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.3143259842813674
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.018264001344700e-02 = 1.988364100000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.557407673485445e+01 = 0.3143259842813674 / 2.018264001344700e-02
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Final value: 3.224986054311715e-01 = 1.557407673485445e+01 * 2.070739800000000e-02
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.224986054311715e-01 = 0.3143259842813674 * (2.070739800000000e-02 / 2.018264001344700e-02)
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.3052252319525081
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.038446641358147e-02 = 1.988364100000000e-02 * 1.025187812110542
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.497342269156219e+01 = 0.3052252319525081 / 2.038446641358147e-02
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Final value: 3.100606230964095e-01 = 1.497342269156219e+01 * 2.070739800000000e-02
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.100606230964095e-01 = 0.3052252319525081 * (2.070739800000000e-02 / 2.038446641358147e-02)
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.29640450277222924
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.058831107771729e-02 = 1.988364100000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.439673714144662e+01 = 0.29640450277222924 / 2.058831107771729e-02
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Final value: 2.981189658893174e-01 = 1.439673714144662e+01 * 2.070739800000000e-02
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.981189658893174e-01 = 0.29640450277222924 * (2.070739800000000e-02 / 2.058831107771729e-02)
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 13.760337521235089 = 15.0 - 1.2396624787649115
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   Total token value: 1.266122712686135e+00
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   Remaining SOL: 13.760337521235089
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   Final asset value: 1.502646023392122e+01
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.646023392122387e-02
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     PnL: 3.323634219488568e-02
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.500000000000000e-02
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.823634219488568e-02
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     PnL: 3.696023392122387e-02
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.050000000000000e-02
2025-07-15 17:58:17,390 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.646023392122387e-02
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for unstable coin-SOL
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   position_id: pos_06-27-18-45-46_16515231
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (from CSV: 15.0)
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.132 (from CSV: -0.132)
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   Total points: 17
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1751047200, 'close': 0.022629831, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1751104800, 'close': 0.018391269, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   Valid prices: 17
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   Min price: 1.839126900000000e-02
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   Max price: 2.262983100000000e-02
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2304659890516527
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (type: <class 'float'>)
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   pnl_sol: -0.132 (type: <class 'float'>)
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-27 18:45:46
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-28 10:17:43
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   close_reason: LV
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   price_history length: 17
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.022629831, 0.022289586, 0.021539032, 0.020836086, 0.019381897]
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.019536681, 0.01842693, 0.018562662, 0.018870105, 0.018391269]
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   Initial price: 2.262983100000000e-02
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   Final price: 1.839126900000000e-02
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   Price ratio: 0.8127002362501071
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   initial_price: 2.262983100000000e-02
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   final_price: 1.839126900000000e-02
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8127002362501071
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 15.0 = 15.0 - 0
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   Remaining SOL: 15.0
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500000000000000e+01
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   initial_price: 2.262983100000000e-02
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   final_price: 1.839126900000000e-02
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   price_ratio: 0.8127002362501071
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 15.0 = 15.0 - 0
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   Remaining SOL: 15.0
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500000000000000e+01
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -     PnL: 1.500000000000000e-02
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.500000000000000e-02
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -     PnL: 5.255288650294387e-03
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -     PnL from fees: 5.255288650294387e-03
2025-07-15 17:58:17,391 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Hosico cat-SOL
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   position_id: pos_06-29-03-27-28_7467929
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (from CSV: 15.0)
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.05743 (from CSV: 0.05743)
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   Total points: 14
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1751166000, 'close': 0.030285968, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1751212800, 'close': 0.030448169, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   Valid prices: 14
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   Min price: 2.670341300000000e-02
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   Max price: 3.047109800000000e-02
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   Price ratio: 1.141093762059554
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (type: <class 'float'>)
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.05743 (type: <class 'float'>)
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-29 03:27:28
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-29 16:27:46
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   price_history length: 14
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.030285968, 0.029014554, 0.027905465, 0.028416337, 0.027170578]
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.026703413, 0.027681061, 0.028159831, 0.030471098, 0.030448169]
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   Initial price: 3.028596800000000e-02
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   Final price: 3.044816900000000e-02
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0053556485300388
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   initial_price: 3.028596800000000e-02
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   final_price: 3.044816900000000e-02
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0053556485300388
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 15.0 = 15.0 - 0
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   Remaining SOL: 15.0
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500000000000000e+01
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,392 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -   initial_price: 3.028596800000000e-02
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -   final_price: 3.044816900000000e-02
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0053556485300388
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 15.0 = 15.0 - 0
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -   Remaining SOL: 15.0
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500000000000000e+01
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -     PnL: 1.500000000000000e-02
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.500000000000000e-02
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -     PnL: 1.050000000000000e-02
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.050000000000000e-02
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Gorbagana-SOL
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -   position_id: pos_06-30-12-19-46_16961625
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (from CSV: 15.0)
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.19182 (from CSV: 0.19182)
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -   Total points: 39
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1751284800, 'close': 0.019840194, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1751421600, 'close': 0.025272828, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -   Valid prices: 39
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -   Min price: 1.674883900000000e-02
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -   Max price: 2.527282800000000e-02
2025-07-15 17:58:17,393 - DEEP_DEBUG - DEBUG -   Price ratio: 1.5089301413668135
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (type: <class 'float'>)
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.19182 (type: <class 'float'>)
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-30 12:19:46
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-07-02 02:05:53
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -   price_history length: 39
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.019840194, 0.020224348, 0.020518547, 0.020608712, 0.019631655]
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.017970021, 0.017793324, 0.019285706, 0.020106169, 0.025272828]
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -   Initial price: 1.984019400000000e-02
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -   Final price: 2.527282800000000e-02
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -   Price ratio: 1.2738196007559202
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -   initial_price: 1.984019400000000e-02
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -   final_price: 2.527282800000000e-02
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -   price_ratio: 1.2738196007559202
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -   active_bin_index: 24
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 24 bins): 5.217391304347827
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG - 
Calculating token values for 24 activated bins:
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.993914819989089e-02 = 1.984019400000000e-02 * 1.004987562112089
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.090273777838793e+01 = 0.21739130434782608 / 1.993914819989089e-02
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Final value: 2.755430166023002e-01 = 1.090273777838793e+01 * 2.527282800000000e-02
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.755430166023002e-01 = 0.21739130434782608 * (2.527282800000000e-02 / 1.993914819989089e-02)
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.013853968188980e-02 = 1.984019400000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.079478987959201e+01 = 0.21739130434782608 / 2.013853968188980e-02
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Final value: 2.728148679230695e-01 = 1.079478987959201e+01 * 2.527282800000000e-02
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.728148679230695e-01 = 0.21739130434782608 * (2.527282800000000e-02 / 2.013853968188980e-02)
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.033992507870870e-02 = 1.984019400000000e-02 * 1.025187812110542
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.068791077187328e+01 = 0.21739130434782608 / 2.033992507870870e-02
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Final value: 2.701137306169005e-01 = 1.068791077187328e+01 * 2.527282800000000e-02
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.701137306169005e-01 = 0.21739130434782608 * (2.527282800000000e-02 / 2.033992507870870e-02)
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.054332432949579e-02 = 1.984019400000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.058208987314186e+01 = 0.21739130434782608 / 2.054332432949579e-02
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Final value: 2.674393372444560e-01 = 1.058208987314186e+01 * 2.527282800000000e-02
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.674393372444560e-01 = 0.21739130434782608 * (2.527282800000000e-02 / 2.054332432949579e-02)
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.074875757279075e-02 = 1.984019400000000e-02 * 1.045794087133964
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.047731670608104e+01 = 0.21739130434782608 / 2.074875757279075e-02
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Final value: 2.647914230143128e-01 = 1.047731670608104e+01 * 2.527282800000000e-02
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.647914230143127e-01 = 0.21739130434782608 * (2.527282800000000e-02 / 2.074875757279075e-02)
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 19 more bins processed)
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.782608695652172 = 15.0 - 5.217391304347827
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -   Total token value: 5.912001677895821e+00
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.782608695652172
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -   Final asset value: 1.569461037354799e+01
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -   PnL from assets: 6.946103735479934e-01
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -   initial_price: 1.984019400000000e-02
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -   final_price: 2.527282800000000e-02
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -   price_ratio: 1.2738196007559202
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -   active_bin_index: 24
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 24 bins): 5.746635055164561
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG - 
Calculating token values for 24 activated bins:
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.3237067597588068
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.993914819989089e-02 = 1.984019400000000e-02 * 1.004987562112089
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.623473362621268e+01 = 0.3237067597588068 / 1.993914819989089e-02
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Final value: 4.102976305610895e-01 = 1.623473362621268e+01 * 2.527282800000000e-02
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Alt calculation: 4.102976305610895e-01 = 0.3237067597588068 * (2.527282800000000e-02 / 1.993914819989089e-02)
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.3143259842813674
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.013853968188980e-02 = 1.984019400000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.560818158846119e+01 = 0.3143259842813674 / 2.013853968188980e-02
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Final value: 3.944628886779463e-01 = 1.560818158846119e+01 * 2.527282800000000e-02
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.944628886779463e-01 = 0.3143259842813674 * (2.527282800000000e-02 / 2.013853968188980e-02)
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.3052252319525081
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.033992507870870e-02 = 1.984019400000000e-02 * 1.025187812110542
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.500621220439056e+01 = 0.3052252319525081 / 2.033992507870870e-02
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Final value: 3.792494199730634e-01 = 1.500621220439056e+01 * 2.527282800000000e-02
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.792494199730634e-01 = 0.3052252319525081 * (2.527282800000000e-02 / 2.033992507870870e-02)
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG - 
  Bin 3:
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.29640450277222924
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0354396902316474
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.054332432949579e-02 = 1.984019400000000e-02 * 1.0354396902316474
2025-07-15 17:58:17,394 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.442826380084241e+01 = 0.29640450277222924 / 2.054332432949579e-02
2025-07-15 17:58:17,395 - DEEP_DEBUG - DEBUG -     Final value: 3.646430293773165e-01 = 1.442826380084241e+01 * 2.527282800000000e-02
2025-07-15 17:58:17,395 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.646430293773165e-01 = 0.29640450277222924 * (2.527282800000000e-02 / 2.054332432949579e-02)
2025-07-15 17:58:17,395 - DEEP_DEBUG - DEBUG - 
  Bin 4:
2025-07-15 17:58:17,395 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.28786379674053064
2025-07-15 17:58:17,395 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.045794087133964
2025-07-15 17:58:17,395 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.074875757279075e-02 = 1.984019400000000e-02 * 1.045794087133964
2025-07-15 17:58:17,395 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.387378476666121e+01 = 0.28786379674053064 / 2.074875757279075e-02
2025-07-15 17:58:17,395 - DEEP_DEBUG - DEBUG -     Final value: 3.506297761168488e-01 = 1.387378476666121e+01 * 2.527282800000000e-02
2025-07-15 17:58:17,395 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.506297761168488e-01 = 0.28786379674053064 * (2.527282800000000e-02 / 2.074875757279075e-02)
2025-07-15 17:58:17,395 - DEEP_DEBUG - DEBUG - 
  ... (showing only first 5 bins, 19 more bins processed)
2025-07-15 17:58:17,395 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 9.25336494483544 = 15.0 - 5.746635055164561
2025-07-15 17:58:17,395 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,395 - DEEP_DEBUG - DEBUG -   Total token value: 6.593666385116749e+00
2025-07-15 17:58:17,395 - DEEP_DEBUG - DEBUG -   Remaining SOL: 9.25336494483544
2025-07-15 17:58:17,395 - DEEP_DEBUG - DEBUG -   Final asset value: 1.584703132995219e+01
2025-07-15 17:58:17,395 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:17,395 - DEEP_DEBUG - DEBUG -   PnL from assets: 8.470313299521877e-01
2025-07-15 17:58:17,395 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,395 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,395 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,395 - DEEP_DEBUG - DEBUG -     PnL: 7.096103735479934e-01
2025-07-15 17:58:17,395 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.500000000000000e-02
2025-07-15 17:58:17,395 - DEEP_DEBUG - DEBUG -     PnL from IL: 6.946103735479934e-01
2025-07-15 17:58:17,395 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,395 - DEEP_DEBUG - DEBUG -     PnL: 8.575313299521876e-01
2025-07-15 17:58:17,395 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.050000000000000e-02
2025-07-15 17:58:17,395 - DEEP_DEBUG - DEBUG -     PnL from IL: 8.470313299521877e-01
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Hosico cat-SOL
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   position_id: pos_06-30-15-54-46_7700394
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (from CSV: 15.0)
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01452 (from CSV: 0.01452)
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   Total points: 11
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1751297400, 'close': 0.031390803, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1751315400, 'close': 0.030975887, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   Valid prices: 11
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   Min price: 3.061588700000000e-02
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   Max price: 3.336066900000000e-02
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0896522122648284
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (type: <class 'float'>)
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01452 (type: <class 'float'>)
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-06-30 15:54:46
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-06-30 20:38:01
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   price_history length: 11
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.031390803, 0.031660861, 0.032331939, 0.03142921, 0.030746645]
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.030659699, 0.031352114, 0.031875931, 0.033360669, 0.030975887]
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   Initial price: 3.139080300000000e-02
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   Final price: 3.097588700000000e-02
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9867822431939699
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   initial_price: 3.139080300000000e-02
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   final_price: 3.097588700000000e-02
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9867822431939699
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 15.0 = 15.0 - 0
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   Remaining SOL: 15.0
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500000000000000e+01
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   initial_price: 3.139080300000000e-02
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   final_price: 3.097588700000000e-02
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9867822431939699
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 15.0 = 15.0 - 0
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   Remaining SOL: 15.0
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500000000000000e+01
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -     PnL: 1.500000000000000e-02
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.500000000000000e-02
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -     PnL: 1.050000000000000e-02
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.050000000000000e-02
2025-07-15 17:58:17,396 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for USELESS COIN-SOL
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   position_id: pos_07-01-11-21-26_7821001
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (from CSV: 15.0)
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03032 (from CSV: 0.03032)
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   Total points: 21
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1751367600, 'close': 0.192378291, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1751403600, 'close': 0.198147219, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   Valid prices: 21
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   Min price: 1.720634850000000e-01
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   Max price: 1.981472190000000e-01
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1515936632342418
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (type: <class 'float'>)
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.03032 (type: <class 'float'>)
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-07-01 11:21:26
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-07-01 21:07:12
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   price_history length: 21
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.192378291, 0.188861363, 0.188861363, 0.186150155, 0.183695116]
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.172063485, 0.180702724, 0.184431109, 0.194243225, 0.198147219]
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   Initial price: 1.923782910000000e-01
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   Final price: 1.981472190000000e-01
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0299874168234502
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   initial_price: 1.923782910000000e-01
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   final_price: 1.981472190000000e-01
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0299874168234502
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   active_bin_index: 2
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 2 bins): 0.43478260869565216
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG - 
Calculating token values for 2 activated bins:
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.933377896753800e-01 = 1.923782910000000e-01 * 1.004987562112089
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.124411863365318e+00 = 0.21739130434782608 / 1.933377896753800e-01
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -     Final value: 2.227990837364458e-01 = 1.124411863365318e+00 * 1.981472190000000e-01
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.227990837364458e-01 = 0.21739130434782608 * (1.981472190000000e-01 / 1.933377896753800e-01)
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.952711675721338e-01 = 1.923782910000000e-01 * 1.0150374377332099
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.113279072638929e+00 = 0.21739130434782608 / 1.952711675721338e-01
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -     Final value: 2.205931522143028e-01 = 1.113279072638929e+00 * 1.981472190000000e-01
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.205931522143028e-01 = 0.21739130434782608 * (1.981472190000000e-01 / 1.952711675721338e-01)
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 14.565217391304348 = 15.0 - 0.43478260869565216
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   Total token value: 4.433922359507486e-01
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   Remaining SOL: 14.565217391304348
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500860962725510e+01
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   PnL from assets: 8.609627255095731e-03
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   initial_price: 1.923782910000000e-01
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   final_price: 1.981472190000000e-01
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0299874168234502
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   active_bin_index: 2
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 2 bins): 0.6380327440401742
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG - 
Calculating token values for 2 activated bins:
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.3237067597588068
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.933377896753800e-01 = 1.923782910000000e-01 * 1.004987562112089
2025-07-15 17:58:17,397 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.674306716252007e+00 = 0.3237067597588068 / 1.933377896753800e-01
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -     Final value: 3.317592195783574e-01 = 1.674306716252007e+00 * 1.981472190000000e-01
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.317592195783574e-01 = 0.3237067597588068 * (1.981472190000000e-01 / 1.933377896753800e-01)
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.3143259842813674
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -     Avg bin price: 1.952711675721338e-01 = 1.923782910000000e-01 * 1.0150374377332099
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.609689685320565e+00 = 0.3143259842813674 / 1.952711675721338e-01
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -     Final value: 3.189555345992550e-01 = 1.609689685320565e+00 * 1.981472190000000e-01
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.189555345992550e-01 = 0.3143259842813674 * (1.981472190000000e-01 / 1.952711675721338e-01)
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 14.361967255959826 = 15.0 - 0.6380327440401742
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -   Total token value: 6.507147541776124e-01
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -   Remaining SOL: 14.361967255959826
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -   Final asset value: 1.501268201013744e+01
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.268201013743742e-02
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -     PnL: 2.360962725509573e-02
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.500000000000000e-02
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -     PnL from IL: 8.609627255095731e-03
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -     PnL: 2.318201013743742e-02
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.050000000000000e-02
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.268201013743742e-02
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Gorbagana-SOL
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -   position_id: pos_07-02-02-45-37_17147526
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (from CSV: 15.0)
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.06228 (from CSV: 0.06228)
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -   Total points: 17
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1751424000, 'close': 0.02767952, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1751433600, 'close': 0.026839468, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -   Valid prices: 17
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -   Min price: 2.454776600000000e-02
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -   Max price: 2.876712800000000e-02
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -   Price ratio: 1.1718837469772199
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (type: <class 'float'>)
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.06228 (type: <class 'float'>)
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-07-02 02:45:37
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-07-02 05:24:53
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -   price_history length: 17
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.02767952, 0.025272828, 0.028223237, 0.026347416, 0.026382128]
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.026973457, 0.027187481, 0.026912461, 0.028556835, 0.026839468]
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -   Initial price: 2.767952000000000e-02
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -   Final price: 2.683946800000000e-02
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG -   Price ratio: 0.9696507742908836
2025-07-15 17:58:17,398 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   initial_price: 2.767952000000000e-02
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   final_price: 2.683946800000000e-02
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9696507742908836
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 15.0 = 15.0 - 0
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   Remaining SOL: 15.0
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500000000000000e+01
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   initial_price: 2.767952000000000e-02
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   final_price: 2.683946800000000e-02
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   price_ratio: 0.9696507742908836
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   active_bin_index: 0
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 0 bins): 0
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 15.0 = 15.0 - 0
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   Total token value: 0.000000000000000e+00
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   Remaining SOL: 15.0
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   Final asset value: 1.500000000000000e+01
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   PnL from assets: 0.000000000000000e+00
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -     PnL: 1.500000000000000e-02
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.500000000000000e-02
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -     PnL: 1.050000000000000e-02
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.050000000000000e-02
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -     PnL from IL: 0.000000000000000e+00
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG - BEFORE CALLING SIMULATOR for Gorbagana-SOL
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG - Position data:
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   position_id: pos_07-02-05-26-07_17160723
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (from CSV: 15.0)
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01915 (from CSV: 0.01915)
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   step_size: SIXTYNINE
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG - 
Price history check:
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   Total points: 22
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   First entry: {'timestamp': 1751433600, 'close': 0.026839468, 'is_forward_filled': False, 'forward_filled': False}
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   Last entry: {'timestamp': 1751446200, 'close': 0.027830338, 'is_forward_filled': True, 'forward_filled': False}
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   Valid prices: 22
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   Min price: 2.487118400000000e-02
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   Max price: 2.875768500000000e-02
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   Price ratio: 1.156265218415014
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG - 
================================================================================
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG - ENTERING run_all_simulations
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG - Inputs:
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   investment_sol: 15.0 (type: <class 'float'>)
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   pnl_sol: 0.01915 (type: <class 'float'>)
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   open_timestamp: 2025-07-02 05:26:07
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   close_timestamp: 2025-07-02 08:55:12
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   close_reason: OOR
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   price_history length: 22
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG - 
Price analysis:
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   First 5 prices: [0.026839468, 0.026245034, 0.026385678, 0.025623619, 0.025623619]
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   Last 5 prices: [0.027004109, 0.027004109, 0.028757685, 0.027830338, 0.027830338]
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   Initial price: 2.683946800000000e-02
2025-07-15 17:58:17,399 - DEEP_DEBUG - DEBUG -   Final price: 2.783033800000000e-02
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -   Price ratio: 1.0369183919740883
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -   initial_price: 2.683946800000000e-02
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -   final_price: 2.783033800000000e-02
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0369183919740883
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.6521739130434783
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.697333151370542e-02 = 2.683946800000000e-02 * 1.004987562112089
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     Tokens bought: 8.059490324262221e+00 = 0.21739130434782608 / 2.697333151370542e-02
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     Final value: 2.242983398319472e-01 = 8.059490324262221e+00 * 2.783033800000000e-02
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.242983398319472e-01 = 0.21739130434782608 * (2.783033800000000e-02 / 2.697333151370542e-02)
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.724306482884248e-02 = 2.683946800000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     Tokens bought: 7.979693390358634e+00 = 0.21739130434782608 / 2.724306482884248e-02
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     Final value: 2.220775641900467e-01 = 7.979693390358634e+00 * 2.783033800000000e-02
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.220775641900467e-01 = 0.21739130434782608 * (2.783033800000000e-02 / 2.724306482884248e-02)
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.21739130434782608
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.751549547713090e-02 = 2.683946800000000e-02 * 1.025187812110542
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     Tokens bought: 7.900686525107559e+00 = 0.21739130434782608 / 2.751549547713090e-02
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     Final value: 2.198787764257888e-01 = 7.900686525107559e+00 * 2.783033800000000e-02
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     Alt calculation: 2.198787764257888e-01 = 0.21739130434782608 * (2.783033800000000e-02 / 2.751549547713090e-02)
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 14.347826086956522 = 15.0 - 0.6521739130434783
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -   Total token value: 6.662546804477827e-01
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -   Remaining SOL: 14.347826086956522
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -   Final asset value: 1.501408076740430e+01
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -   PnL from assets: 1.408076740430353e-02
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG - ENTERING _calculate_pnl_from_assets
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG - Input parameters:
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -   initial_sol: 15.0
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -   initial_price: 2.683946800000000e-02
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -   final_price: 2.783033800000000e-02
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -   price_ratio: 1.0369183919740883
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -   active_bin_index: 3
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -   num_bins: 69
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -   price_factor: 1.01
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -   bin_step: 100
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG - SOL converted (sum of first 3 bins): 0.9432579759926822
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG - 
Calculating token values for 3 activated bins:
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG - 
  Bin 0:
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.3237067597588068
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.004987562112089
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.697333151370542e-02 = 2.683946800000000e-02 * 1.004987562112089
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.200099289160214e+01 = 0.3237067597588068 / 2.697333151370542e-02
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     Final value: 3.339916885088849e-01 = 1.200099289160214e+01 * 2.783033800000000e-02
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.339916885088849e-01 = 0.3237067597588068 * (2.783033800000000e-02 / 2.697333151370542e-02)
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG - 
  Bin 1:
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.3143259842813674
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.0150374377332099
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.724306482884248e-02 = 2.683946800000000e-02 * 1.0150374377332099
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.153783490426480e+01 = 0.3143259842813674 / 2.724306482884248e-02
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     Final value: 3.211018451738869e-01 = 1.153783490426480e+01 * 2.783033800000000e-02
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.211018451738869e-01 = 0.3143259842813674 * (2.783033800000000e-02 / 2.724306482884248e-02)
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG - 
  Bin 2:
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     SOL in bin: 0.3052252319525081
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     Price factor for bin: 1.025187812110542
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     Avg bin price: 2.751549547713090e-02 = 2.683946800000000e-02 * 1.025187812110542
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     Tokens bought: 1.109284883516604e+01 = 0.3052252319525081 / 2.751549547713090e-02
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     Final value: 3.087177324655773e-01 = 1.109284883516604e+01 * 2.783033800000000e-02
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     Alt calculation: 3.087177324655773e-01 = 0.3052252319525081 * (2.783033800000000e-02 / 2.751549547713090e-02)
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG - 
Remaining SOL (not converted): 14.056742024007317 = 15.0 - 0.9432579759926822
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG - 
Final calculations:
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -   Total token value: 9.638112661483492e-01
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -   Remaining SOL: 14.056742024007317
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -   Final asset value: 1.502055329015567e+01
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -   Initial SOL: 15.0
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -   PnL from assets: 2.055329015566620e-02
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG - ================================================================================
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG - 
Simulation results:
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -   1-Sided Spot:
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     PnL: 2.908076740430353e-02
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.500000000000000e-02
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     PnL from IL: 1.408076740430353e-02
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -   1-Sided Bid-Ask:
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     PnL: 3.105329015566620e-02
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     PnL from fees: 1.050000000000000e-02
2025-07-15 17:58:17,400 - DEEP_DEBUG - DEBUG -     PnL from IL: 2.055329015566620e-02
